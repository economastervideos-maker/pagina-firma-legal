;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="136b967e-d5fe-19e6-020e-3f2a9a70b3fd")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,854760,e=>{"use strict";function n(e){return e.split(/[_.]/g).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}).join(" ")}function r(e,n){if(!e||!n)return null;var r,t=e.toLowerCase(),i=n.find(function(e){return e.connectorName.toLowerCase()===t});return null!=(r=null==i?void 0:i.iconPath)?r:null}e.s(["formatOpenIntWebhookEventName",()=>n,"getConnectorIconUrl",()=>r])},835812,364674,e=>{"use strict";var n=e.i(878420),r=e.i(569384),t=e.i(973245),i=e.i(951262),a=e.i(304277);e.i(566901);var o=e.i(279042),s=e.i(655366);function l(){var e=(0,r._)(["\n  mutation CreateAgentReplCreateRepl($input: CreateReplInput!) {\n    createRepl(input: $input, isTitleAutoGenerated: false) {\n      ... on Repl {\n        id\n        title\n        ...ReplLinkRepl\n        ...CrosisContextRepl\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n  ","\n"]);return l=function(){return e},e}function u(){var e=(0,r._)(["\n  query CreateAgentReplCurrentUser {\n    currentUser {\n      id\n      username\n      ...CrosisContextCurrentUser\n      replCount {\n        ... on ReplCount {\n          count\n        }\n      }\n    }\n  }\n  ","\n"]);return u=function(){return e},e}var c={},d=(0,t.gql)(l(),o.ReplLinkReplFragmentDoc,s.CrosisContextReplFragmentDoc);function p(e){var r=(0,n._)({},c,e);return i.useMutation(d,r)}var g=(0,t.gql)(u(),s.CrosisContextCurrentUserFragmentDoc);function m(e){var r=(0,n._)({},c,e);return a.useQuery(g,r)}e.s(["useCreateAgentReplCreateReplMutation",()=>p,"useCreateAgentReplCurrentUserQuery",()=>m],835812);var f=e.i(297083),h=e.i(817556),x=e.i(435106),_=e.i(910951),v=e.i(576106),y=e.i(188507);e.i(877212);var T=e.i(600637),C=e.i(267710),j=e.i(805763),w=e.i(63846),b=e.i(709485),A=e.i(993796),S=e.i(441329),k=e.i(858248),R=e.i(509908);function I(e){var r=e.currentUserUsername,t=e.currentUserEmail,i=e.currentUserTimeCreated,a=e.updatePromptConnectionStatus,o=(0,A.useFlag)({controlName:"flag-repl-creation-slack-bot-events"}),s=(0,S.useIsInBonsaiWebview)();return function(e){return(0,f._)(function(e){var l,u,c,d,p,g,m,A,S,I,E,O,U,D,P,B,V,N,M;return(0,h._)(this,function(F){switch(F.label){case 0:return l=e.prompt,u=e.uploadedFiles,c=e.requestedStackBlueprint,d=e.agentStackTriggerType,p=e.replId,g=e.currentUserId,m=e.orgId,A=e.customStackReplId,S=e.themeConfig,I=e.initialBuildMode,E=e.agentChatMode,O=e.agentStackPlatformType,U=(0,x.createClientId)({currentUserId:g}),(D=new x.ChatConnection({clientId:U,serverId:T.AI_CHAT_SERVER_ID,connectImmediately:!0,getEndpoint:function(){return(0,f._)(function(){var e,n;return(0,h._)(this,function(r){switch(r.label){case 0:return[4,(0,C.auth)(p,U,m)];case 1:return e=r.sent(),(n=new URL((0,w.getAiEndpoint)())).searchParams.set("auth_token",e),[2,n]}})})()},onProtocolError:function(e){throw Error("Failed to send agent prompt. Protocol error: ".concat(e.message))},onRetriesExceeded:function(){throw Error("Unable to connect. Please try again later.")}})).status.subscribe(function(e){a(e)}),P=(0,v.createSessionRequest)({sessionType:y.SessionType.AGENT_SESSION,replId:p}),[4,D.service.createSession.rpc(P)];case 1:if(!(B=F.sent()).ok)throw Error("Failed to send agent prompt. Session creation failed.");return V=B.payload.sessionId,N=B.payload.sessionCreationEventId,M=(0,_.createEventRequest)({session:V,parent:N,model:y.ModelType.ADVANCED,sender:{id:g,membership:y.MembershipType.CORE,timeCreated:new Date(i)},addToChild:!1,data:{kind:"message",message:l,uploadedFiles:u,requestedStackBlueprint:c,agentStackTriggerType:d,intent:y.MessageAction.AGENT,customStackReplId:A,themeConfig:S,agentConfig:{webSearchEnabled:!0,enableAutomatedTesting:!1,imageGenerationEnabled:!0,initialBuildMode:I,agentMode:E}}}),D.service.createEvent.rpc(M.request),(0,k.track)(b.events.START_WITH_AI_USED,(0,n._)({action:"created_agent_session",prompt:l,attachments:u,repl_id:p,username:r,email:t,is_mobile:s,has_agent:!0,send_to_slack_bot:o,session_id:V,langsmith_url:(0,j.generateAiSessionLangSmithUrl)(V,y.SessionType.AGENT_SESSION)},O&&{agentStackPlatformType:O})),(0,R.trackAgentAnalyticsEvent)({action:"created_new_session",sessionId:V}),[2]}})}).apply(this,arguments)}}e.s(["useSendAgentPrompt",()=>I],364674)},2e3,929423,e=>{"use strict";var n=e.i(297083),r=e.i(167626),t=e.i(878420),i=e.i(64386),a=e.i(530658),o=e.i(817556),s=e.i(399528),l=e.i(389959),u=e.i(169252),c=e.i(835812),d=e.i(188507),p=e.i(377772),g=e.i(906368),m=e.i(569384),f=e.i(973245),h=e.i(951262);function x(){var e=(0,m._)(["\n  mutation GenerateAgentReplIcon($prompt: String!, $replId: String!) {\n    generateReplIcon(input: { prompt: $prompt, replId: $replId }) {\n      ... on GenerateReplIconResult {\n        repl {\n          id\n          iconUrl\n        }\n      }\n    }\n  }\n"]);return x=function(){return e},e}var _={},v=(0,f.gql)(x()),y=e.i(364674),T=e.i(993796),C=e.i(650587),j=e.i(222342),w=function(e){var t=e.dbName,i=e.version,a=e.onUpgrade;return(0,n._)(function(){return(0,o._)(this,function(e){return[2,new Promise(function(e,n){var o=indexedDB.open(t,i);o.onerror=function(){var e;return n(Error("Failed to open database: ".concat(null==(e=o.error)?void 0:e.message)))},o.onsuccess=function(){return e(o.result)},a&&(o.onupgradeneeded=function(e){var t=e.target;(0,r._)(t,IDBOpenDBRequest)&&t.result?a(t.result):n(Error("Invalid target during upgrade."))})})]})})()},b=function(e){var r=e.db,t=e.storeName,i=e.mode,a=e.operation;return(0,n._)(function(){return(0,o._)(this,function(e){return[2,new Promise(function(e,n){if(!r.objectStoreNames.contains(t))return n(Error('Object store "'.concat(t,'" does not exist in the database.')));var o=r.transaction([t],i),s=a(o.objectStore(t));s.onsuccess=function(){return e(s.result)},s.onerror=function(){var e;return n(Error("Transaction error: ".concat(null==(e=s.error)?void 0:e.message)))},o.onabort=function(){return n(Error("Transaction was aborted."))},o.onerror=function(){return n(Error("Transaction encountered an error."))}})]})})()},A="LandingPageAgentAttachments",S=null,k=function(){return(0,n._)(function(){return(0,o._)(this,function(e){return S?[2,S]:[2,S=w({dbName:"ReplitAgentAttachments",version:1,onUpgrade:function(e){e.objectStoreNames.contains(A)||e.createObjectStore(A,{keyPath:"id",autoIncrement:!0})}})]})})()},R=function(){return(0,n._)(function(){return(0,o._)(this,function(e){switch(e.label){case 0:return[4,k()];case 1:var n;return[2,b({db:(n={db:e.sent(),storeName:A}).db,storeName:n.storeName,mode:"readonly",operation:function(e){return e.getAll()}})]}})})()},I=function(){return(0,n._)(function(){return(0,o._)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(0,n._)(function(){return(0,o._)(this,function(e){switch(e.label){case 0:return[4,k()];case 1:var n;return[2,b({db:(n={db:e.sent(),storeName:A}).db,storeName:n.storeName,mode:"readwrite",operation:function(e){return e.clear()}})]}})})()];case 1:return e.sent(),[3,3];case 2:return e.sent(),[2];case 3:return[2]}})})()};e.s(["clearAllIndexedDbAttachments",()=>I,"getAllFiles",()=>R],929423);var E=e.i(441329),O=e.i(221586),U=e.i(956111),D=e.i(858248),P=e.i(709485),B=e.i(1324),V=e.i(792e3),N=e.i(170784),M=e.i(122965),F=e.i(534518),L=e.i(399978),z=e.i(445059),G=e.i(170710),q=e.i(185591);function W(e){var m,f,x,w,b,A,S,k=e.currentUser,R=(0,a._)((0,l.useState)("idle"),2),W=R[0],H=R[1],$=(0,U.useQueryParam)("folderId","string"),K=(0,E.useIsInBonsaiWebview)(),Q=(0,j.default)().showError,Y=(0,a._)((0,c.useCreateAgentReplCreateReplMutation)(),1)[0],X=(f=(m=(0,c.useCreateAgentReplCurrentUserQuery)()).data,x=m.error,w=m.loading,x?{loading:!1,currentUser:null,errorCode:500}:(null==f?void 0:f.currentUser)?{loading:!1,currentUser:f.currentUser,errorCode:null}:w?{loading:!0,currentUser:null,errorCode:null}:{loading:!1,currentUser:null,errorCode:403}).currentUser,Z=(0,M.useFlaggedRetrier)(),J=(0,s.useRouter)(),ee=(0,B.default)(),en=(0,T.useFlag)({controlName:"flag-killswitch-agent"}),er=(0,G.useWorkspaceLoadingState)(),et=function(e){H("idle"),Q(e.message),(0,p.sendErrorToSentry)(e),null==er||er.remove()},ei=(0,a._)((0,l.useState)("disconnected"),2),ea=ei[0],eo=ei[1],es=(0,y.useSendAgentPrompt)({currentUserUsername:k.username,currentUserEmail:k.email,currentUserTimeCreated:k.timeCreated,updatePromptConnectionStatus:function(e){eo(e)}}),el=(S=(0,a._)((b={onError:function(e){g.captureException(e)}},A=(0,t._)({},_,b),h.useMutation(v,A)),1)[0],function(e){var n=e.prompt,r=e.attachments,t=e.replId;S({variables:{prompt:n+(r.length>0?"\n\nWith attachments: ".concat(r.map(function(e){return e.path}).join(", ")):""),replId:t}})}),eu=function(e){switch(e){case u.AgentStackPlatformType.Slack:return d.AgentStackTriggerType.SLACK_MESSAGE;case u.AgentStackPlatformType.Telegram:return d.AgentStackTriggerType.TELEGRAM_MESSAGE;case u.AgentStackPlatformType.TimeBased:return d.AgentStackTriggerType.TIME_BASED;case u.AgentStackPlatformType.ConnectorTrigger:return d.AgentStackTriggerType.CONNECTOR_TRIGGER;default:return}},ec="flag-electron-orbital-dance-party",ed=(0,T.useFlag)({controlName:ec}),ep=(0,C.useIsMobile)();return{createAgentRepl:function(e){return(0,n._)(function(e){var a,s,l,c,p,g,m,f,h,x,_,v,y,T,C,j,w,b,A,S,R,E,U,B;return(0,o._)(this,function(M){switch(M.label){case 0:if(a=e.prompt,s=e.attachments,l=e.requestedStackBlueprint,c=e.isPrivate,p=e.teamId,g=e.orgId,m=e.customStackReplId,f=e.isExpertMode,h=e.themeConfig,x=e.initialBuildMode,_=e.appThemeId,v=e.agentStackPlatformType,en)return Q("This feature is currently unavailable."),H("idle"),[2];return(0,O.clearAiPromptLocalStorage)(),[4,I()];case 1:return M.sent(),H("creating_repl"),y=!m&&!f&&!x,T=s&&s.length>0,(C=y&&!ep&&!T)&&(ed&&(null==er||er.start({text:a,attachments:s})),(0,D.track)(P.events.EXPERIMENT_VARIANT_ASSIGNED,{experimentName:ec,variant:ed})),j=l===d.StackBlueprint.STACK_BLUEPRINT_AGENT,w=v&&"string"==typeof v&&v.startsWith("connector-")?u.AgentStackPlatformType.ConnectorTrigger:v,[4,Y({variables:{input:{aiPromptText:a,aiPromptAttachmentPaths:s.map(function(e){return e.path}),folderId:$,isPrivate:c,teamId:p,orgId:g,originId:m,detachFromProject:!!m,isInPlanningPhase:y,isExpertMode:f,isAgentStack:j,agentStackPlatformType:w,isWebDesignMockup:x===d.AgentInitialBuildMode.AGENT_INITIAL_BUILD_MODE_DESIGN}}})];case 2:if((b=M.sent()).errors)return et(Error(b.errors.map(function(e){return e.message}).join(", "))),[2];if(!b.data)return et(Error("Expected data from createRepl graphql mutation")),[2];if("message"in b.data.createRepl)return et(Error(b.data.createRepl.message)),[2];if(A=b.data.createRepl,el({prompt:a,attachments:s,replId:A.id}),ed&&C&&(null==er||er.update(A)),!T)return[3,4];return S=(0,N.createConnectContext)({repl:A,currentUser:X}),(R=(0,V.default)({onUnrecoverableError:function(e){H("idle"),Q(e.message)}})).connect({context:S,getMinimumRetryDelayMs:Z}),H("configuring_repl"),[4,function(e){return(0,n._)(function(e){var n,r,t,i,a;return(0,o._)(this,function(o){switch(o.label){case 0:if(n=e.hasAttachments,r=e.container,t=e.attachments,i=e.handleError,!n)return[2];return a=(0,F.default)({container:r}),[4,(0,L.uploadFiles)({parentPath:z.ATTACHED_ASSETS_PATH,files:t.map(function(e){return e.file}),fs:a,onError:function(e){i(Error("Error uploading ".concat(e.path,": ").concat(e.error)))}})];case 1:return o.sent(),[2]}})}).apply(this,arguments)}({hasAttachments:T,attachments:s,container:R,handleError:et})];case 3:M.sent(),M.label=4;case 4:return M.trys.push([4,6,,7]),[4,es({prompt:a,uploadedFiles:s.map(function(e){return{path:e.path,mimeType:e.file.type}}),requestedStackBlueprint:l,agentStackTriggerType:eu(w),replId:A.id,currentUserId:k.id,orgId:g,customStackReplId:m,themeConfig:h,initialBuildMode:x,agentChatMode:y?d.AgentMode.AGENT_MODE_INITIAL_PLANNING:d.AgentMode.AGENT_MODE_GENERAL,agentStackPlatformType:w})];case 5:return M.sent(),[3,7];case 6:return E=M.sent(),et((0,r._)(E,Error)?E:Error(String(E))),[2];case 7:if(H("opening_repl"),U={enterInAgentMode:!x,enterInExpertMode:f,appThemeId:_},B=(0,q.replLinkProps)(A,U),!K)return[3,8];return window.location.href=(0,q.replLinkFullUrl)(A,U),[3,10];case 8:return[4,J.push((0,i._)((0,t._)({},B.href),{pathname:ee}),B.as)];case 9:M.sent(),M.label=10;case 10:return H("idle"),[2]}})}).apply(this,arguments)},status:W,agentPromptRiverConnectionStatus:ea}}e.s(["useCreateAgentRepl",()=>W],2e3)},286700,e=>{e.v({agentInput:"index-module__p2_exq__agentInput","enter-fade-in-up":"index-module__p2_exq__enter-fade-in-up",label:"index-module__p2_exq__label"})},883426,e=>{e.v({"enter-fade-in-up":"index-module__oPk4ZG__enter-fade-in-up",owner:"index-module__oPk4ZG__owner"})},194234,e=>{"use strict";var n=e.i(276385),r=e.i(813190);e.i(877212);var t=e.i(204203),i=e.i(297083),a=e.i(721281),o=e.i(530658),s=e.i(817556),l=e.i(399528),u=e.i(389959),c=e.i(188507),d=e.i(596139),p=e.i(527587),g=e.i(3931),m=e.i(568175),f=e.i(284058),h=e.i(565835),x=e.i(135958),_=e.i(175195),v=e.i(2e3),y=e.i(262522),T=e.i(298435),C=/hsl\(\s*([+-]?\d*\.?\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*\)/g,j=e.i(968783),w=e.i(673920),b=e.i(993796),A=e.i(123111),S=e.i(858248),k=e.i(709485),R=e.i(66830),I=e.i(376847),E=e.i(446530),O=e.i(613355),U=e.i(140487),D=e.i(960178),P=e.i(625484),B=e.i(788124),V=e.i(940745),N=e.i(249622),M=e.i(286700),F=(0,E.cssRecord)({centeredTitle:[O.rcss.center,O.rcss.py(12),(0,a._)({},O.media.max("tabletMin"),[O.rcss.py(0)])],label:[O.rcss.flex.column,O.rcss.gap(6)],title:[(0,a._)({},O.media.max("tabletMin"),[O.rcss.fontSize(18)])],submitButton:[(0,a._)({},O.media.max("tabletMin"),{"div span":[O.rcss.display.none],"div svg":[O.rcss.mr(0)]})]});function L(e){var r,t,a=e.initialPrompt,E=e.currentUser,O=e.onUpsell,L=(0,l.useRouter)(),z=(0,j.useCurrentUserStoredOrgContext)().orgId,G=(0,o._)((0,y.useOwner)(E,z,{includeLegacyTeams:!1}),1)[0],q=(0,T.usePrivate)(G,void 0).isPrivate,W=(0,_.useBillingBudgetStatus)(),H=(0,x.useAgentReplCreationAccess)(G,W),$=(0,v.useCreateAgentRepl)({currentUser:E}),K=$.createAgentRepl,Q=$.status,Y=$.agentPromptRiverConnectionStatus,X=(0,m.default)({createReplStatus:Q}),Z="/new"===L.pathname,J=!!(0,f.useDesignStackVariant)(),ee=function(e){var n=e.message,r=e.attachments,t=e.requestedStackBlueprint,a=e.customStackReplId,o=e.isExpertMode,l=e.themeConfig,u=e.appThemeId,d=e.agentStackPlatformType;return(0,i._)(function(){var e,i;return(0,s._)(this,function(s){var p;return e=(p=null!=l?l:"")?p.replace(C,"hsl($1 $2 $3)"):p,i=J&&"Design"===eu.key?c.AgentInitialBuildMode.AGENT_INITIAL_BUILD_MODE_DESIGN:void 0,K({prompt:n,attachments:null!=r?r:[],requestedStackBlueprint:t,isPrivate:q,teamId:"Team"===G.__typename?G.id:void 0,orgId:"Org"===G.__typename?G.id:void 0,customStackReplId:a,isExpertMode:o,themeConfig:e,appThemeId:u,agentStackPlatformType:d,initialBuildMode:i}),[2]})})()},en=(0,o._)((0,u.useState)(null),2),er=en[0],et=en[1];(0,u.useEffect)(function(){var e=function(){L.query.create&&(null==er||er.animatePlaceholder(),null==er||er.animateBorder())};return L.events.on("routeChangeComplete",e),function(){L.events.off("routeChangeComplete",e)}},[er,L]);var ei=(0,A.default)();(0,u.useEffect)(function(){!ei&&er&&er.focus()},[er,ei]),(0,u.useEffect)(function(){a&&er&&er.setValue(a)},[a,er]);var ea=!H.loading&&!H.hasAccess,eo=(0,b.useFlag)({controlName:"flag-spice-melange",type:"string",default:d.DEFAULT_SPICE_MELANGE_TIER});(0,w.useEffectOnce)(function(){(0,S.track)(k.events.EXPERIMENT_VARIANT_ASSIGNED,{experimentName:"flag-spice-melange",variant:eo})});var es=(0,b.useFlag)({controlName:"flag-top-portkey"});(0,w.useEffectOnce)(function(){(0,S.track)(k.events.EXPERIMENT_VARIANT_ASSIGNED,{experimentName:"flag-top-portkey",variant:es})});var el=(0,h.useSelectedStack)(),eu=el.selectedStack,ec=el.onSelectedStackChanged,ed="Describe your app idea, '/' for integrations…";return"Design"===eu.key?ed="Describe the idea you want to build…":z&&(ed="Describe the idea you want to build…"),(0,n.jsxs)(P.View,{gap:12,children:[(0,n.jsx)(I.default,{isOpen:"error"===Y||"closed"===Y,text:"Unable to establish a connection to the AI service. Please refresh the page to continue.",disableHomeButton:!0}),Z?null:(0,n.jsx)(P.View,{css:F.centeredTitle,row:!0,align:"center",gap:12,children:(0,n.jsx)("label",{htmlFor:"ai-prompt-input",className:M.default.label,css:F.label,children:(0,n.jsxs)(D.Header,{css:F.title,level:1,variant:"headerDefault",children:["Hi ",null!=(t=null==(r=E.firstName)?void 0:r.trim())?t:"@"+E.username,", what do you want to make?"]})})}),(0,n.jsx)(B.default,{children:(0,n.jsx)(R.AiChatAttachmentsProvider,{children:(0,n.jsx)(g.default,{className:M.default.agentInput,inputRef:et,persistenceKey:"start-with-ai-input-".concat(E.id),minHeight:84,onSubmit:function(e){return(0,i._)(function(){return(0,s._)(this,function(n){switch(n.label){case 0:return(0,S.track)(k.events.START_WITH_AI_USED,{action:"prompt_submitted",prompt:e.message,attachments_count:e.attachments.length,agent_stack_platform_type:e.agentStackPlatformType,time_taken:e.timeTaken}),[4,ee(e)];case 1:return n.sent(),[2]}})})()},isPrivate:q,placeholderText:ed,disableClearOnSubmit:!0,status:"idle"!==Q||H.loading||"connecting"===Y?"loading":"composing",isSubmitDisabled:!H.hasAccess||"error"===Y||"connecting"===Y,submitDisabledReason:H.loading?"Loading...":H.hasAccess?null:H.accessDeniedReason,onUpsell:O,overlay:ea?(0,n.jsx)(p.AgentEntryPointOverlay,{agentAccessDeniedReason:H.accessDeniedReason,owner:G,usageInfo:W,currentUserId:E.id}):void 0,renderSubmitButton:function(e){var r=e.onSubmit,t=e.disabled;return(0,n.jsx)(U.Button,{text:X,colorway:"primary",dataCy:"ai-prompt-submit",iconLeft:X.startsWith("Start")&&"connecting"!==Y?(0,n.jsx)(N.default,{}):(0,n.jsx)(V.default,{}),css:F.submitButton,onClick:r,disabled:t||!H.hasAccess})},onFirstEdit:function(){(0,S.track)(k.events.START_WITH_AI_USED,{action:"agent_input_edited"})},selectedStack:eu,onSelectedStackChanged:ec})})})]})}var z=e.i(58261),G=e.i(978486),q=e.i(164410),W=e.i(396776),H=e.i(883426),$=(0,E.cssRecord)({loadingAndErrorWrapper:[O.rcss.display.flex,O.rcss.flex.growAndShrink(1),O.rcss.center,O.rcss.minHeight(200)]});function K(e){var i=e.initialPrompt,a=e.onUpsell,o=e.owner,s=(0,r.useStartWithAiQuery)(),l=s.data,u=s.loading,c=s.error;(0,z.useConnectorContext)(),(0,q.useIsModelfarmEnabled)();var d=(0,G.useGetAgentQueryPrompt)().aiPrompt;if(u)return(0,n.jsx)(P.View,{css:$.loadingAndErrorWrapper,children:(0,n.jsx)(V.default,{})});if(c||!l||!l.currentUser)return(0,n.jsx)(Q,{message:"Something went wrong."});var p=l.currentUser;return(0,n.jsxs)(t.AiProvider,{currentUser:p,replId:null,hasAccessToAdvancedModel:!0,renderEmptyState:function(){return(0,n.jsx)("div",{style:{height:298}})},children:[o?(0,n.jsx)(P.View,{align:"center",className:H.default.owner,children:o}):null,(0,n.jsx)(L,{initialPrompt:null!=i?i:""!==d?d:void 0,currentUser:p,onUpsell:a})]})}function Q(e){var r=e.message;return(0,n.jsx)(P.View,{css:$.loadingAndErrorWrapper,children:(0,n.jsx)(P.View,{children:(0,n.jsx)(W.StatusBanner,{colorway:"red",text:r})})})}e.s(["StartWithAi",()=>K],194234)},26124,e=>{"use strict";var n=e.i(530658),r=e.i(276385),t=e.i(651739),i=e.i(222342),a=e.i(557862);function o(e){var o=e.repl,s=e.onDeleteRequested,l=e.onDone,u=(0,i.default)(),c=u.showConfirm,d=u.showError,p=(0,n._)((0,t.useDeleteReplDialogReplDeleteMutation)({onCompleted:function(e){"Repl"===e.deleteRepl.__typename?(c("App scheduled for deletion"),null==s||s(),null==l||l()):d("Something went wrong")},onError:function(e){return d(e.message)},variables:{id:o.id},update:function(e,n){var r;(null==(r=n.data)?void 0:r.deleteRepl.id)&&(e.evict({id:e.identify(n.data.deleteRepl)}),e.gc())}}),2),g=p[0],m=p[1];return(0,r.jsx)(a.default,{name:o.title,entityType:"App",isDeleting:m.loading,delete:function(){m.loading||g()},hideModal:function(){return null==l?void 0:l()}})}e.s(["DeleteReplDialog",()=>o])},972777,e=>{"use strict";var n=e.i(297083),r=e.i(530658),t=e.i(817556),i=e.i(276385),a=e.i(389959),o=e.i(532049),s=e.i(222342),l=e.i(664152),u=e.i(714165),c=e.i(140487),d=e.i(85742),p=e.i(12034),g=e.i(960178),m=e.i(625484),f=e.i(940745),h=e.i(14868);function x(e){var x=e.repl,_=e.onDone,v="org-select-".concat((0,a.useId)()),y=(0,r._)((0,a.useState)(""),2),T=y[0],C=y[1],j=(0,s.default)(),w=j.showError,b=j.showConfirm,A=(0,o.useTransferReplToOrgDialogOrgsQuery)(),S=A.data,k=A.loading,R=A.error,I=(0,r._)((0,o.useTransferReplToOrgDialogTransferMutation)(),2),E=I[0],O=I[1].loading,U=(null==S||null==(V=S.currentUser)||null==(B=V.orgs)?void 0:B.__typename)==="CurrentUserOrganizationConnection"?S.currentUser.orgs.items.map(function(e){var n;return{id:e.org.id,name:e.org.name,slug:e.org.slug,image:null!=(n=e.org.image)?n:null}}):[],D=U.find(function(e){return e.id===T}),P=function(){_()};if(k)return(0,i.jsxs)(m.View,{gap:24,align:"center",children:[(0,i.jsxs)(g.Header,{variant:"subheadDefault",level:2,children:["Transfer ",x.title," to Organization"]}),(0,i.jsx)(f.default,{})]});if(R||(null==S||null==(M=S.currentUser)||null==(N=M.orgs)?void 0:N.__typename)!=="CurrentUserOrganizationConnection"&&(null==S||null==(L=S.currentUser)||null==(F=L.orgs)?void 0:F.__typename)){var B,V,N,M,F,L,z,G,q,W,H=(null==R?void 0:R.message)||((null==S||null==(G=S.currentUser)||null==(z=G.orgs)?void 0:z.__typename)==="NotFoundError"||(null==S||null==(W=S.currentUser)||null==(q=W.orgs)?void 0:q.__typename)==="UserError"?S.currentUser.orgs.message:"Failed to load organizations");return(0,i.jsxs)(m.View,{gap:24,children:[(0,i.jsxs)(g.Header,{variant:"subheadDefault",level:2,children:["Transfer ",x.title," to Organization"]}),(0,i.jsx)(g.Text,{children:H}),(0,i.jsx)(m.View,{row:!0,gap:12,justify:"end",children:(0,i.jsx)(c.Button,{text:"Close",onClick:P})})]})}return 0===U.length?(0,i.jsxs)(m.View,{gap:24,children:[(0,i.jsxs)(g.Header,{variant:"subheadDefault",level:2,children:["Transfer ",x.title," to Organization"]}),(0,i.jsx)(g.Text,{children:"You don't belong to any organizations. You need to be a member of an organization to transfer repls to it."}),(0,i.jsx)(m.View,{row:!0,gap:12,justify:"end",children:(0,i.jsx)(c.Button,{text:"Close",onClick:P})})]}):(0,i.jsxs)(m.View,{gap:24,children:[(0,i.jsxs)(g.Header,{variant:"subheadDefault",level:2,children:["Transfer ",x.title," to Organization"]}),(0,i.jsxs)(m.View,{gap:8,children:[(0,i.jsxs)(g.Text,{children:['Select an organization to transfer "',x.title,'" to. This action is irreversible and the app will no longer belong to you.']}),(0,i.jsxs)(m.View,{gap:4,children:[(0,i.jsx)("label",{htmlFor:v,children:(0,i.jsx)(g.Text,{color:"dimmer",variant:"small",children:"Destination Organization"})}),(0,i.jsx)(p.Select,{id:v,"aria-label":"Select organization",placeholder:"Choose an organization...",selectedKey:T,onSelectionChange:function(e){return C(e)},isDisabled:O,children:U.map(function(e){return(0,i.jsx)(d.ListBoxItem,{id:e.id,label:"".concat(e.name," (@").concat(e.slug,")"),icon:(0,i.jsx)(u.Avatar,{src:e.image,size:16,username:e.name,isOrg:!0})},e.id)})})]}),(0,i.jsx)(g.Text,{color:"dimmer",variant:"small",children:"The transfer occurs in the background and may take some time to complete."})]}),(0,i.jsxs)(m.View,{row:!0,gap:12,justify:"end",children:[(0,i.jsx)(c.Button,{text:"Cancel",onClick:P,disabled:O}),(0,i.jsx)(c.Button,{dataCy:"transfer-repl-to-org-dialog-confirm-button",disabled:O||!T,iconLeft:O?(0,i.jsx)(f.default,{}):(0,i.jsx)(h.default,{}),onClick:function(){return(0,n._)(function(){var e,n,r;return(0,t._)(this,function(t){switch(t.label){case 0:if(!D)return w("Please select an organization"),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,E({variables:{orgId:D.id,replIds:[x.id]}})];case 2:return(null==(n=null==(e=t.sent().data)?void 0:e.transferReplToOrganization)?void 0:n.__typename)==="TransferReplToOrganizationSuccess"?(b('Successfully started transfer of "'.concat(x.title,'" to ').concat(D.name,".")),_()):(null==n?void 0:n.__typename)==="UserError"||(null==n?void 0:n.__typename)==="TooManyRequestsError"?w(n.message||"Failed to transfer repl"):w("Unexpected response from server"),[3,4];case 3:return r=t.sent(),w("Failed to transfer repl. Please try again."),l.logger.error("Replit TransferReplToOrgDialog error:",r),[3,4];case 4:return[2]}})})()},text:"Transfer to Organization",colorway:"primary"})]})]})}e.s(["TransferReplToOrgDialog",()=>x])},732955,e=>{"use strict";var n,r,t=e.i(878420),i=e.i(530658),a=e.i(346715),o=e.i(276385),s=e.i(389959),l=e.i(169252),u=e.i(997931),c=e.i(47503),d=e.i(968783),p=e.i(222342),g=e.i(187505),m=e.i(773240),f=e.i(26124),h=e.i(236379),x=e.i(297083),_=e.i(817556),v=e.i(569384),y=e.i(973245),T=e.i(951262);function C(){var e=(0,v._)(["\n  fragment TransferReplWithinOrgDialogRepl on Repl {\n    id\n    title\n    org {\n      id\n    }\n  }\n"]);return C=function(){return e},e}function j(){var e=(0,v._)(["\n  mutation TransferReplWithinOrgDialogTransfer(\n    $input: TransferReplWithinOrgInput!\n  ) {\n    transferReplWithinOrg(input: $input) {\n      ... on Repl {\n        id\n        user {\n          id\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return j=function(){return e},e}var w={};(0,y.gql)(C());var b=(0,y.gql)(j()),A=e.i(306694),S=e.i(140487),k=e.i(960178),R=e.i(625484),I=e.i(940745),E=e.i(652219);function O(e){var n,r=e.repl,a=e.orgId,u=e.hideModal,c="group-search-".concat((0,s.useId)()),d=(0,i._)((0,s.useState)(),2),g=d[0],m=d[1],f=(0,i._)((0,s.useState)(""),2),h=f[0],v=f[1],y=(0,p.default)(),C=y.showError,j=y.showConfirm,O=(0,i._)((n=(0,t._)({},w,void 0),T.useMutation(b,n)),2),U=O[0],D=O[1].loading;return(0,o.jsxs)(R.View,{gap:24,children:[(0,o.jsxs)(k.Header,{variant:"subheadDefault",level:2,children:["Transfer ownership of ",r.title]}),(0,o.jsxs)(R.View,{gap:8,children:[(0,o.jsxs)(k.Text,{children:["Select another member of your organization to transfer to. The selected user will become the primary owner of ",r.title," and will be displayed as the app creator in your organization's app directory."]}),(0,o.jsx)(R.View,{grow:!0,shrink:!0,children:(0,o.jsx)(A.default,{inputId:c,orgId:a,types:[l.OrgGroupType.SystemIndividual],selectedGroups:g?[g]:[],value:h,setValue:v,onSelect:function(e){m(e),v(e.name)},onClear:function(){return m(void 0)},placeholder:"Select a user"})})]}),(0,o.jsxs)(R.View,{row:!0,gap:12,justify:"end",children:[(0,o.jsx)(S.Button,{text:"Cancel",onClick:u}),(0,o.jsx)(S.Button,{dataCy:"transfer-repl-dialog-confirm-button",disabled:D||!g,iconLeft:D?(0,o.jsx)(I.default,{}):(0,o.jsx)(E.default,{}),onClick:function(){return(0,x._)(function(){var e,n,t;return(0,_._)(this,function(i){switch(i.label){case 0:if(!g)return[2];return[4,U({variables:{input:{replId:r.id,newOwnerOrgGroupId:g.id}}})];case 1:return(null==(e=(n=i.sent()).data)?void 0:e.transferReplWithinOrg.__typename)==="Repl"?(j("Repl transferred successfully"),u()):C(null==(t=n.data)?void 0:t.transferReplWithinOrg.message),[2]}})})()},text:"Transfer app",colorway:"primary"})]})]})}var U=e.i(136540),D=e.i(601059),P=e.i(739521),B=e.i(464092),V=e.i(185591),N=e.i(972777),M=e.i(283023),F=e.i(841691),L=e.i(406345),z=e.i(196353),G=e.i(592877),q=e.i(545124),W=e.i(703505),H=e.i(14868),$=((n=$||{}).CoverPage="CoverPage",n.Delete="Delete",n.Edit="Edit",n.TransferWithinOrg="TransferWithinOrg",n.TransferPersonalToOrg="TransferPersonalToOrg",n.Fork="Fork",n.Feature="Feature",n.MarkAsStack="MarkAsStack",n.UnmarkAsStack="UnmarkAsStack",n),K=((r=K||{}).Delete="Delete",r.Edit="Edit",r.Fork="Fork",r.Feature="Feature",r.TransferWithinOrg="TransferWithinOrg",r.TransferPersonalToOrg="TransferPersonalToOrg",r.MarkAsStack="MarkAsStack",r.UnmarkAsStack="UnmarkAsStack",r);function Q(e){var n,r,x,_,v,y=e.repl,T=e.onDeleteRequested,C=(0,g.useTrackClick)().trackClick,j=(0,i._)((0,s.useState)(null),2),w=j[0],b=j[1],A=(0,c.useCurrentUserId)(),S=(0,B.useForkContext)(),k=S.fork,R=S.isForking,I=(0,d.useCurrentUserStoredOrgContext)().orgRole,$=(0,p.default)(),K=$.showNotice,Q=$.showError,Y=(0,d.useIsCurrentOrgEnterprise)(),X=(0,i._)((0,u.useAddOrgStackTemplateMutation)({onCompleted:function(e){var n,r;(null==(n=e.addOrgStackTemplate)?void 0:n.success)?K(e.addOrgStackTemplate.message||"Successfully pinned template"):Q((null==(r=e.addOrgStackTemplate)?void 0:r.message)||"Failed to pin template")},onError:function(e){Q("Error pinning template: ".concat(e.message))}}),2),Z=X[0],J=X[1].loading,ee=(0,i._)((0,u.useRemoveOrgStackTemplateMutation)({onCompleted:function(e){var n,r,t;(null==(n=e.removeOrgStackTemplate)?void 0:n.success)?K((null==(r=e.removeOrgStackTemplate)?void 0:r.message)||"Successfully removed pinned template"):Q((null==(t=e.removeOrgStackTemplate)?void 0:t.message)||"Failed to remove pinned template")},onError:function(e){Q("Error removing pinned template: ".concat(e.message))}}),2),en=ee[0],er=ee[1].loading,et=y.authorizations,ei=(null==(n=y.org)?void 0:n.__typename)==="Org",ea=(null==(r=y.owner)?void 0:r.id)===A,eo=I===l.SystemOrgGroupType.SystemAdmins,es=ei&&Y&&eo,el=[{label:"Cover page",value:"CoverPage",link:(0,V.replViewLinkProps)(y),icon:(0,o.jsx)(F.default,{})},{label:"Edit details",value:"Edit",icon:(0,o.jsx)(M.default,{})}].concat((0,a._)(ei&&(ea||eo)?[{label:"Transfer Owner",value:"TransferWithinOrg",icon:(0,o.jsx)(E.default,{})}]:[]),(0,a._)(ea&&!ei?[{label:"Transfer To Organization",value:"TransferPersonalToOrg",icon:(0,o.jsx)(H.default,{})}]:[]),(0,a._)(et.fork.isAuthorized?[{label:"Remix",value:"Fork",icon:(0,o.jsx)(G.default,{})}]:[]),(0,a._)(ei&&!y.isPrivate?[{label:y.isFeaturedRepl?"Remove from Featured Apps":"Feature on Profile",value:"Feature",icon:(0,o.jsx)(q.default,{})}]:[]),(0,a._)(es&&!y.isStackTemplate?[{label:"Pin to Agent input box",value:"MarkAsStack",icon:(0,o.jsx)(L.default,{})}]:[]),(0,a._)(es&&y.isStackTemplate?[{label:"Unpin from Agent input box",value:"UnmarkAsStack",icon:(0,o.jsx)(L.default,{})}]:[]),(0,a._)(et.deleteRepl.isAuthorized?[{label:"Delete",value:"Delete",isDestructive:!0,icon:(0,o.jsx)(W.default,{})}]:[]));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.PopupMenu,{trigger:(0,o.jsx)(U.IconButton,{tooltipBehavior:"hidden",size:24,alt:"App Actions",children:(0,o.jsx)(z.default,{size:16})}),onAction:function(e){var n,r;switch(e){case"CoverPage":break;case"Edit":b("Edit");break;case"TransferWithinOrg":b("TransferWithinOrg");break;case"TransferPersonalToOrg":b("TransferPersonalToOrg");break;case"Delete":b("Delete");break;case"Fork":R||k();break;case"Feature":b("Feature");break;case"MarkAsStack":(null==(n=y.org)?void 0:n.id)&&!J&&(C({productArea:"design_systems",target:"pin_app_to_agent_input_menu_item"}),Z({variables:{orgId:y.org.id,replId:y.id}}));break;case"UnmarkAsStack":(null==(r=y.org)?void 0:r.id)&&!er&&(C({productArea:"design_systems",target:"unpin_app_from_agent_input_menu_item"}),en({variables:{orgId:y.org.id,replId:y.id}}))}},children:el.map(function(e){return(0,o.jsx)(D.MenuItem,(0,t._)({id:e.value,label:e.label,icon:e.icon,isDestructive:e.isDestructive},e.link?{href:e.link.href,as:e.link.as}:{}),e.value)})}),(0,o.jsx)(P.Modal,{isOpen:"Delete"===w,onRequestClose:function(){return b(null)},children:(0,o.jsx)(f.DeleteReplDialog,{repl:y,onDone:function(){return b(null)},onDeleteRequested:T})}),(0,o.jsx)(P.Modal,{isOpen:"Edit"===w,onRequestClose:function(){return b(null)},children:(0,o.jsx)(h.EditReplForm,{repl:y,onDone:function(){return b(null)}})}),(null==(x=y.org)?void 0:x.id)?(0,o.jsx)(P.Modal,{isOpen:"TransferWithinOrg"===w,onRequestClose:function(){return b(null)},children:(0,o.jsx)(O,{repl:y,orgId:null==(_=y.org)?void 0:_.id,hideModal:function(){return b(null)}})}):null,(0,o.jsx)(P.Modal,{isOpen:"TransferPersonalToOrg"===w,onRequestClose:function(){return b(null)},children:(0,o.jsx)(N.TransferReplToOrgDialog,{repl:y,onDone:function(){return b(null)}})}),(0,o.jsx)(P.Modal,{isOpen:"Feature"===w,onRequestClose:function(){return b(null)},centered:!0,maxWidth:650,children:(0,o.jsx)(m.default,{isFeatured:y.isFeaturedRepl,repl:y,orgId:null==(v=y.org)?void 0:v.id,onCompleted:function(){return b(null)}})})]})}function Y(e){var n=e.repl,r=e.trackingContext,t=e.onDeleteRequested;return(0,o.jsx)(B.ForkContextProvider,{forkParams:{trackingData:{forkSource:r}},repl:n,children:(0,o.jsx)(Q,{repl:n,onDeleteRequested:t})})}e.s(["ReplActions",()=>Y],732955)},306694,915598,e=>{"use strict";var n=e.i(878420),r=e.i(64386),t=e.i(530658),i=e.i(346715),a=e.i(276385),o=e.i(389959),s=e.i(888136),l=e.i(368964),u=e.i(569384),c=e.i(973245),d=e.i(304277);e.i(566901);var p=e.i(732947);function g(){var e=(0,u._)(["\n  fragment OrgGroupsOrg on Org {\n    ...OrgMetadata\n    authorizations {\n      createOrgGroup {\n        isAuthorized\n        message\n      }\n    }\n  }\n  ","\n"]);return g=function(){return e},e}function m(){var e=(0,u._)(["\n  fragment OrgGroupsOrgGroup on OrgGroup {\n    id\n    slug\n    type\n    name\n    color\n    isMember\n    memberCount\n    individualMember {\n      user {\n        id\n        displayName\n        image\n      }\n      email\n    }\n    permissions {\n      editPermissions\n      viewPermissions\n    }\n  }\n"]);return m=function(){return e},e}function f(){var e=(0,u._)(["\n  query OrgGroups($orgId: String, $input: OrgGroupsInput) {\n    currentUser {\n      __typename\n      id\n      org(orgId: $orgId) {\n        __typename\n        ... on Org {\n          id\n          groups(input: $input) {\n            __typename\n            ... on OrgGroupConnection {\n              pageInfo {\n                hasNextPage\n                nextCursor\n              }\n              items {\n                ...OrgGroupsOrgGroup\n              }\n            }\n            ... on UserError {\n              message\n            }\n          }\n        }\n        ... on NotFoundError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}var h={},x=(0,c.gql)(g(),p.OrgMetadataFragmentDoc),_=(0,c.gql)(m()),v=(0,c.gql)(f(),_);function y(e){var r=(0,n._)({},h,e);return d.useQuery(v,r)}function T(){var e=(0,u._)(["\n  query OrgGroupSearch($orgId: String, $input: OrgGroupsInput) {\n    currentUser {\n      __typename\n      id\n      org(orgId: $orgId) {\n        __typename\n        ... on Org {\n          id\n          groups(input: $input) {\n            __typename\n            ... on OrgGroupConnection {\n              pageInfo {\n                hasNextPage\n                nextCursor\n              }\n              items {\n                ...OrgGroupsOrgGroup\n              }\n            }\n            ... on UserError {\n              message\n            }\n          }\n        }\n        ... on NotFoundError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return T=function(){return e},e}e.s(["OrgGroupsOrgFragmentDoc",()=>x,"OrgGroupsOrgGroupFragmentDoc",()=>_,"useOrgGroupsQuery",()=>y],915598);var C={},j=(0,c.gql)(T(),_),w=e.i(162914),b=e.i(480028),A=e.i(446530),S=e.i(613355),k=e.i(714165),R=e.i(136540),I=e.i(607278),E=e.i(396776),O=e.i(960178),U=e.i(625484),D=e.i(283110),P=e.i(940745),B=e.i(793579),V=e.i(652219),N=[S.rcss.p(8),S.rcss.cursor.pointer],M=(0,A.cssRecord)({container:[S.rcss.position.relative],rightIcon:[S.rcss.position.absolute,S.rcss.right(8),S.rcss.top("50%"),{transform:"translateY(-50%)"}],dropdownMenu:[S.rcss.width("100%"),S.rcss.position.absolute,S.rcss.zIndex(1),S.rcss.top("100%"),S.rcss.left(0),S.rcss.backgroundColor.backgroundDefault,S.rcss.maxHeight(300),S.rcss.overflow("auto"),S.rcss.borderRadius(4),S.rcss.border({color:b.tokens.foregroundDimmest}),{borderTop:"0 none"}],result:(0,i._)(N),activeResult:(0,i._)(N).concat([S.rcss.backgroundColor.accentPrimaryDimmer]),closeIconButton:[{"&:hover":{backgroundColor:"".concat(b.tokens.backgroundHighest," !important")}}],userMultiplayerIcon:[S.rcss.backgroundColor.outlineDimmest,S.rcss.borderRadius(4)],userDisplayName:[S.rcss.fontWeight.medium]}),F=function(e){var n,r=e.individualMember,t=null==r?void 0:r.user;return t?(0,a.jsxs)(U.View,{row:!0,gap:8,align:"center",children:[(0,a.jsx)(k.Avatar,{size:24,src:null==t?void 0:t.image,username:"".concat(null==t?void 0:t.displayName),fullName:"".concat(null==t?void 0:t.displayName)}),(0,a.jsxs)(O.Text,{children:[(0,a.jsx)(O.Text,{css:M.userDisplayName,children:null==r||null==(n=r.user)?void 0:n.displayName})," ","(",null==r?void 0:r.email,")"]})]}):null},L=function(e){if(!e)return"";if(e.type===l.OrgGroupType.SystemIndividual){var n;return(null==(n=e.individualMember)?void 0:n.email)||e.name}return e.name||""};e.s(["default",0,function(e){var i,u,c,p=e.inputId,g=e.orgId,m=e.types,f=e.selectedGroups,h=e.value,x=e.setValue,_=e.onSelect,v=e.onClear,y=e.placeholder,T=void 0===y?"Find an existing group...":y,b=(0,t._)((0,o.useState)([]),2),A=b[0],S=b[1],k=(0,w.default)(h.trim(),250),N=(i={variables:{orgId:g,input:{count:10,types:m,filters:{name:{search:k}}}},ssr:!1,skip:!k,fetchPolicy:"cache-and-network",onCompleted:function(e){if((null==e||null==(r=e.currentUser)||null==(n=r.org)?void 0:n.__typename)==="Org"&&(null==e||null==(a=e.currentUser)||null==(i=a.org)||null==(t=i.groups)?void 0:t.__typename)==="OrgGroupConnection"){var n,r,t,i,a;S(e.currentUser.org.groups.items.filter(function(e){return!f.some(function(n){return e.id===n.id})}))}}},u=(0,n._)({},C,i),d.useQuery(j,u)),z=N.data,G=N.loading,q=N.error,W=z&&z.currentUser&&"Org"!==z.currentUser.org.__typename?z.currentUser.org.message:void 0,H=z&&z.currentUser&&"Org"===z.currentUser.org.__typename&&"OrgGroupConnection"!==z.currentUser.org.groups.__typename?z.currentUser.org.groups.message:void 0,$=null==q?void 0:q.message,K=null!=(c=null!=W?W:H)?c:$;return(0,o.useEffect)(function(){0===h.length&&0!==A.length&&S([])},[h.length,A.length]),(0,a.jsx)(U.View,{css:M.container,children:(0,a.jsx)(s.default,{onSelect:function(e){e&&(_(e),x(L(e)))},itemToString:function(e){return L(e)},initialHighlightedIndex:0,defaultHighlightedIndex:0,children:function(e){var t=e.getInputProps,i=e.getItemProps,o=e.getMenuProps,s=e.isOpen,u=e.highlightedIndex,c=e.getRootProps;return(0,a.jsxs)(U.View,(0,r._)((0,n._)({},c({refKey:"innerRef"})),{children:[(0,a.jsx)(I.Input,(0,n._)({},t({id:p,ref:null,value:h,onChange:function(e){x(e.currentTarget.value)},placeholder:T,autoComplete:"off"}))),G||0!==h.length?null:(0,a.jsx)(B.default,{css:M.rightIcon}),G?(0,a.jsx)(U.View,{css:M.rightIcon,children:(0,a.jsx)(P.default,{})}):null,!G&&h.length>0?(0,a.jsx)(U.View,{css:M.rightIcon,children:(0,a.jsx)(R.IconButton,{css:M.closeIconButton,alt:"Clear",tooltipBehavior:"hidden",onClick:function(){x(""),v&&v()},children:(0,a.jsx)(D.default,{})})}):null,(0,a.jsxs)(U.View,(0,r._)((0,n._)({tag:"ul"},o({refKey:"innerRef"})),{children:[K?(0,a.jsx)(U.View,{tag:"ul",css:M.dropdownMenu,children:(0,a.jsx)(U.View,{tag:"li",css:M.result,children:(0,a.jsx)(E.StatusBanner,{colorway:"negative",text:K})})}):null,s&&A&&A.length?(0,a.jsx)(U.View,{css:M.dropdownMenu,p:4,children:A.map(function(e,t){return(0,a.jsx)(U.View,(0,r._)((0,n._)({tag:"li"},i({item:e,index:t})),{css:t===u?M.activeResult:M.result,children:e.type===l.OrgGroupType.SystemIndividual?(0,a.jsx)(F,{individualMember:e.individualMember}):(0,a.jsxs)(U.View,{row:!0,gap:8,align:"center",children:[(0,a.jsx)(U.View,{css:M.userMultiplayerIcon,p:6,children:(0,a.jsx)(V.default,{size:12})}),(0,a.jsx)(O.Text,{height:"singleLine",multiline:!1,css:M.userDisplayName,children:e.name})]})}),e.id)})}):null,s&&!G&&k.length>0&&0===A.length?(0,a.jsx)(U.View,{tag:"ul",css:M.dropdownMenu,children:(0,a.jsx)(U.View,{tag:"li",css:M.result,children:(0,a.jsxs)(O.Text,{height:"singleLine",color:"dimmer",multiline:!1,children:['No results found for "',h,'"']})})}):null]}))]}))}})})}],306694)},845411,927196,e=>{"use strict";var n=e.i(389959),r=e.i(992785),t=e.i(276385),i=e.i(878420),a=e.i(569384),o=e.i(973245),s=e.i(613141);function l(){var e=(0,a._)(["\n  subscription CurrentUserReplAgentStatuses {\n    currentUserReplAgentStatuses {\n      replId\n      statusV2\n      label\n      updatedAt\n      appImageUrl\n    }\n  }\n"]);return l=function(){return e},e}var u={},c=(0,o.gql)(l());e.i(242933);var d=e.i(279606);e.i(925218);var p=e.i(112077),g=(0,n.createContext)(null);function m(e){var r,a=e.children,o=(0,p.useCreateObservable)(new Map),l=function(e){if(null==e?void 0:e.currentUserReplAgentStatuses){var n=new Map(e.currentUserReplAgentStatuses.map(function(e){return[e.replId,{statusV2:e.statusV2,label:e.label,updatedAt:e.updatedAt,appImageUrl:e.appImageUrl}]}));o.set(n)}};r=(0,i._)({},u,{onData:function(e){l(e.data.data)}}),s.useSubscription(c,r);var m=(0,n.useMemo)(function(){return d.Observable.from(o)},[o]);return(0,t.jsx)(g.Provider,{value:m,children:a})}function f(){var e=(0,n.useContext)(g);if(null===e)throw Error("useCurrentUserAgentStatus must be used within an AgentStatusProvider");return e}function h(e){var t=f();return(0,n.useMemo)(function(){return t.select(function(n){var r=n.get(e.id);return r?{status:r.statusV2,label:r.label,appImageUrl:r.appImageUrl}:e.latestAgentStatus?{status:e.latestAgentStatus.statusV2,label:e.latestAgentStatus.label,appImageUrl:e.latestAgentStatus.appImageUrl}:null},r.default)},[t,e.id,e.latestAgentStatus])}e.s(["AgentStatusProvider",()=>m,"default",()=>f],927196),e.s(["useReplAgentStatus",()=>h],845411)},273929,e=>{"use strict";var n=e.i(495764).RECENT_REPLS_SIDEBAR_MENU_COUNT;e.s(["RECENT_REPLS_DISPLAY_COUNT",()=>3,"RECENT_REPLS_FETCH_COUNT",()=>n])},57712,e=>{e.v({pill:"OwnerPill-module__VAhbNG__pill"})},603934,e=>{e.v({agentRunningPill:"ReplCard-module__E-1cRq__agentRunningPill",appImage:"ReplCard-module__E-1cRq__appImage",iconContainer:"ReplCard-module__E-1cRq__iconContainer",overlayedClickTargets:"ReplCard-module__E-1cRq__overlayedClickTargets","pulse-blurple":"ReplCard-module__E-1cRq__pulse-blurple",replTitle:"ReplCard-module__E-1cRq__replTitle",root:"ReplCard-module__E-1cRq__root",smallIconContainer:"ReplCard-module__E-1cRq__smallIconContainer"})},789873,e=>{e.v({closeButton:"Agent3AnnouncementBanner-module__Vmegoa__closeButton",container:"Agent3AnnouncementBanner-module__Vmegoa__container","fade-in-up":"Agent3AnnouncementBanner-module__Vmegoa__fade-in-up",featureContent:"Agent3AnnouncementBanner-module__Vmegoa__featureContent",featureItem:"Agent3AnnouncementBanner-module__Vmegoa__featureItem",featureText:"Agent3AnnouncementBanner-module__Vmegoa__featureText",featureTitle:"Agent3AnnouncementBanner-module__Vmegoa__featureTitle",featuresContainer:"Agent3AnnouncementBanner-module__Vmegoa__featuresContainer",headerContent:"Agent3AnnouncementBanner-module__Vmegoa__headerContent",iconWrapper:"Agent3AnnouncementBanner-module__Vmegoa__iconWrapper",mediaContainer:"Agent3AnnouncementBanner-module__Vmegoa__mediaContainer",pill:"Agent3AnnouncementBanner-module__Vmegoa__pill",pillText:"Agent3AnnouncementBanner-module__Vmegoa__pillText",title:"Agent3AnnouncementBanner-module__Vmegoa__title",video:"Agent3AnnouncementBanner-module__Vmegoa__video"})},598491,e=>{e.v({closeButton:"ConnectorsAnnouncementBanner-module__OKk1Va__closeButton",container:"ConnectorsAnnouncementBanner-module__OKk1Va__container","fade-in-up":"ConnectorsAnnouncementBanner-module__OKk1Va__fade-in-up",featureContent:"ConnectorsAnnouncementBanner-module__OKk1Va__featureContent",featureItem:"ConnectorsAnnouncementBanner-module__OKk1Va__featureItem",featureTitle:"ConnectorsAnnouncementBanner-module__OKk1Va__featureTitle",featuresContainer:"ConnectorsAnnouncementBanner-module__OKk1Va__featuresContainer",headerContent:"ConnectorsAnnouncementBanner-module__OKk1Va__headerContent",headerText:"ConnectorsAnnouncementBanner-module__OKk1Va__headerText",iconWrapper:"ConnectorsAnnouncementBanner-module__OKk1Va__iconWrapper",mediaContainer:"ConnectorsAnnouncementBanner-module__OKk1Va__mediaContainer",pill:"ConnectorsAnnouncementBanner-module__OKk1Va__pill",pillText:"ConnectorsAnnouncementBanner-module__OKk1Va__pillText",video:"ConnectorsAnnouncementBanner-module__OKk1Va__video"})},363734,e=>{e.v({bannerContainer:"HomeBanner-module__nN3Y9q__bannerContainer",collapsableSidebarFlag:"HomeBanner-module__nN3Y9q__collapsableSidebarFlag"})},542629,e=>{e.v({container:"SitewideBanner-module__D4pS8a__container"})},623136,732729,386721,76038,671214,582734,e=>{"use strict";var n=e.i(530658),r=e.i(276385),t=e.i(389959),i=e.i(878420),a=e.i(569384),o=e.i(973245),s=e.i(304277);e.i(566901);var l=e.i(183462);function u(){var e=(0,a._)(["\n  query GetOwnerPillOrgs {\n    currentUser {\n      id\n      ...OrgSwitcherCurrentUser\n    }\n  }\n  ","\n"]);return u=function(){return e},e}var c={},d=(0,o.gql)(u(),l.OrgSwitcherCurrentUserFragmentDoc),p=e.i(968783),g=e.i(446530),m=e.i(613355),f=e.i(625484),h=e.i(652219),x=(0,g.cssRecord)({placeholder:[m.rcss.width(24),m.rcss.height(24),m.rcss.borderRadius("full"),m.rcss.backgroundColor.backgroundRoot,m.rcss.display.flex,m.rcss.align.center,m.rcss.justify.center,m.rcss.color.foregroundDefault]}),_=function(){return(0,r.jsx)(f.View,{css:x.placeholder,children:(0,r.jsx)(h.default,{size:12})})},v=e.i(783509),y=e.i(714165),T=e.i(140487),C=e.i(604963),j=e.i(346715),w=e.i(399528),b=e.i(368964),A=e.i(222342),S=e.i(230227),k=e.i(341126),R=e.i(480028),I=e.i(754873),E=e.i(960178),O=e.i(616278),U=[m.rcss.flex.row,m.rcss.align.center,I.interactive.listItem,m.rcss.px(8),m.rcss.py(4),{":not([disabled])":{":hover":{backgroundColor:R.tokens.backgroundHigher}}}],D=(0,g.cssRecord)({dropdownItemAndContainer:(0,j._)(U),orgNameText:[m.rcss.flex.grow(1)],dropdownAvatarAndName:[m.rcss.textAlign.left,m.rcss.rowWithGap(8),m.rcss.maxWidth("100%"),m.rcss.flex.growAndShrink(1)],sectionHeader:[m.rcss.fontWeight.medium,m.rcss.p(8),m.rcss.flex.row,m.rcss.align.center],workspaceDropdownContainer:[m.rcss.maxHeight("calc(100vh - 400px)"),m.rcss.overflowY("auto")],overflowIndicator:[m.rcss.position.absolute,m.rcss.bottom(0),m.rcss.left(0),m.rcss.right(0),m.rcss.height(36),m.rcss.backgroundColor.backgroundDefault,m.rcss.display.flex,m.rcss.justify.center,m.rcss.align.center,{background:"linear-gradient(transparent, ".concat(R.tokens.backgroundDefault," 50%, ").concat(R.tokens.backgroundHigher," 80%, ").concat(R.tokens.backgroundHighest," 100%)"),opacity:.7,pointerEvents:"none"}],workspaceContainerWrapper:[m.rcss.position.relative]}),P=(0,g.cssRecord)({self:[D.dropdownItemAndContainer,m.rcss.justify.spaceBetween,{backgroundColor:R.tokens.interactiveBackground,":not([disabled])":{":hover":{backgroundColor:R.tokens.backgroundHighest}}}]}),B=function(e){var n=e.currentUser,t=e.selected,i=e.onClick;return(0,r.jsxs)(f.View,{css:t?P.self:D.dropdownItemAndContainer,onClick:i,children:[(0,r.jsxs)(f.View,{css:D.dropdownAvatarAndName,align:"center",children:[(0,r.jsx)(y.Avatar,{src:n.image,username:n.username,fullName:n.fullName,size:20,isOrg:!1}),(0,r.jsx)(E.Text,{variant:"text",color:t?"default":"dimmer",multiline:!1,css:D.orgNameText,children:"Personal"})]}),(0,r.jsx)(f.View,{align:"center",row:!0,children:t?(0,r.jsx)(O.default,{size:16}):null})]})},V=function(e){var n,t=e.selected,i=e.org,a=e.orgContext,o=e.groupType,s=e.onRoute,l=(0,A.default)().showError,u=i.name,c=i.slug,d=a.switchOrg,p=function(e){e.currentUserRole?(d({type:b.OrgType.Team,id:e.id,slug:e.slug,orgRole:e.currentUserRole,orgDealContext:e.dealContext}),s()):l("Something went wrong, please try again.")},g=(0,k.orgLinks)({slug:c}).home,m=(0,w.useRouter)();return(0,r.jsxs)(f.View,{css:t?P.self:D.dropdownItemAndContainer,onClick:function(){p(i),m.push(g.href)},children:[(0,r.jsxs)(f.View,{css:D.dropdownAvatarAndName,align:"center",children:[(0,r.jsx)(y.Avatar,{src:null!=(n=i.image)?n:null,username:u,fullName:i.name,size:20}),(0,r.jsxs)(f.View,{row:!0,align:"center",gap:8,children:[(0,r.jsx)(E.Text,{variant:"text",color:t?"default":"dimmer",multiline:!1,css:D.orgNameText,children:u}),o?(0,r.jsx)(E.Text,{variant:"small",color:"dimmest",children:(0,v.orgGroupToDisplayName)(o)}):null]})]}),(0,r.jsx)(f.View,{align:"center",row:!0,children:t?(0,r.jsx)(O.default,{size:16}):null})]})},N=function(e){var i=e.currentUser,a=e.orgContext,o=e.loading,s=e.hasOrgs,l=e.onRoute,u=(0,w.useRouter)(),c=(0,t.useRef)(null),d=(0,n._)((0,t.useState)(!1),2),p=d[0],g=d[1],m=(0,S.usePersonalWorkspacesDisabled)().shouldHidePersonalWorkspace;return((0,t.useEffect)(function(){var e=function(){if(c.current){var e=c.current,n=e.scrollHeight,r=e.clientHeight,t=e.scrollTop;g(n>r&&!(t+r>=n-1))}};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),(0,t.useEffect)(function(){var e=function(){if(c.current){var e=c.current,n=e.scrollHeight,r=e.clientHeight,t=e.scrollTop;g(n>r&&!(t+r>=n-1))}},n=c.current;if(n)return n.addEventListener("scroll",e),function(){return n.removeEventListener("scroll",e)}},[]),(null==i?void 0:i.orgs)&&"CurrentUserOrganizationConnection"===i.orgs.__typename&&(void 0===o||!o)&&void 0!==s&&s)?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(f.View,{children:[(0,r.jsx)(E.Text,{variant:"small",color:"dimmest",css:D.sectionHeader,children:"Switch Workspace"}),(0,r.jsxs)(f.View,{css:D.workspaceContainerWrapper,children:[(0,r.jsxs)(f.View,{innerRef:c,css:D.workspaceDropdownContainer,children:[m?null:(0,r.jsx)(B,{currentUser:i,selected:void 0===a.orgId,onClick:function(){a.switchOrg({type:b.OrgType.Personal}),u.push("/home","/~",{shallow:!1})}}),i.orgs.items.map(function(e){var n=e.org,t=e.type;return(0,r.jsx)(V,{org:n,groupType:t,selected:n.id===a.orgId,orgContext:a,onRoute:l},n.id)})]}),p?(0,r.jsx)(f.View,{css:D.overflowIndicator}):null]})]})}):null},M=e.i(576073),F=e.i(462783),L=e.i(57712);function z(e){var a,o,l,u=e.ownerName,g=e.image,m=e.currentOrgId,f=(0,n._)((0,t.useState)(!1),2),h=f[0],x=f[1],j=(a=(0,i._)({},c,void 0),s.useQuery(d,a)).data,w=(null==j||null==(o=j.currentUser)?void 0:o.orgs.__typename)==="CurrentUserOrganizationConnection"?j.currentUser.orgs.items:[],b=(0,p.useCurrentUserStoredOrgContext)();if(!w.length||!j||(null==(l=j.currentUser)?void 0:l.orgs.__typename)!=="CurrentUserOrganizationConnection")return null;var A=(0,r.jsx)(y.Avatar,{src:null!=g?g:null,username:u,size:24}),S=(0,v.getFormattedOrgWorkspaceName)({ownerName:u,isInOrg:!!m});return(0,r.jsxs)(C.PopoverTrigger,{isOpen:h,onOpenChange:x,placement:"bottom",label:"Switch Workspace",children:[(0,r.jsx)(T.Button,{iconLeft:m?g?A:(0,r.jsx)(_,{}):A,iconRight:h?(0,r.jsx)(F.default,{}):(0,r.jsx)(M.default,{}),clsx:L.default.pill,text:S}),(0,r.jsx)(N,{currentUser:j.currentUser,orgContext:b,loading:!1,hasOrgs:w.length>0,onRoute:function(){x(!1)}})]})}e.s(["OwnerPill",()=>z],623136);var G=e.i(721281),q=e.i(64386),W=e.i(886513),H=e.i(412160);e.i(925218);var $=e.i(267103),K=e.i(641555),Q=e.i(851231),Y=e.i(327516),X=e.i(928838),Z=e.i(751273),J=e.i(503536),ee=e.i(987154),en=e.i(530310),er=(0,g.cssRecord)({dim:[m.rcss.color.foregroundDimmer]});function et(e){var n=e.deployment,t=e.isPrivate,i=e.isOrg,a=e.small,o=void 0===a||a;if(!n)if(void 0!==t&&t)return(0,r.jsx)(Z.Tooltip,{tooltip:void 0!==i&&i?"Internal to your organization":"Only you can see and edit this App",children:(0,r.jsxs)(f.View,{css:er.dim,row:!0,gap:4,align:"center",children:[(0,r.jsx)(en.default,{size:o?12:16}),(0,r.jsx)(E.Text,{variant:o?"small":void 0,multiline:!1,children:"Private"})]})});else return(0,r.jsx)(Z.Tooltip,{tooltip:"Anyone on Replit can view and remix this App",children:(0,r.jsxs)(f.View,{css:er.dim,row:!0,gap:4,align:"center",children:[(0,r.jsx)(ee.default,{size:o?12:16}),(0,r.jsx)(E.Text,{variant:o?"small":void 0,multiline:!1,children:"Public"})]})});var s=n.currentBuild,l=X.buildStatuses[s.status],u=l.title,c=l.color,d=(0,Y.default)(new Date(s.timeCreated),Date.now(),{addSuffix:!0}),p="Published ".concat(d," by ").concat(s.user.displayName),g=s.status===b.HostingBuildStatus.Success?"Published":u;return(0,r.jsx)(Z.Tooltip,{tooltip:p,children:(0,r.jsxs)(f.View,{row:!0,gap:4,align:"center",children:[(0,r.jsx)(J.default,{size:o?12:16,color:c}),(0,r.jsx)(E.Text,{color:"dimmer",variant:o?"small":void 0,multiline:!1,children:g})]})})}var ei=e.i(845411),ea=e.i(46654),eo=e.i(228108),es=e.i(703774),el=e.i(624782),eu=e.i(929872),ec=e.i(732955),ed=e.i(185591),ep=e.i(369948),eg=e.i(243914),em=e.i(42458),ef=e.i(603934);function eh(e){var n=(0,ei.useReplAgentStatus)(e.repl);return(0,r.jsx)(ex,(0,q._)((0,i._)({},e),{agentStatus:n}))}function ex(e){var n=e.repl,t=e.isOrg,a=e.trackingContext,o=e.onDeleteRequested,s=e.agentStatus,l=(0,ed.replLinkProps)(n,{initialPaneType:null!=n.project?"project":void 0}),u=(0,w.useRouter)(),c=(0,es.useTheme)().isDarkColorScheme;return(0,r.jsxs)(eu.Surface,{elevated:c,clsx:ef.default.root,tag:"li",onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),u.push(l.href))},children:[(0,r.jsx)(ey,{repl:n,agentStatus:s}),(0,r.jsxs)(f.View,{grow:!0,shrink:!0,gap:6,p:12,children:[(0,r.jsxs)(f.View,{row:!0,gap:8,align:"start",justify:"space-between",children:[(0,r.jsx)(f.View,{grow:!0,shrink:!0,row:!0,gap:8,align:"center",children:(0,r.jsxs)(f.View,{grow:!0,shrink:!0,children:[(0,r.jsx)(H.default,(0,q._)((0,i._)({},l),{clsx:ef.default.replTitle,children:(0,r.jsx)(E.Text,{multiline:!1,children:n.title})})),(0,r.jsx)(E.Text,{multiline:!1,variant:"small",color:"dimmest",children:(0,ea.ago)(n.timeUpdated)})]})}),(0,r.jsx)(f.View,{clsx:ef.default.overlayedClickTargets,children:(0,r.jsx)(ec.ReplActions,{repl:n,trackingContext:a,onDeleteRequested:o?function(){return o(n.id)}:void 0})})]}),(0,r.jsx)(e_,{repl:n,isOrg:void 0!==t&&t,agentStatus:s})]})]})}function e_(e){var n,t=e.repl,a=e.isOrg,o=(0,W._)(e,["repl","isOrg"]);return(0,r.jsxs)(f.View,{row:!0,gap:4,align:"center",justify:"space-between",children:[(null==(n=t.hostingDeployment)?void 0:n.__typename)==="HostingDeployment"?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(H.default,(0,q._)((0,i._)({clsx:ef.default.overlayedClickTargets},(0,ed.replLinkProps)(t,{initialPaneType:"deployments"})),{children:(0,r.jsx)(et,{deployment:t.hostingDeployment,isPrivate:t.isPrivate,isOrg:a})})),(0,r.jsx)(f.View,{clsx:ef.default.overlayedClickTargets,children:(0,r.jsx)(Q.DeploymentSiteLink,{deployment:t.hostingDeployment,icon:(0,r.jsx)(eg.default,{})})})]}):(0,r.jsx)(et,{isPrivate:t.isPrivate,isOrg:a}),a&&"viewFileContents"in t.authorizations&&t.authorizations.viewFileContents.isAuthorized&&!t.authorizations.editFileContents.isAuthorized?(0,r.jsx)(Z.Tooltip,{clsx:ef.default.overlayedClickTargets,tooltip:t.authorizations.editFileContents.code===b.ReplAuthorizationCode.InsufficientPermissions?"You don't have permission to edit this App. To open it in the Workspace, request permissions from the creator or an admin.":t.authorizations.editFileContents.message,children:(0,r.jsx)(el.Pill,{colorway:"blurple",text:"Read-only"})}):(0,r.jsx)(r.Fragment,{children:o.agentStatus?(0,r.jsx)(ev,{agentStatus:o.agentStatus}):null})]})}function ev(e){var n,t=(0,$.useObservable)(e.agentStatus);if(!t)return null;var i=null==t?void 0:t.label,a=R.tokens.foregroundDimmest,o=void 0;switch(null==t?void 0:t.status){case b.AgentStatusV2.Running:o="blurple";break;case b.AgentStatusV2.PausedWithRequest:o="primary",n=(0,r.jsx)(ep.default,{color:a,size:12});break;case b.AgentStatusV2.PausedWithError:o="red",a=R.tokens.foregroundDefault,n=(0,r.jsx)(em.default,{color:a,size:12})}return(0,r.jsx)(el.Pill,{colorway:o,text:i,iconRight:n,clsx:(null==t?void 0:t.status)===b.AgentStatusV2.Running?ef.default.agentRunningPill:void 0})}function ey(e){var n,t=e.repl,i=e.agentStatus,a=(0,K.useObservableMemo)(function(){return null==i?void 0:i.select(function(e){return null==e?void 0:e.appImageUrl})},[i])||t.latestAgentScreenshotUrl;return(0,r.jsx)(eu.Surface,{elevated:!0,clsx:ef.default.appImage,style:a?{backgroundImage:"url(".concat(a,")")}:void 0,children:(0,r.jsx)(f.View,{align:"center",justify:"center",clsx:(n={},(0,G._)(n,ef.default.smallIconContainer,a),(0,G._)(n,ef.default.iconContainer,!a),n),children:(0,r.jsx)(eo.ReplIconWithPlaceholder,{alt:t.title,size:a?24:64,iconUrl:t.iconUrl,isLoading:!t.iconUrl})})})}e.s(["RecentReplCard",()=>eh],732729);var eT=e.i(952521),eC=e.i(91720),ej=e.i(988676),ew=e.i(136540),eb=e.i(442060),eA=e.i(559482),eS=e.i(993134),ek=e.i(283110),eR=e.i(508949),eI=e.i(789873);function eE(){var e=(0,eT.useMemoedDismissibleElement)("agent-3-announcement-banner"),n=e.isLoading,t=e.isDone,i=e.setAsDone;return n||t?null:(0,r.jsxs)(eu.Surface,{background:"default",clsx:eI.default.container,p:16,gap:16,children:[(0,r.jsxs)(f.View,{row:!0,justify:"space-between",align:"start",children:[(0,r.jsxs)(f.View,{clsx:eI.default.headerContent,row:!0,children:[(0,r.jsx)(f.View,{clsx:eI.default.pill,children:(0,r.jsx)(E.Text,{clsx:eI.default.pillText,children:"New"})}),(0,r.jsx)(E.Text,{clsx:eI.default.title,variant:"subheadDefault",children:"Introducing Agent 3: Autonomy for all"})]}),(0,r.jsx)(ew.IconButton,{alt:"Dismiss announcement",onClick:function(){return i()},clsx:eI.default.closeButton,children:(0,r.jsx)(ek.default,{})})]}),(0,r.jsx)(ej.DividerH,{}),(0,r.jsxs)(f.View,{row:!0,gap:32,children:[(0,r.jsxs)(f.View,{clsx:eI.default.featuresContainer,gap:16,children:[(0,r.jsxs)(f.View,{clsx:eI.default.featureItem,children:[(0,r.jsx)(f.View,{clsx:eI.default.iconWrapper,children:(0,r.jsx)(eA.default,{size:16})}),(0,r.jsx)(f.View,{clsx:eI.default.featureContent,children:(0,r.jsxs)(E.Text,{clsx:eI.default.featureText,children:[(0,r.jsx)("span",{clsx:eI.default.featureTitle,children:"App Testing"})," checks changes using a web browser to test buttons, forms, links and APIs."]})})]}),(0,r.jsxs)(f.View,{clsx:eI.default.featureItem,children:[(0,r.jsx)(f.View,{clsx:eI.default.iconWrapper,children:(0,r.jsx)(eR.default,{size:16})}),(0,r.jsx)(f.View,{clsx:eI.default.featureContent,children:(0,r.jsxs)(E.Text,{clsx:eI.default.featureText,children:[(0,r.jsx)("span",{clsx:eI.default.featureTitle,children:"Agents & Automations"})," enable you to build AI bots or workflow automations in plain English."]})})]}),(0,r.jsxs)(f.View,{clsx:eI.default.featureItem,children:[(0,r.jsx)(f.View,{clsx:eI.default.iconWrapper,children:(0,r.jsx)(eS.default,{size:16})}),(0,r.jsx)(f.View,{clsx:eI.default.featureContent,children:(0,r.jsxs)(E.Text,{clsx:eI.default.featureText,children:[(0,r.jsx)("span",{clsx:eI.default.featureTitle,children:"Runs on its own for up to 200 minutes"}),", handling tasks and recovering from errors autonomously."]})})]}),(0,r.jsx)(eC.ButtonLink,{href:"https://replit.com/agent3",variant:"outlined",size:"small",iconLeft:(0,r.jsx)(eb.default,{}),text:"Learn more",noNextLink:!0,target:"_blank",rel:"noopener noreferrer"})]}),(0,r.jsx)(f.View,{grow:1,clsx:eI.default.mediaContainer,children:(0,r.jsx)("iframe",{src:"https://www.youtube.com/embed/nr6qrQTv7QI?rel=0",title:"Agent 3 Introduction",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,clsx:eI.default.video})})]})]})}e.s(["Agent3AnnouncementBanner",()=>eE],386721);var eO=e.i(742166),eU=e.i(585124),eD=e.i(598491);function eP(){var e=(0,eT.useMemoedDismissibleElement)("connectors-announcement-banner"),n=e.isLoading,t=e.isDone,i=e.setAsDone,a=(0,eT.useMemoedDismissibleElement)("agent-3-announcement-banner"),o=a.isLoading,s=a.isDone;return n||t||o||!s?null:(0,r.jsxs)(eu.Surface,{clsx:eD.default.container,p:16,gap:16,children:[(0,r.jsxs)(f.View,{row:!0,justify:"space-between",align:"start",children:[(0,r.jsxs)(f.View,{clsx:eD.default.headerContent,children:[(0,r.jsx)(f.View,{clsx:eD.default.pill,children:(0,r.jsx)(E.Text,{clsx:eD.default.pillText,children:"New"})}),(0,r.jsx)(E.Text,{variant:"subheadDefault",multiline:!0,clsx:eD.default.headerText,children:"Introducing Connectors: connect once, use everywhere"})]}),(0,r.jsx)(ew.IconButton,{alt:"Dismiss announcement",onClick:function(){return i()},clsx:eD.default.closeButton,children:(0,r.jsx)(ek.default,{})})]}),(0,r.jsx)(ej.DividerH,{}),(0,r.jsxs)(f.View,{row:!0,gap:32,children:[(0,r.jsxs)(f.View,{clsx:eD.default.featuresContainer,gap:12,children:[(0,r.jsxs)(f.View,{clsx:eD.default.featureItem,children:[(0,r.jsx)(f.View,{clsx:eD.default.iconWrapper,children:(0,r.jsx)(eU.default,{size:16})}),(0,r.jsxs)(f.View,{clsx:eD.default.featureContent,children:[(0,r.jsx)(E.Text,{clsx:eD.default.featureTitle,children:"Seamless integrations"}),(0,r.jsx)(E.Text,{color:"dimmer",variant:"small",children:"Log in once and use the Connector across all your apps. We handle the technical complexity so you can start building immediately."})]})]}),(0,r.jsxs)(f.View,{clsx:eD.default.featureItem,children:[(0,r.jsx)(f.View,{clsx:eD.default.iconWrapper,children:(0,r.jsx)(eO.default,{size:16})}),(0,r.jsxs)(f.View,{clsx:eD.default.featureContent,children:[(0,r.jsx)(E.Text,{clsx:eD.default.featureTitle,children:"Access over 20+ services"}),(0,r.jsx)(E.Text,{color:"dimmer",variant:"small",children:"Build your Apps with services such as Google Workspace, Asana, Twilio, and more."})]})]}),(0,r.jsxs)(f.View,{clsx:eD.default.featureItem,children:[(0,r.jsx)(f.View,{clsx:eD.default.iconWrapper,children:(0,r.jsx)(h.default,{size:16})}),(0,r.jsxs)(f.View,{clsx:eD.default.featureContent,children:[(0,r.jsx)(E.Text,{clsx:eD.default.featureTitle,children:"Share resources with your team"}),(0,r.jsx)(E.Text,{color:"dimmer",variant:"small",children:"Team admins can configure connections once and share them with everyone. No more asking teammates for API keys or credentials."})]})]}),(0,r.jsx)(eC.ButtonLink,{href:"https://blog.replit.com/connectors",variant:"outlined",size:"small",iconLeft:(0,r.jsx)(eb.default,{}),text:"Learn more",noNextLink:!0,target:"_blank",rel:"noopener noreferrer"})]}),(0,r.jsx)(f.View,{grow:1,clsx:eD.default.mediaContainer,children:(0,r.jsx)("iframe",{src:"https://www.youtube.com/embed/FcSzZsEXDFk",title:"Connectors Introduction",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,clsx:eD.default.video})})]})]})}e.s(["ConnectorsAnnouncementBanner",()=>eP],76038);var eB=e.i(781230);function eV(){var e=(0,a._)(["\n  query HomeBanner($orgId: String) {\n    currentUser {\n      id\n      isSubscribed\n      org(orgId: $orgId) {\n        ... on Org {\n          id\n          authorizations {\n            editPaymentMethod {\n              isAuthorized\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return eV=function(){return e},e}var eN={},eM=(0,o.gql)(eV()),eF=e.i(993796),eL=e.i(169252),ez=e.i(761201),eG=e.i(929417);function eq(e){var n=e.orgDealType,t=e.orgContactEmail,i=n===eL.OrgDealType.EnterpriseTrial?"Enterprise":"Teams";return(0,r.jsx)(eG.TopBanner,{colorway:"primary",text:"Your Replit ".concat(i," trial has ended. Contact ").concat(null!=t?t:ez.SALES_TEAM_CONTACT_EMAIL," to resume services.")})}var eW=e.i(882029),eH=e.i(780026),e$=e.i(297083),eK=e.i(817556),eQ=e.i(973519);function eY(){var e=(0,eQ.useGlobalModal)().show,n=(0,eT.useMemoedDismissibleElement)("credit-packs-banner").setAsDone;return(0,r.jsx)(eG.TopBanner,{colorway:"blurple",text:"New: Purchase credit packs to prepay for usage and get discounts up to $50",buttonProps:{text:"Purchase credit pack",iconRight:(0,r.jsx)(ep.default,{}),colorway:"blurple",onClick:function(){return(0,e$._)(function(){return(0,eK._)(this,function(r){switch(r.label){case 0:return n(),[4,e("PurchaseCreditPackModal",{})];case 1:return r.sent(),[2]}})})()}},onDismiss:n})}function eX(){return(0,r.jsx)(eG.TopBanner,{colorway:"warning",text:"Payment failed. Update to continue using Replit AI.",buttonLinkProps:{colorway:"warning",text:"Update Payment Method",href:"/account#billing"}})}function eZ(){var e=(0,a._)(["\n  query CurrentUserReferralBanner {\n    currentUser {\n      id\n      username\n      isSubscribed\n      referralsByTarget(input: { status: pending }) {\n        __typename\n        ... on CurrentUserReferralsByTargetResult {\n          referrals {\n            ... on Referrals {\n              id\n              sourceUser {\n                id\n                username\n              }\n            }\n          }\n        }\n      }\n      referralsBySource {\n        __typename\n        ... on CurrentUserReferralsBySourceResult {\n          referrals {\n            ... on Referrals {\n              id\n              status\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return eZ=function(){return e},e}var eJ={},e0=(0,o.gql)(eZ()),e2=e.i(596139),e1=e.i(480809),e3=e.i(548733),e4=e.i(693188),e8=e.i(571073);function e6(){var e,a,o,l,u,c,d,g,m,f,h,x,_,v,y,T=(0,p.useCurrentUserStoredOrgContext)().orgId,C=(0,eT.useMemoedDismissibleElement)("referral-program-banner"),j=C.isLoading,w=C.isDone,A=C.setAsDone,S=(0,eT.useMemoedDismissibleElement)("referral-pending-banner"),k=S.isLoading,R=S.isDone,I=S.setAsDone,E=(e=(0,i._)({},eJ,void 0),s.useQuery(e0,e)),O=E.data,U=E.loading,D=(null==O||null==(o=O.currentUser)||null==(a=o.referralsByTarget)?void 0:a.__typename)==="CurrentUserReferralsByTargetResult"&&!!(null==O||null==(u=O.currentUser)||null==(l=u.referralsByTarget)?void 0:l.referrals)&&(null==O||null==(g=O.currentUser)||null==(d=g.referralsByTarget)||null==(c=d.referrals)?void 0:c.length)>0,P=((null==O||null==(f=O.currentUser)||null==(m=f.referralsBySource)?void 0:m.__typename)==="CurrentUserReferralsBySourceResult"&&!!(null==O||null==(x=O.currentUser)||null==(h=x.referralsBySource)?void 0:h.referrals)&&(null==O||null==(v=O.currentUser)||null==(_=v.referralsBySource)?void 0:_.referrals)||[]).filter(function(e){return e.status===b.ReferralsstatusEnumType.ReferrerCreditPending}),B=P.length>0,V=!!(null==O||null==(y=O.currentUser)?void 0:y.isSubscribed),N=(0,n._)((0,t.useState)(!1),2),M=N[0],F=N[1],L=(0,eQ.useGlobalModal)().show,z=(0,eB.useIsSSR)();if(T||z||j||w||k||R||U)return null;if(B&&!V){var G=P.length*e1.REFERRAL_CREDIT_AMOUNT_USD;return(0,r.jsx)(eG.TopBanner,{colorway:"primary",text:"Upgrade to ".concat(e2.corePlanName," to claim your $").concat(G," in referral bonus credits."),buttonProps:{text:"Upgrade",iconLeft:(0,r.jsx)(e4.default,{}),colorway:"primary",onClick:function(){return(0,e$._)(function(){return(0,eK._)(this,function(e){switch(e.label){case 0:return[4,L("MembershipPurchaseModal",{analyticsContext:{upgrade:{context:"pending_referral_banner",surface:"referral_banner"}},onPurchaseComplete:function(){return I()}})];case 1:return e.sent(),[2]}})})()}},onDismiss:function(){return I()}})}return D&&!V?(0,r.jsx)(eG.TopBanner,{colorway:"primary",text:"Upgrade to ".concat(e2.corePlanName," to claim your $").concat(e1.REFERRAL_CREDIT_AMOUNT_USD," in credits"),buttonProps:{text:"Upgrade",iconLeft:(0,r.jsx)(e4.default,{}),colorway:"primary",onClick:function(){return(0,e$._)(function(){return(0,eK._)(this,function(e){switch(e.label){case 0:return[4,L("MembershipPurchaseModal",{headingText:"Upgrade for credits",subHeadingText:"Upgrade to Replit ".concat(e2.corePlanName," to claim your $").concat(e1.REFERRAL_CREDIT_AMOUNT_USD," in referral bonus credits"),analyticsContext:{upgrade:{context:"pending_referral_banner",surface:"referral_banner"}},onPurchaseComplete:function(){return I()}})];case 1:return e.sent(),[2]}})})()}},onDismiss:function(){return I()}}):V?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eG.TopBanner,{colorway:"primary",text:"Need more credits?",buttonProps:{text:"Refer a friend",iconLeft:(0,r.jsx)(e8.default,{}),colorway:"primary",onClick:function(){return F(!0)}},onDismiss:function(){return A()}}),(0,r.jsx)(e3.ReferralLinkModal,{isOpen:M,onClose:function(){return F(!1)},trackingContext:"referral-banner"})]}):null}var e5=e.i(363734),e7=(0,t.memo)(function(e){var n,t,a,o,l,u,c,d=e.orgId,g=e.orgRole,m=e.orgDealContext,f=e.isUBBBanned,h=e.suspensionNotificationType,x=(0,eB.useIsSSR)(),_=(0,p.useIsCurrentOrgEnterprise)(),v=(0,eF.useFlag)({controlName:"flag-credit-packs"}),y=(0,eT.useMemoedDismissibleElement)("credit-packs-banner"),T=y.isLoading,C=y.isDone,j=(n={variables:{orgId:d}},t=(0,i._)({},eN,n),s.useQuery(eM,t)),w=j.data,A=j.loading,S=!!(null==w||null==(a=w.currentUser)?void 0:a.isSubscribed),k=null!=m&&!_,R=(null==w||null==(l=w.currentUser)||null==(o=l.org)?void 0:o.__typename)==="Org"&&w.currentUser.org.authorizations.editPaymentMethod.isAuthorized,I=m?k&&R:S,E=v&&!x&&!T&&!C&&!A&&!f&&I;return g===b.SystemOrgGroupType.SystemAdmins&&((null==m?void 0:m.dealType)===b.OrgDealType.Trial||(null==m?void 0:m.dealType)===b.OrgDealType.EnterpriseTrial)&&f?(0,r.jsx)(eq,{orgDealType:null!=(u=null==m?void 0:m.dealType)?u:b.OrgDealType.Trial,orgContactEmail:null!=(c=null==m?void 0:m.salesContactEmail)?c:null}):h===b.Ubb_Suspension_Status_NotificationstypeEnumType.InGracePeriod?(0,r.jsx)(eX,{}):E?(0,r.jsx)(eY,{}):(0,r.jsx)(e6,{})});function e9(){var e=(0,p.useCurrentUserStoredOrgContext)(),n=e.orgId,t=e.orgRole,i=e.orgDealContext,a=e.loading,o=(0,eW.useIsUBBBanned)({orgId:n}),s=o.loading,l=o.isUBBBanned,u=(0,eH.useUBBSuspensionNotifications)(),c=u.suspensionNotification,d=u.suspensionNotificationsLoading;return a||d||s?(0,r.jsx)("div",{clsx:e5.default.bannerContainer}):(0,r.jsx)(ne,{children:(0,r.jsx)(e7,{orgId:n,orgRole:t,orgDealContext:i,isUBBBanned:l,suspensionNotificationType:null==c?void 0:c.type})})}function ne(e){var n=(0,eF.useFlag)({controlName:"flag-golden-global-traveler-toggle"});return(0,r.jsx)(f.View,{clsx:[e5.default.bannerContainer,(0,G._)({},e5.default.collapsableSidebarFlag,n)],children:e.children})}function nn(){var e=(0,a._)(["\n  query SitewideBanner {\n    siteBanner {\n      id\n      message\n    }\n  }\n"]);return nn=function(){return e},e}e.s(["BannerContainer",()=>ne,"HomeBanner",()=>e9],671214);var nr={},nt=(0,o.gql)(nn()),ni=e.i(542629);function na(){var e,n,t,a=(null==(t=(e=(0,i._)({},nr,void 0),s.useQuery(nt,e)).data)||null==(n=t.siteBanner)?void 0:n.message)||null;return a?(0,r.jsx)(ne,{children:(0,r.jsx)(f.View,{clsx:ni.default.container,row:!0,gap:8,p:12,children:(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:a}})})}):null}e.s(["SitewideBanner",()=>na],582734)}]);

//# debugId=136b967e-d5fe-19e6-020e-3f2a9a70b3fd
//# sourceMappingURL=b5d1af8036b8c914.js.map