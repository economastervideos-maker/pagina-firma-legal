;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="cb91b8ef-4166-12e6-8068-e795d8df3df4")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,904678,e=>{"use strict";var n=e.i(878420),s=e.i(569384),i=e.i(973245),t=e.i(951262);function r(){var e=(0,s._)(["\n  mutation setExtensionListed($extensionId: String!, $isListed: Boolean!) {\n    setExtensionListed(extensionId: $extensionId, isListed: $isListed) {\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on Extension {\n        id\n        isListed\n      }\n    }\n  }\n"]);return r=function(){return e},e}function o(){var e=(0,s._)(["\n  mutation uninstallExtension($installationId: String!) {\n    uninstallExtension(installationId: $installationId) {\n      ... on UserError {\n        message\n      }\n      ... on ExtensionInstallation {\n        id\n      }\n    }\n  }\n"]);return o=function(){return e},e}function l(){var e=(0,s._)(["\n  mutation deleteExtension($extensionId: String!) {\n    deleteExtension(extensionId: $extensionId) {\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on Extension {\n        id\n      }\n    }\n  }\n"]);return l=function(){return e},e}function a(){var e=(0,s._)(["\n  mutation setExtensionBlessed($extensionId: String!, $isBlessed: Boolean!) {\n    setExtensionBlessed(extensionId: $extensionId, isBlessed: $isBlessed) {\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on Extension {\n        id\n        isBlessed\n      }\n    }\n  }\n"]);return a=function(){return e},e}function u(){var e=(0,s._)(["\n  mutation setExtensionFeatured($extensionId: String!, $isFeatured: Boolean!) {\n    setExtensionFeatured(extensionId: $extensionId, isFeatured: $isFeatured) {\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on Extension {\n        id\n        isFeatured\n      }\n    }\n  }\n"]);return u=function(){return e},e}var c={},d=(0,i.gql)(r());function x(e){var s=(0,n._)({},c,e);return t.useMutation(d,s)}var f=(0,i.gql)(o());function h(e){var s=(0,n._)({},c,e);return t.useMutation(f,s)}var g=(0,i.gql)(l());function p(e){var s=(0,n._)({},c,e);return t.useMutation(g,s)}var m=(0,i.gql)(a());function v(e){var s=(0,n._)({},c,e);return t.useMutation(m,s)}var j=(0,i.gql)(u());function w(e){var s=(0,n._)({},c,e);return t.useMutation(j,s)}e.s(["useDeleteExtensionMutation",()=>p,"useSetExtensionBlessedMutation",()=>v,"useSetExtensionFeaturedMutation",()=>w,"useSetExtensionListedMutation",()=>x,"useUninstallExtensionMutation",()=>h])},818660,e=>{"use strict";var n=e.i(276385),s=e.i(9293),i=e.i(480028);function t(e){var t=e.size,r=e.baseUrl,o=e.icon,l=r&&o?(0,s.getAssetUrl)(r,o):null;return(0,n.jsx)("div",{css:{background:l?"url(".concat(l,") no-repeat center center / contain"):"radial-gradient(89% 90% at 11% 10%, rgb(255 255 255 / 79%) 0%, #91d900 98.6%)",width:t,minWidth:t,height:t,minHeight:t,borderRadius:12,flexGrow:1,border:"solid 1px ".concat(i.tokens.backgroundHigher)}})}e.s(["ExtensionIcon",()=>t])},34090,e=>{"use strict";var n=e.i(276385),s=e.i(674918),i=e.i(613355),t=e.i(714165),r=e.i(656388),o=e.i(960178),l=e.i(625484),a=e.i(964269);function u(e){var u=e.user,c=e.size,d=void 0===c?16:c;return"replit"===u.username||"util"===u.username?(0,n.jsxs)(a.HStack,{spacing:1,align:"center",children:[(0,n.jsx)(r.LogoSymbol,{size:d}),(0,n.jsx)(o.Text,{variant:"text",color:"dimmest",multiline:!1,children:"Replit"})]}):(0,n.jsx)(l.View,{css:[{maxWidth:"fit-content",zIndex:1}],children:(0,n.jsxs)(s.UserLink,{user:u,css:[{color:"inherit"},i.rcss.viewStyle,i.rcss.rowWithGap(d<24?4:8),i.rcss.align.center,i.rcss.focusRing,i.rcss.borderRadius(8),i.rcss.cursor.pointer],children:[(0,n.jsx)(t.Avatar,{src:u.image,username:u.username,size:d,layout:"intrinsic"}),(0,n.jsx)(o.Text,{multiline:!1,children:u.username})]})})}e.s(["AuthorPill",()=>u])},3456,e=>{"use strict";var n=e.i(276385),s=e.i(480028),i=e.i(446530),t=e.i(613355),r=e.i(625484),o=(0,i.cssRecord)({styles0:[t.rcss.display.flex,t.rcss.flex.wrap,t.rcss.flex.row,{gap:s.tokens.space8}]});function l(e){var s=e.children;return(0,n.jsx)(r.View,{css:o.styles0,align:"center",children:s})}e.s(["PillBox",()=>l])},972882,e=>{"use strict";var n=e.i(530658),s=e.i(276385),i=e.i(389959),t=e.i(904678),r=e.i(222342),o=e.i(480028),l=e.i(446530),a=e.i(754873),u=e.i(613355),c=e.i(136540),d=e.i(601059),x=e.i(739521),f=e.i(624782),h=e.i(929872),g=e.i(960178),p=e.i(625484),m=e.i(557862),v=e.i(34090),j=e.i(818660),w=e.i(3456),E=e.i(964269),y=e.i(71754),b=e.i(757390),I=e.i(841691),k=e.i(90102),T=e.i(196353),M=e.i(431601),S=e.i(498710),C=e.i(440810),_=e.i(27974),$=e.i(703505),B=function(e,n){return e.isMod&&!n.isMod?1:!e.isMod&&n.isMod?-1:e.isDestructive&&!n.isDestructive?1:!e.isDestructive&&n.isDestructive?-1:0},D=(0,l.cssRecord)({styles0:[u.rcss.position.relative],styles1:[u.rcss.border({color:o.tokens.backgroundHigher,style:"solid",width:1}),u.rcss.borderRadius(8),u.rcss.width("100%"),u.rcss.p(12),u.rcss.cursor.pointer,a.interactive.filledAndOutlined,u.rcss.flex.column,u.rcss.colWithGap(8),u.rcss.color.foregroundDefault,{textAlign:"left"}],styles2:[u.rcss.width("100%")],styles5:[u.rcss.width("100%")],styles8:[u.rcss.color.accentPositiveStronger],styles9:[u.rcss.color.foregroundDimmer,u.rcss.border({color:o.tokens.outlineDimmer})],styles10:[u.rcss.position.absolute,u.rcss.top(8),u.rcss.right(8)]});function V(e){var l,a,u,V,L=e.extension,U=e.tag,F=e.onClick,R=e.showMetadata,q=void 0===R||R,A=e.href,P=e.canModerate,O=void 0!==P&&P,z=e.currentUserId,H=e.refetch,N=void 0===H?function(){}:H,G=L.manifest,W=(0,r.default)().showConfirm,Q=(0,n._)((0,t.useSetExtensionListedMutation)(),1)[0],K=(0,n._)((0,t.useSetExtensionBlessedMutation)(),1)[0],X=(0,n._)((0,t.useSetExtensionFeaturedMutation)(),1)[0],Y=(0,n._)((0,t.useUninstallExtensionMutation)({onCompleted:N}),1)[0],J=(0,n._)((0,t.useDeleteExtensionMutation)(),1)[0],Z=(0,n._)((0,i.useState)(!1),2),ee=Z[0],en=Z[1];if((null==G?void 0:G.__typename)!=="ExtensionManifest")return null;var es="replit"===L.user.username||"util"===L.user.username,ei=L.isBlessed,et=null==(l=L.installation)?void 0:l.id,er=[];return(O||z===L.user.id)&&L.isListed&&er.push({label:"Unlist",value:"unlist",icon:(0,s.jsx)(k.default,{size:16}),isDestructive:!1,isMod:O&&z!==L.user.id,callback:function(){Q({variables:{extensionId:L.id,isListed:!1}}).then(N)}}),(O||z===L.user.id)&&(L.isListed||er.push({label:"List",value:"list",icon:(0,s.jsx)(I.default,{size:16}),isDestructive:!1,isMod:O&&z!==L.user.id,callback:function(){Q({variables:{extensionId:L.id,isListed:!0}}).then(N)}}),er.push({label:"Delete from store",value:"delete",icon:(0,s.jsx)($.default,{}),isDestructive:!0,isMod:O&&z!==L.user.id,callback:function(){en(!0)}})),O&&(er.push({label:ei?"Un-bless":"Bless",value:ei?"unbless":"bless",icon:ei?(0,s.jsx)(C.default,{}):(0,s.jsx)(_.default,{}),isMod:!0,isDestructive:!1,callback:function(){K({variables:{extensionId:L.id,isBlessed:!ei}}).then(N)}}),er.push({label:L.isFeatured?"Un-feature":"Feature",value:L.isFeatured?"unfeature":"feature",icon:L.isFeatured?(0,s.jsx)(M.default,{}):(0,s.jsx)(S.default,{}),isMod:!0,isDestructive:!1,callback:function(){X({variables:{extensionId:L.id,isFeatured:!L.isFeatured}}).then(N)}})),et&&er.push({label:"Uninstall",value:"uninstall",isMod:!1,isDestructive:!0,icon:(0,s.jsx)(y.default,{}),callback:function(){Y({variables:{installationId:et}})}}),(0,s.jsxs)(h.Surface,{css:D.styles0,children:[(0,s.jsxs)(p.View,{css:D.styles1,tag:void 0===U?"button":U,href:A,onClick:F,children:[(0,s.jsxs)(E.HStack,{spacing:2,wrap:"nowrap",css:D.styles2,children:[(0,s.jsx)(p.View,{grow:0,children:(0,s.jsx)(j.ExtensionIcon,{size:64,baseUrl:L.url,icon:G.icon})}),(0,s.jsxs)(p.View,{grow:!0,shrink:!0,gap:4,children:[(0,s.jsx)(E.HStack,{align:"center",justify:"space-between",children:(0,s.jsx)(g.Text,{variant:"subheadBig",multiline:!1,children:null!=(u=G.name)?u:L.name})}),(0,s.jsx)(v.AuthorPill,{user:L.user}),(0,s.jsx)(g.Text,{variant:"text",color:"dimmer",maxLines:2,children:null!=(V=G.description)?V:L.description})]})]}),q?(0,s.jsx)(p.View,{css:D.styles5,children:(0,s.jsxs)(w.PillBox,{children:[(0,s.jsxs)(p.View,{row:!0,gap:4,children:[(0,s.jsx)(b.default,{color:o.tokens.foregroundDimmer}),(0,s.jsx)(g.Text,{color:"dimmer",variant:"small",multiline:!1,children:L.installCount})]}),(0,s.jsxs)(p.View,{row:!0,gap:8,align:"center",children:[es?(0,s.jsx)(f.Pill,{text:"Official",css:D.styles8}):null,null==(a=G.tags)?void 0:a.slice(0,5).map(function(e){return(0,s.jsx)(f.Pill,{text:"#".concat(e),css:D.styles9},e)})]})]})}):null]}),er.length>0&&q?(0,s.jsx)(p.View,{css:D.styles10,children:(0,s.jsx)(d.PopupMenu,{label:"Extension actions",trigger:(0,s.jsx)(c.IconButton,{alt:"Extension actions",children:(0,s.jsx)(T.default,{})}),children:er.sort(B).map(function(e){var n=e.label,i=e.value,t=e.icon,r=e.isDestructive,o=e.isMod,l=e.callback;return(0,s.jsx)(d.MenuItem,{icon:t,label:n+(o?" [MOD]":""),isDestructive:r,onAction:function(){l()}},i)})})}):null,(0,s.jsx)(x.Modal,{isOpen:ee,onRequestClose:function(){en(!1)},children:(0,s.jsx)(m.default,{delete:function(){J({variables:{extensionId:L.id}}).then(function(){N(),W("Extension deleted: "+L.name)}),en(!1)},hideModal:function(){en(!1)},entityType:"extension",description:L.name})})]})}e.s(["ExtensionCard",()=>V])},700541,e=>{"use strict";var n=e.i(878420),s=e.i(569384),i=e.i(973245),t=e.i(304277);e.i(566901);var r=e.i(692043);function o(){var e=(0,s._)(["\n  query extensions(\n    $count: Int\n    $after: Int\n    $userId: Int\n    $order: ExtensionOrderType\n    $include: ExtensionInclusionType\n    $query: String\n    $filter: ExtensionFilterType\n  ) {\n    extensions(\n      count: $count\n      after: $after\n      userId: $userId\n      order: $order\n      include: $include\n      query: $query\n      filter: $filter\n    ) {\n      ... on ExtensionConnection {\n        pageInfo {\n          nextCursor\n          hasNextPage\n        }\n        items {\n          ...TopLevelExtension\n        }\n      }\n    }\n  }\n  ","\n"]);return o=function(){return e},e}function l(){var e=(0,s._)(["\n  query extensionsAsUser(\n    $count: Int\n    $after: Int\n    $userId: Int\n    $order: ExtensionOrderType\n    $include: ExtensionInclusionType\n    $query: String\n    $filter: ExtensionFilterType\n  ) {\n    extensions(\n      count: $count\n      after: $after\n      userId: $userId\n      order: $order\n      include: $include\n      query: $query\n      filter: $filter\n    ) {\n      ... on ExtensionConnection {\n        pageInfo {\n          nextCursor\n          hasNextPage\n        }\n        items {\n          ...TopLevelExtension\n          installation {\n            ...TopLevelExtensionInstallation\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return l=function(){return e},e}function a(){var e=(0,s._)(["\n  query ExtensionModerateStatus {\n    currentUser {\n      isAdmin: hasRole(role: ADMIN)\n      id\n    }\n  }\n"]);return a=function(){return e},e}var u={},c=(0,i.gql)(o(),r.TopLevelExtensionFragmentDoc);function d(e){var s=(0,n._)({},u,e);return t.useQuery(c,s)}var x=(0,i.gql)(l(),r.TopLevelExtensionFragmentDoc,r.TopLevelExtensionInstallationFragmentDoc);function f(e){var s=(0,n._)({},u,e);return t.useQuery(x,s)}var h=(0,i.gql)(a());function g(e){var s=(0,n._)({},u,e);return t.useQuery(h,s)}e.s(["useExtensionModerateStatusQuery",()=>g,"useExtensionsAsUserQuery",()=>f,"useExtensionsQuery",()=>d])},495954,e=>{"use strict";var n=e.i(530658),s=e.i(276385),i=e.i(389959),t=e.i(700541),r=e.i(368964),o=e.i(952521),l=e.i(613355),a=e.i(545969),u=e.i(960178),c=e.i(625484),d=e.i(878420),x=e.i(253344),f=e.i(858248),h=e.i(709485),g=e.i(480028),p=e.i(446530),m=e.i(140487),v=e.i(929872),j=e.i(972882),w=e.i(363201),E=e.i(940745),y=(0,p.cssRecord)({resultEndIndicator:[l.rcss.borderRadius(8),l.rcss.border({color:g.tokens.backgroundHighest}),l.rcss.rowWithGap(8)]});function b(e){var n=e.openExtensionCover,i=e.storeMode,t=e.canModerate,r=e.currentUserId,o=e.refetch,a=e.extensions,g=e.loading,p=e.loadMore;return(0,s.jsx)(c.View,{css:l.rcss.flex.column,children:(0,s.jsx)(c.View,{p:8,gap:8,children:a.length>0?(0,s.jsxs)(s.Fragment,{children:[a.map(function(e){return(0,s.jsx)(j.ExtensionCard,(0,d._)({extension:e,canModerate:t,currentUserId:r,refetch:o,onClick:function(){(0,f.track)(h.events.EXTENSION_USED,{action:"cover_page_viewed",source:"store"}),null==n||n((0,x.asExtensionId)(e.id))}},"external"===i?{href:"/extension/@".concat(e.user.username,"/").concat(e.id),tag:"a"}:{}),e.id)}),(0,s.jsx)(c.View,{css:l.rcss.center,children:p?(0,s.jsx)(m.Button,{iconLeft:g?(0,s.jsx)(E.default,{}):void 0,text:"Show More",disabled:g,onClick:function(){p()}}):null})]}):(0,s.jsx)(c.View,{p:8,justify:"center",row:!0,children:g?(0,s.jsx)(E.default,{}):(0,s.jsxs)(v.Surface,{elevated:!0,css:y.resultEndIndicator,px:8,py:4,align:"center",children:[(0,s.jsx)(w.default,{}),(0,s.jsx)(u.Text,{multiline:!1,children:"No results found. Try another search."})]})})})})}var I=e.i(98816),k=e.i(721321),T=e.i(51054),M=e.i(64386),S=e.i(888136),C=e.i(294784),_=e.i(538157),$=e.i(162914),B=e.i(222342),D=e.i(428596),V=e.i(607278),L=e.i(345904),U=e.i(353384),F=(0,p.cssRecord)({searchContainer:[l.rcss.position.relative,l.rcss.flex.growAndShrink(1)],dropdownMenu:[l.rcss.borderRadius(8),l.rcss.overflow("hidden"),l.rcss.mt(2),l.rcss.zIndex(2),l.rcss.border({color:g.tokens.outlineDimmer,width:1,style:"solid"}),l.rcss.maxHeight(280),l.rcss.overflowY("auto"),l.rcss.scrollbar.thin,{scrollbarColor:g.tokens.backgroundHigher+" "+g.tokens.backgroundHighest,"&::-webkit-scrollbar-thumb":{backgroundColor:g.tokens.backgroundHighest}}],result:[l.rcss.p(8),l.rcss.rowWithGap(8),l.rcss.justify.spaceBetween,l.rcss.align.center,l.rcss.cursor.pointer],result_active:[l.rcss.backgroundColor.accentPrimaryDimmer],loadingContainer:[l.rcss.m(8),l.rcss.rowWithGap(8),l.rcss.align.center],emptyText:[l.rcss.m(8)],resultContainer:[l.rcss.position.absolute,l.rcss.top("calc(100% + 8px)"),l.rcss.left(0),l.rcss.width("100%"),{boxShadow:g.tokens.shadow1}]});function R(e){var t=e.onSelect,r=(0,n._)((0,i.useState)(""),2),o=r[0],a=r[1],x=(0,D.useIdSeed)(),f=(0,$.default)(o.trim().replace(/^@/,""),250),h=(0,_.useMultiplayerUsernameSearchQuery)({skip:!f||(0,C.default)(o),variables:{query:f,limit:6}}),g=h.data,p=h.loading,m=h.error,j=(0,B.default)().showError;(0,i.useEffect)(function(){m&&j(m.message)},[m,j]);var w=null==g?void 0:g.usernameSearch;return(0,s.jsx)(S.default,{onChange:function(e){e&&(a(e.username),t(e))},itemToString:function(e){return(null==e?void 0:e.username)||""},initialHighlightedIndex:0,defaultHighlightedIndex:0,onInputValueChange:function(e){e||t(null)},children:function(e){var n=e.getInputProps,i=e.getItemProps,t=e.getMenuProps,r=e.isOpen,f=e.highlightedIndex,h=e.getRootProps;return(0,s.jsxs)(c.View,(0,M._)((0,d._)({css:F.searchContainer},h({refKey:"innerRef"})),{children:[(0,s.jsxs)(c.View,{css:[l.rcss.position.relative],children:[(0,s.jsx)(V.Input,(0,d._)({id:x("username-search")},n({ref:null,value:o,onChange:function(e){return a(e.currentTarget.value)},placeholder:"Find a creator",autoComplete:"off"}))),(0,s.jsx)(c.View,{css:[l.rcss.position.absolute,l.rcss.center,l.rcss.p(8),{top:0,right:0,height:"100%",pointerEvents:"none"}],children:(0,s.jsx)(U.default,{})})]}),r?(0,s.jsxs)(c.View,{css:F.resultContainer,children:[w&&w.length?(0,s.jsx)(v.Surface,(0,M._)((0,d._)({elevated:!0,css:F.dropdownMenu,tag:"ul"},t({refKey:"innerRef"})),{children:w.map(function(e,n){return(0,s.jsx)(c.View,(0,M._)((0,d._)({tag:"li"},i({item:e,index:n})),{css:[F.result,n===f&&F.result_active],children:(0,s.jsxs)(c.View,{row:!0,gap:8,align:"center",children:[(0,s.jsx)(L.default,{size:"m",url:e.image,username:e.username,fullName:e.fullName}),(0,s.jsx)(u.Text,{multiline:!1,children:e.username})]})}),n)})})):null,p?(0,s.jsx)(v.Surface,{elevated:!0,css:F.dropdownMenu,children:(0,s.jsxs)(c.View,{css:F.loadingContainer,align:"center",children:[(0,s.jsx)(E.default,{}),(0,s.jsx)(u.Text,{color:"dimmer",multiline:!1,children:"Loadingâ€¦"})]})}):null,w&&0===w.length?(0,s.jsx)(v.Surface,{elevated:!0,css:F.dropdownMenu,children:(0,s.jsxs)(u.Text,{css:F.emptyText,color:"dimmer",multiline:!1,children:['No results found for "',o,'"']})}):null]}):null]}))}})}var q=e.i(679668),A=e.i(616278),P=e.i(987154),O=(0,p.cssRecord)({styles1:[l.rcss.minWidth(220),l.rcss.flex.growAndShrink(1)]}),z=(0,p.cssRecord)({filterContainer:[l.rcss.flex.wrap,l.rcss.px(8),l.rcss.py(16),l.rcss.border({direction:"bottom",color:g.tokens.backgroundHigher}),{gap:8}]}),H=[{title:"Top",value:r.ExtensionOrderType.Top},{title:"Newest",value:r.ExtensionOrderType.New},{title:"Oldest",value:r.ExtensionOrderType.Old},{title:"Random",value:r.ExtensionOrderType.Random}],N={include:r.ExtensionInclusionType.Blessed,query:"",order:r.ExtensionOrderType.Random,userId:null};function G(e,n){return(0,d._)({},e,n)}function W(e){var t=e.page,o=e.loading,a=e.onChange,u=(0,n._)((0,i.useReducer)(G,N),2),d=u[0],x=u[1],f=(0,I.default)(a);return(0,i.useEffect)(function(){f.current(d)},[f,d]),(0,s.jsxs)(c.View,{css:z.filterContainer,row:!0,children:[(0,s.jsx)(c.View,{grow:!0,shrink:!0,children:(0,s.jsx)(T.SearchBar,{value:d.query,onChange:function(e){return x({query:e.target.value})},onClear:function(){return x({query:""})},loading:o,placeholder:"Search by title or keyword"})}),"store"===t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.View,{css:O.styles1,children:(0,s.jsx)(R,{onSelect:function(e){var n;return x({userId:null!=(n=null==e?void 0:e.id)?n:null})}})}),(0,s.jsxs)(c.View,{grow:!0,shrink:!0,row:!0,gap:8,children:[(0,s.jsxs)(k.ButtonGroup,{name:"ExtensionsBlessedInclusion",value:d.include,onChange:function(e){return x({include:e})},row:!0,disabled:o,children:[(0,s.jsx)(k.ButtonGroupItem,{icon:(0,s.jsx)(A.default,{}),value:r.ExtensionInclusionType.Blessed,text:"Verified",id:"ExtensionsBlessedInclusionBlessed"}),(0,s.jsx)(k.ButtonGroupItem,{icon:(0,s.jsx)(P.default,{}),value:r.ExtensionInclusionType.All,text:"All",id:"ExtensionsBlessedInclusionAll"})]}),(0,s.jsx)(q.Select,{"aria-label":"Sort extensions",items:H,selectedItem:H.find(function(e){return e.value===d.order}),onChange:function(e){return x({order:e.value})},disabled:o,css:l.rcss.flex.growAndShrink(1)})]})]}):null]})}var Q=e.i(91720),K=e.i(442060),X=e.i(373764),Y=(0,p.cssRecord)({headerContainer:[l.rcss.border({color:g.tokens.backgroundHigher,direction:"bottom"}),l.rcss.pl(16)]});function J(){return(0,s.jsx)(c.View,{css:Y.headerContainer,p:8,gap:8,children:(0,s.jsxs)(c.View,{grow:!0,row:!0,gap:8,align:"center",justify:"end",children:[(0,s.jsx)(Q.ButtonLink,{text:"Docs",iconLeft:(0,s.jsx)(K.default,{}),href:"https://docs.replit.com/extensions",size:"small",variant:"outlined",target:"_blank"}),(0,s.jsx)(Q.ButtonLink,{text:"Build an Extension",iconLeft:(0,s.jsx)(X.default,{}),href:"/new/extension",size:"small",variant:"outlined",target:"_blank"})]})})}var Z=e.i(47503),ee=e.i(136540),en=e.i(283110),es=e.i(243914),ei=(0,p.cssRecord)({headerContainer:[l.rcss.border({color:g.tokens.backgroundHigher,direction:"bottom"})]});function et(){var e=(0,o.useDismissibleElement)("extensions-store-info").setAsDone,n=(0,Z.useCurrentUserId)();return(0,s.jsx)(c.View,{css:ei.headerContainer,p:8,gap:8,children:(0,s.jsx)(c.View,{pl:8,row:!0,gap:16,children:(0,s.jsxs)(c.View,{grow:2,shrink:2,gap:8,children:[(0,s.jsxs)(c.View,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,s.jsx)(u.Text,{variant:"headerDefault",children:"Extensions"}),n?(0,s.jsx)(ee.IconButton,{alt:"Dismiss",onClick:e,children:(0,s.jsx)(en.default,{})}):null]}),(0,s.jsx)(u.Text,{color:"dimmer",children:"Make your workspace more powerful with new tools, commands, and integrations."}),(0,s.jsxs)(c.View,{row:!0,gap:8,children:[(0,s.jsx)(Q.ButtonLink,{text:"Learn More",iconRight:(0,s.jsx)(es.default,{}),href:"https://docs.replit.com/extensions",size:"small",colorway:"primary",target:"_blank"}),(0,s.jsx)(Q.ButtonLink,{text:"Build an Extension",iconLeft:(0,s.jsx)(X.default,{}),href:"/new/extension",size:"small",target:"_blank"})]})]})})})}var er=e.i(883002),eo=["store","manage"];function el(e){var d,x,f,h,g=e.storeMode,p=e.openExtensionCover,m=e.setPage,v=e.page,j=(0,o.useDismissibleElement)("extensions-store-info").isDone,w=(0,t.useExtensionModerateStatusQuery)().data,E=!!(null==w||null==(d=w.currentUser)?void 0:d.isAdmin),y=null==w||null==(x=w.currentUser)?void 0:x.id,I=(0,n._)((0,i.useState)(N),2),k=I[0],T=I[1],M=(0,n._)((0,i.useTransition)(),2)[1],S=function(e){M(function(){return T(e)})},C="manage"===v?r.ExtensionFilterType.Installed:r.ExtensionFilterType.All,_=(0,t.useExtensionsAsUserQuery)({variables:{include:C===r.ExtensionFilterType.Installed?r.ExtensionInclusionType.All:k.include,query:k.query,order:k.order,filter:C,userId:k.userId},fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0,ssr:!1,skip:!y}),$=(0,t.useExtensionsQuery)({variables:{include:C===r.ExtensionFilterType.Installed?r.ExtensionInclusionType.All:k.include,query:k.query,order:k.order,filter:C,userId:k.userId},fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0,ssr:!1,skip:!!y}),B=y?_:$,D=B.data,V=B.loading,L=B.refetch,U=B.fetchMore,F=(null==D||null==(f=D.extensions)?void 0:f.__typename)==="ExtensionConnection"?D.extensions:null,R=null==F?void 0:F.pageInfo.nextCursor,q=null!=(h=null==F?void 0:F.items)?h:[],A=q.filter(function(e){return e.isFeatured}),P=R?function(){U({variables:{after:Number(R)}})}:void 0;return(0,s.jsxs)(c.View,{css:[l.rcss.flex.column,l.rcss.flex.grow(1)],children:[j&&"external"===g?(0,s.jsxs)(c.View,{css:[l.rcss.flex.column,l.rcss.colWithGap(8),l.rcss.mb(24),l.rcss.p(8)],children:[(0,s.jsx)(u.Text,{variant:"headerDefault",multiline:!1,children:"Extensions"}),(0,s.jsx)(u.Text,{variant:"subheadDefault",color:"dimmer",children:"Make your workspace more powerful with new tools, commands, and integrations."})]}):null,(0,s.jsxs)(a.Tabs,{defaultSelectedKey:eo[eo.indexOf(v)],onSelectionChange:function(e){("store"===e||"manage"===e)&&m(e)},children:[y?(0,s.jsx)(s.Fragment,{children:j?(0,s.jsxs)(c.View,{row:!0,children:[(0,s.jsxs)(a.TabList,{withDividers:!0,css:{"[aria-selected=true]":[l.rcss.fontWeight.medium]},children:[(0,s.jsx)(a.Tab,{id:"store",iconLeft:(0,s.jsx)(X.default,{}),children:"Store"},1),(0,s.jsx)(a.Tab,{id:"manage",iconLeft:(0,s.jsx)(er.default,{}),children:"Installed"},2)]}),(0,s.jsx)(J,{})]}):(0,s.jsxs)(c.View,{css:l.rcss.flex.column,children:[(0,s.jsx)(et,{}),(0,s.jsxs)(a.TabList,{withDividers:!0,css:{"[aria-selected=true]":[l.rcss.fontWeight.medium]},children:[(0,s.jsx)(a.Tab,{id:"store",iconLeft:(0,s.jsx)(X.default,{}),css:[l.rcss.flex.grow(1),l.rcss.center],children:"Store"},1),(0,s.jsx)(a.Tab,{id:"manage",iconLeft:(0,s.jsx)(er.default,{}),css:[l.rcss.flex.grow(1),l.rcss.center],children:"Installed"},2)]})]})}):(0,s.jsx)(et,{}),(0,s.jsxs)(a.TabPanels,{children:[(0,s.jsxs)(a.TabPanel,{id:"store",children:[(0,s.jsx)(W,{page:v,loading:V,onChange:S}),null===k.userId&&""===k.query&&A.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c.View,{gap:2,px:8,pt:12,children:[(0,s.jsx)(u.Text,{variant:"subheadDefault",children:"Featured Extensions"}),(0,s.jsx)(u.Text,{color:"dimmer",children:"Our top picks to get you started"})]}),(0,s.jsx)(b,{refetch:L,openExtensionCover:p,storeMode:g,canModerate:E,currentUserId:y,extensions:A,loading:V}),(0,s.jsxs)(c.View,{gap:2,px:8,children:[(0,s.jsxs)(u.Text,{variant:"subheadDefault",children:[k.include===r.ExtensionInclusionType.Blessed?"Verified":"All"," ","Extensions"]}),k.include===r.ExtensionInclusionType.Blessed?(0,s.jsx)(u.Text,{color:"dimmer",children:"Extensions that have been reviewed by Replit"}):null]})]}):null,(0,s.jsx)(b,{refetch:L,openExtensionCover:p,storeMode:g,canModerate:E,currentUserId:y,extensions:q,loading:V,loadMore:P})]}),y?(0,s.jsxs)(a.TabPanel,{id:"manage",children:[(0,s.jsx)(W,{page:v,loading:V,onChange:S}),(0,s.jsx)(b,{refetch:L,openExtensionCover:p,storeMode:g,canModerate:E,currentUserId:y,extensions:q,loading:V,loadMore:P})]}):null]})]})]})}e.s(["EXTENSIONS_OPENGRAPH_IMAGE",()=>"https://replit.com/public/images/extensions-opengraph.png","default",()=>el],495954)}]);

//# debugId=cb91b8ef-4166-12e6-8068-e795d8df3df4
//# sourceMappingURL=9a1a25859ce2ef99.js.map