;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="53e88327-76b9-96a2-f9f0-b16596833a3c")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,631936,828043,864122,363605,e=>{"use strict";var t,n,r,a,i,s,u,o,c,l,d,f,h,v,y,p,m,_,g,k,b,w,x,S,T,A,O,C,I,N,j,E,P=e.i(530658),Z=e.i(389959),F=e.i(169252),R=e.i(878420),M=e.i(569384),L=e.i(973245),U=e.i(304277);function D(){var e=(0,M._)(["\n  fragment AgentInputUser on CurrentUser {\n    id\n    connectorContext {\n      __typename\n      ... on CurrentUserConnectorContext {\n        openIntClientToken\n      }\n      ... on Error {\n        message\n      }\n    }\n    figmaAuth: auth(provider: FIGMA) {\n      provider\n    }\n  }\n"]);return D=function(){return e},e}function V(){var e=(0,M._)(["\n  query AgentInputCurrentUser {\n    currentUser {\n      ...AgentInputUser\n    }\n  }\n  ","\n"]);return V=function(){return e},e}e.i(566901);var K,W,z,B,q,H,$,J,G,X,Q,Y,ee,et,en,er,ea,ei,es,eu={},eo=(0,L.gql)(D()),ec=(0,L.gql)(V(),eo),el=e.i(937500),ed=e.i(33699),ef=e.i(399119),eh=e.i(904851),ev=e.i(90659),ey=e.i(721281),ep=e.i(445789),em=e.i(167626),e_=e.i(346715),eg=e.i(119468),ek=e.i(463348),eb=e.i(817556),ew=Object.defineProperty,ex=Object.defineProperties,eS=Object.getOwnPropertyDescriptors,eT=Object.getOwnPropertySymbols,eA=Object.prototype.hasOwnProperty,eO=Object.prototype.propertyIsEnumerable,eC=function(e){throw TypeError(e)},eI=Math.pow,eN=function(e,t,n){return t in e?ew(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ej=function(e,t){for(var n in t||(t={}))eA.call(t,n)&&eN(e,n,t[n]);var r=!0,a=!1,i=void 0;if(eT)try{for(var s,u=eT(t)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var n=s.value;eO.call(t,n)&&eN(e,n,t[n])}}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return e},eE=function(e,t){return ex(e,eS(t))},eP=function(e,t,n){return t.has(e)||eC("Cannot "+n)},eZ=function(e,t,n){return eP(e,t,"read from private field"),n?n.call(e):t.get(e)},eF=function(e,t,n){return t.has(e)?eC("Cannot add the same private member more than once"):(0,em._)(t,WeakSet)?t.add(e):t.set(e,n)},eR=function(e,t,n,r){return eP(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},eM=function(e,t,n){return eP(e,t,"access private method"),n},eL=function(e,t,n){return new Promise(function(r,a){var i=function(e){try{u(n.next(e))}catch(e){a(e)}},s=function(e){try{u(n.throw(e))}catch(e){a(e)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,s)};u((n=n.apply(e,t)).next())})},eU=function(e){function t(e){var n,r=e.message,a=e.code,i=e.status,s=e.detail;return(0,eh._)(this,t),(n=(0,ef._)(this,t,[r])).code=a,n.detail=s,n.status=i,n}return(0,ep._)(t,e),t}((0,ek._)(Error)),eD=function(e){function t(e){var n,r=e.fileKey,a=e.reason,i=e.cause;return(0,eh._)(this,t),(n=(0,ef._)(this,t,["Figma Token Issue"])).fileKey=r,n.reason=a,n.cause=i,n}return(0,ep._)(t,e),t}((0,ek._)(Error)),eV=function(e){function t(e){var n,r=e.fileKey,a=e.cause;return(0,eh._)(this,t),(n=(0,ef._)(this,t,["Rate Limit Exceeded"])).fileKey=r,n.cause=a,n}return(0,ep._)(t,e),t}((0,ek._)(Error)),eK=function(e){function t(e){var n,r=e.fileKey,a=e.cause;return(0,eh._)(this,t),(n=(0,ef._)(this,t,["Request Too Large"])).fileKey=r,n.cause=a,n}return(0,ep._)(t,e),t}((0,ek._)(Error)),eW=function(e){function t(e){var n,r=e.fileKey,a=e.cause;return(0,eh._)(this,t),(n=(0,ef._)(this,t,["Not Found"])).fileKey=r,n.cause=a,n}return(0,ep._)(t,e),t}((0,ek._)(Error)),ez=function(e){function t(e){var n,r=e.fileKey,a=e.cause;return(0,eh._)(this,t),(n=(0,ef._)(this,t,["Unknown Figma API Exception"])).name="UnknownFigmaApiException",n.fileKey=r,n.cause=a,n}return(0,ep._)(t,e),t}((0,ek._)(Error)),eB=function(e,t){var n;if((null==(n=null==e?void 0:e.cause)?void 0:n.message)==="Fetch Error"){var r=e.cause.body,a=r.err,i=r.status;if(403===i)return new eD({fileKey:t,reason:a,cause:e});if(429===i)return new eV({fileKey:t,cause:e});if(404===i)return new eW({fileKey:t,cause:e});if(400===i&&a.includes("Request too large"))return new eK({fileKey:t,cause:e})}return new ez({fileKey:t,cause:e})},eq=Object.defineProperty,eH=Object.defineProperties,e$=Object.getOwnPropertyDescriptors,eJ=Object.getOwnPropertySymbols,eG=Object.prototype.hasOwnProperty,eX=Object.prototype.propertyIsEnumerable,eQ=function(e,t){return(t=Symbol[e])?t:Symbol.for("Symbol."+e)},eY=function(e){throw TypeError(e)},e0=function(e,t,n){return t in e?eq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},e1=function(e,t){for(var n in t||(t={}))eG.call(t,n)&&e0(e,n,t[n]);var r=!0,a=!1,i=void 0;if(eJ)try{for(var s,u=eJ(t)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var n=s.value;eX.call(t,n)&&e0(e,n,t[n])}}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return e},e2=function(e,t){return eH(e,e$(t))},e4=function(e,t,n){return t.has(e)||eY("Cannot "+n)},e9=function(e,t,n){return e4(e,t,"read from private field"),n?n.call(e):t.get(e)},e3=function(e,t,n){return t.has(e)?eY("Cannot add the same private member more than once"):(0,em._)(t,WeakSet)?t.add(e):t.set(e,n)},e5=function(e,t,n,r){return e4(e,t,"write to private field"),t.set(e,n),n},e6=function(e,t,n){return e4(e,t,"access private method"),n},e8=function(e,t,n){return new Promise(function(r,a){var i=function(e){try{u(n.next(e))}catch(e){a(e)}},s=function(e){try{u(n.throw(e))}catch(e){a(e)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,s)};u((n=n.apply(e,t)).next())})},e7="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:e.g,te={exports:{}},tt=(te.exports,(es||(es=1,K="function"==typeof Promise,W=("undefined"==typeof self?"undefined":(0,eg._)(self))=="object"?self:e7,z="undefined"!=typeof Symbol,B="undefined"!=typeof Map,q="undefined"!=typeof Set,H="undefined"!=typeof WeakMap,$="undefined"!=typeof WeakSet,J="undefined"!=typeof DataView,G=z&&void 0!==Symbol.iterator,X=z&&void 0!==Symbol.toStringTag,Q=q&&"function"==typeof Set.prototype.entries,Y=B&&"function"==typeof Map.prototype.entries,ee=Q&&Object.getPrototypeOf(new Set().entries()),et=Y&&Object.getPrototypeOf(new Map().entries()),er=(en=G&&"function"==typeof Array.prototype[Symbol.iterator])&&Object.getPrototypeOf([][Symbol.iterator]()),ei=(ea=G&&"function"==typeof String.prototype[Symbol.iterator])&&Object.getPrototypeOf(""[Symbol.iterator]()),te.exports=function(e){var t=void 0===e?"undefined":(0,eg._)(e);if("object"!==t)return t;if(null===e)return"null";if(e===W)return"global";if(Array.isArray(e)&&(!1===X||!(Symbol.toStringTag in e)))return"Array";if(("undefined"==typeof window?"undefined":(0,eg._)(window))=="object"&&null!==window){if("object"==(0,eg._)(window.location)&&e===window.location)return"Location";if("object"==(0,eg._)(window.document)&&e===window.document)return"Document";if("object"==(0,eg._)(window.navigator)){if("object"==(0,eg._)(window.navigator.mimeTypes)&&e===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==(0,eg._)(window.navigator.plugins)&&e===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==(0,eg._)(window.HTMLElement))&&(0,em._)(e,window.HTMLElement)){if("BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if("TD"===e.tagName)return"HTMLTableDataCellElement";if("TH"===e.tagName)return"HTMLTableHeaderCellElement"}}var n=X&&e[Symbol.toStringTag];if("string"==typeof n)return n;var r=Object.getPrototypeOf(e);return r===RegExp.prototype?"RegExp":r===Date.prototype?"Date":K&&r===Promise.prototype?"Promise":q&&r===Set.prototype?"Set":B&&r===Map.prototype?"Map":$&&r===WeakSet.prototype?"WeakSet":H&&r===WeakMap.prototype?"WeakMap":J&&r===DataView.prototype?"DataView":B&&r===et?"Map Iterator":q&&r===ee?"Set Iterator":en&&r===er?"Array Iterator":ea&&r===ei?"String Iterator":null===r?"Object":Object.prototype.toString.call(e).slice(8,-1)}),(t=te.exports)&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default"))?t.default:t),tn=void 0!==el.Buffer,tr=tn&&void 0!==el.Buffer.from,ta=tn?function(e){return el.Buffer.isBuffer(e)}:function(){return!1},ti=tr?function(e){return el.Buffer.from(e)}:tn?function(e){return new el.Buffer(e)}:function(e){return e};function ts(e){return ta(e)?"Buffer":tt(e)}var tu=new Set(["Arguments","Array","Map","Object","Set"]);function to(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;switch(r||ts(e)){case"Arguments":case"Array":case"Object":e[t]=n;break;case"Map":e.set(t,n);break;case"Set":e.add(n)}return e}var tc="undefined"!=typeof globalThis&&null!==globalThis&&globalThis.Object===Object&&globalThis,tl=null!==e.g&&e.g.Object===Object&&e.g,td="undefined"!=typeof self&&null!==self&&self.Object===Object&&self,tf=tc||tl||td||Function("return this")();function th(e,t){return tf[t].from?tf[t].from(e):new tf[t](e)}function tv(e){return e}function ty(){return[]}var tp=new Map([["ArrayBuffer",function(e){return e.slice(0)}],["Boolean",function(e){return new Boolean(e.valueOf())}],["Buffer",function(e){return ti(e)}],["DataView",function(e){return new DataView(e.buffer)}],["Date",function(e){return new Date(e.getTime())}],["Number",function(e){return new Number(e)}],["RegExp",function(e){return new RegExp(e.source,e.flags)}],["String",function(e){return new String(e)}],["Float32Array",th],["Float64Array",th],["Int16Array",th],["Int32Array",th],["Int8Array",th],["Uint16Array",th],["Uint32Array",th],["Uint8Array",th],["Uint8ClampedArray",th],["Array Iterator",tv],["Map Iterator",tv],["Promise",tv],["Set Iterator",tv],["String Iterator",tv],["function",tv],["global",tv],["WeakMap",tv],["WeakSet",tv],["boolean",tv],["null",tv],["number",tv],["string",tv],["symbol",tv],["undefined",tv],["Arguments",ty],["Array",ty],["Map",function(){return new Map}],["Object",function(){return{}}],["Set",function(){return new Set}]]);function tm(){}function t_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tm;2==arguments.length&&"function"==typeof t&&(n=t,t=null);var r=t||ts(e),a=tp.get(r);if("Object"===r){var i=n(e,r);if(void 0!==i)return i}return a?a(e,r):e}function tg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"function"==typeof t&&(t={customizer:t});var n=t.customizer,r=ts(e);if(!tu.has(r))return tk(e,null,null,null);var a=t_(e,r,n),i=new WeakMap([[e,a]]),s=new WeakSet([e]);return tk(e,a,i,s)}function tk(e,t,n,r,a){var i=ts(e),s=t_(e,i);if(!tu.has(i))return s;switch(i){case"Arguments":case"Array":l=Object.keys(e);break;case"Object":(d=l=Object.keys(e)).push.apply(d,(0,e_._)(Object.getOwnPropertySymbols(e)));break;case"Map":case"Set":l=e.keys()}var u=!0,o=!1,c=void 0;try{for(var l,d,f,h=l[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var v=f.value,y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;switch(n||ts(e)){case"Arguments":case"Array":case"Object":return e[t];case"Map":return e.get(t);case"Set":return t}}(e,v,i);if(r.has(y))to(t,v,n.get(y),i);else{var p=ts(y),m=t_(y,p);tu.has(p)&&(n.set(y,m),r.add(y)),to(t,v,tk(y,m,n,r),i)}}}catch(e){o=!0,c=e}finally{try{u||null==h.return||h.return()}finally{if(o)throw c}}return t}var tb=function(){function e(t){var n=t.maxAttempts,r=t.func;(0,eh._)(this,e),e3(this,c),e3(this,s),e3(this,u),e3(this,o),e5(this,s,void 0===n?3:n),e5(this,o,r),e5(this,u,0)}return(0,ev._)(e,[{key:"run",value:function(){return e8(this,null,function(){var e;return(0,eb._)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,5]),[4,e9(this,o).call(this)];case 1:case 4:return[2,t.sent()];case 2:var n;if(e=t.sent(),e5(this,u,e9(this,u)+1),e9(this,u)>e9(this,s))throw console.error("Max attempts reached"),e;return[4,(n=e6(this,c,l).call(this),new Promise(function(e){return setTimeout(e,n)}))];case 3:return t.sent(),[4,this.run()];case 5:return[2]}})})}}]),e}();s=new WeakMap,u=new WeakMap,o=new WeakMap,c=new WeakSet,l=function(){return 1e3*e9(this,u)*1.5};var tw=function(e){function t(e){var n=e.resource,r=e.api,a=e.args,i=e.cause;(0,eh._)(this,t);var s=!0,u=!1,o=void 0;if((c=(0,ef._)(this,t,['API Error on resource "'.concat(n,'" at api "').concat(r,'"')])).causeProperties={},c.name="API Error",c.resource=n,c.api=r,c.cause=i,c.args=a,(0,em._)(i,Error))try{for(var c,l,d=Object.entries(i)[Symbol.iterator]();!(s=(l=d.next()).done);s=!0)!function(){var e=(0,P._)(l.value,2),t=e[0],n=e[1];if("undefined"!=typeof Headers&&(0,em._)(n,Headers)){var r={};n.forEach(function(e,t){r[t]=e}),c.causeProperties[t]=r}else c.causeProperties[t]=n}()}catch(e){u=!0,o=e}finally{try{s||null==d.return||d.return()}finally{if(u)throw o}}var f=c.causeProperties.body;return f&&(void 0===f?"undefined":(0,eg._)(f))=="object"&&"code"in f&&(c.code=f.code),c}return(0,ep._)(t,e),t}((0,ek._)(Error)),tx=function(e){function t(e){var n,r=e.url,a=e.method,i=e.statusCode,s=e.requestHeaders,u=e.responseHeaders,o=e.body;if((0,eh._)(this,t),(n=(0,ef._)(this,t,["Fetch Error"])).name="Fetch Error",n.url=r,n.method=a,n.statusNumber=i,n.requestHeaders=s,n.responseHeaders=u,o)try{n.body=JSON.parse(o)}catch(e){n.body=o}return n}return(0,ep._)(t,e),t}((0,ek._)(Error)),tS=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,eh._)(this,t);var r=n.canceled;return(e=(0,ef._)(this,t,["Abort Error"])).name="Abort Error",e.canceled=void 0!==r&&r,e}return(0,ep._)(t,e),t}((0,ek._)(Error)),tT=function(e){function t(e){var n;return(0,eh._)(this,t),(n=(0,ef._)(this,t,["Async API Error: ".concat(JSON.stringify(e))])).name="Async API Error",n.body=e,n}return(0,ep._)(t,e),t}((0,ek._)(Error)),tA=function(e){function t(e){var n;return(0,eh._)(this,t),(n=(0,ef._)(this,t,[e])).name="Request Validation Error",n}return(0,ep._)(t,e),t}((0,ek._)(Error));function tO(){return Array.from({length:32},function(){return Math.floor(256*Math.random()).toString(16).padStart(2,"0")}).join("")}function tC(){return Math.floor(Date.now()/1e3).toString()}var tI=function(){function e(t){var n=t.fetch,r=void 0===n?globalThis.fetch.bind(globalThis):n,a=t.baseAddress;(0,eh._)(this,e),e3(this,h),e3(this,d),e3(this,f),this.baseAddress=a,e5(this,d,r),e5(this,f,{}),this.plugins=[]}return(0,ev._)(e,[{key:"headers",get:function(){throw Error("Missing implementation")}},{key:"addPlugin",value:function(e){this.plugins.push(e)}},{key:"removePlugin",value:function(e){this.plugins=this.plugins.filter(function(t){return t.name!==e})}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e5(this,f,e),this}},{key:"get",value:function(e){return e8(this,arguments,function(e){var t,n,r,a,i,s,u,o=arguments;return(0,eb._)(this,function(c){switch(c.label){case 0:if(n=(t=o.length>1&&void 0!==o[1]?o[1]:{}).overrideBaseAddress,r=t.overrideDefaultHeaders,a=null!=n?n:this.baseAddress,i=null!=r?r:this.headers,s=tg(e9(this,f)),e5(this,f,{}),s.extraHeaders&&(i=e1(e1({},i),s.extraHeaders)),s.requestValidation&&(i=e2(e1({},i),{"X-Request-Nonce":tO(),"X-Request-Timestamp":tC()})),!s.async)return[3,2];return[4,e6(this,h,y).call(this,"".concat(a).concat(e),s.async,{headers:i})];case 1:return u=c.sent(),[3,4];case 2:return[4,e6(this,h,v).call(this,"".concat(a).concat(e),s,{headers:i})];case 3:u=c.sent(),c.label=4;case 4:return[2,u]}})})}},{key:"post",value:function(e,t){return e8(this,arguments,function(e,t){var n,r,a=arguments;return(0,eb._)(this,function(i){return n=a.length>2&&void 0!==a[2]?a[2]:{},r=tg(e9(this,f)),[2,(e5(this,f,{}),e6(this,h,p).call(this,e,"POST",t,n,r))]})})}},{key:"put",value:function(e,t){return e8(this,arguments,function(e,t){var n,r,a=arguments;return(0,eb._)(this,function(i){return n=a.length>2&&void 0!==a[2]?a[2]:{},r=tg(e9(this,f)),[2,(e5(this,f,{}),e6(this,h,p).call(this,e,"PUT",t,n,r))]})})}},{key:"delete",value:function(e,t){return e8(this,arguments,function(e,t){var n,r,a=arguments;return(0,eb._)(this,function(i){return n=a.length>2&&void 0!==a[2]?a[2]:{},r=tg(e9(this,f)),[2,(e5(this,f,{}),e6(this,h,p).call(this,e,"DELETE",t,n,r))]})})}},{key:"patch",value:function(e,t){return e8(this,arguments,function(e,t){var n,r,a=arguments;return(0,eb._)(this,function(i){return n=a.length>2&&void 0!==a[2]?a[2]:{},r=tg(e9(this,f)),[2,(e5(this,f,{}),e6(this,h,p).call(this,e,"PATCH",t,n,r))]})})}}]),e}();d=new WeakMap,f=new WeakMap,h=new WeakSet,v=function(e,t,n){return e8(this,null,function(){var r,a,i,s,u,o,c;return(0,eb._)(this,function(l){switch(l.label){case 0:if(r=this,a=function(){return e8(r,null,function(){var r,a,i;return(0,eb._)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,e9(this,d).call(this,e,e1(e1({},n),t.abortSignal&&{signal:t.abortSignal}))];case 1:return[2,s.sent()];case 2:throw i=s.sent(),(0,em._)(i,Error)&&"AbortError"===i.name?new tS({canceled:null!=(a=null==(r=t.abortSignal)?void 0:r.aborted)&&a}):i;case 3:return[2]}})})},i=(null!=n?n:{}).headers,s=function(e,t){var n,r;return(null==(n=null==e?void 0:e.headers)?void 0:n.get(t))||(null==(r=null==e?void 0:e.headersObject)?void 0:r[t])||""},u=function(a){return e8(r,null,function(){var r,u,o,c,l,d,f;return(0,eb._)(this,function(h){switch(h.label){case 0:if(a.ok)return[3,2];return[4,a.text().catch()];case 1:throw u=h.sent(),new tx({url:e,method:null!=(r=null==n?void 0:n.method)?r:"GET",statusCode:a.status,requestHeaders:i,responseHeaders:a.headers,body:u});case 2:if(t.requestValidation&&!0!==ed.default.env.UI_TESTS)try{if(o=s(a,"x-response-nonce"),c=null==i?void 0:i["X-Request-Nonce"],!o||o!==c)throw new tA("Response nonce mismatch");if(l=Number(s(a,"x-response-timestamp")),d=Number(tC()),isNaN(l)||Math.abs(d-l)>86400)throw new tA("Invalid response timestamp")}catch(e){throw new tA((0,em._)(e,Error)?e.message:"Request validation failed")}return[4,a.text()];case 3:f=h.sent();try{f=JSON.parse(f)}catch(e){}return[2,f]}})})},!t.retry)return[3,3];return[4,new tb({maxAttempts:t.retry,func:a}).run()];case 1:return o=l.sent(),[4,u(o)];case 2:case 5:return[2,l.sent()];case 3:return[4,a()];case 4:return c=l.sent(),[4,u(c)]}})})},y=function(e,t,n){return e8(this,null,function(){var r,a,i,s,u,o,c,l,f,h,v,y,p,m,_;return(0,eb._)(this,function(g){switch(g.label){case 0:r=this,s=t.onProgress,u=t.abortSignal,c=void 0===(o=t.pollingInterval)?function(){return 1e3}:o,f=void 0===(l=t.maxTimeout)?3e5:l,h="".concat(e,"/async"),v="".concat(e,"/async/job"),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,e9(this,d).call(this,h,e1(e1({},n),u&&{signal:u}))];case 2:return y=g.sent(),[3,4];case 3:throw p=g.sent(),(0,em._)(p,Error)&&"AbortError"===p.name?new tS({canceled:null!=(a=null==u?void 0:u.aborted)&&a}):p;case 4:if(y.ok)return[3,6];return[4,y.text().catch()];case 5:throw m=g.sent(),new tx({url:e,method:null!=(i=null==n?void 0:n.method)?i:"GET",statusCode:y.status,requestHeaders:this.headers,responseHeaders:y.headers,body:m});case 6:return[4,y.json()];case 7:if(!(_=g.sent().job_id))throw Error("Job ID not found in response");return[2,new Promise(function(e,t){return e8(r,null,function(){var n,r,a;return(0,eb._)(this,function(i){return n=this,r=setTimeout(function(){t(Error("Job timed out"))},f),(a=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e8(n,null,function(){var n;return(0,eb._)(this,function(o){switch(o.label){case 0:if(null!=u&&u.aborted)return clearTimeout(r),e9(this,d).call(this,"".concat(v,"/").concat(_,"/cancel"),{method:"POST",headers:this.headers}).then(function(){t(new tS({canceled:!0}))}).catch(function(e){t(new tS({canceled:!1}))}),[2];o.label=1;case 1:return o.trys.push([1,4,,5]),[4,e9(this,d).call(this,"".concat(v,"/").concat(_),{headers:this.headers})];case 2:return[4,o.sent().json()];case 3:return"success"===(n=o.sent()).status?(clearTimeout(r),e(n.response_json)):"failed"===n.status?(clearTimeout(r),t(new tT(n.response_json))):(s&&s(n.response_json),setTimeout(function(){return a(i+1)},c(i))),[3,5];case 4:return t(o.sent()),[3,5];case 5:return[2]}})})})(),[2]})})})]}})})},p=function(e,t,n,r,a){return e8(this,null,function(){var i,s,u,o,c,l;return(0,eb._)(this,function(d){switch(d.label){case 0:if(i=r.overrideBaseAddress,s=r.overrideDefaultHeaders,u=null!=i?i:this.baseAddress,o=null!=s?s:this.headers,a.extraHeaders&&(o=e1(e1({},o),a.extraHeaders)),a.requestValidation&&(o=e2(e1({},o),{"X-Request-Nonce":tO(),"X-Request-Timestamp":tC()})),c=n,!("undefined"!=typeof FormData&&(0,em._)(n,FormData)))return[3,1];return delete o["Content-Type"],[3,4];case 1:if(c=r.skipBodyJsonStringify?n:JSON.stringify(n),!(a.compress&&"undefined"!=typeof CompressionStream))return[3,3];return o["Content-Encoding"]="gzip",[4,function(e){return e8(this,null,function(){var t,n,r,a,i,s,u;return(0,eb._)(this,function(o){switch(o.label){case 0:t=new Blob([e]).stream().pipeThrough(new CompressionStream("gzip")),n=[],o.label=1;case 1:var c,l,d;o.trys.push([1,6,7,12]),r=(l=(c=t)[eQ("asyncIterator")])?l.call(c):(c=c[eQ("iterator")](),l={},(d=function(e,t){return(t=c[e])&&(l[e]=function(e){return new Promise(function(n,r,a){return a=(e=t.call(c,e)).done,Promise.resolve(e.value).then(function(e){return n({value:e,done:a})},r)})})})("next"),d("return"),l),o.label=2;case 2:return[4,r.next()];case 3:if(!(a=!(i=o.sent()).done))return[3,5];u=i.value,n.push(u),o.label=4;case 4:return a=!1,[3,2];case 5:return[3,12];case 6:return s=[o.sent()],[3,12];case 7:if(o.trys.push([7,,10,11]),!(a&&(i=r.return)))return[3,9];return[4,i.call(r)];case 8:o.sent(),o.label=9;case 9:return[3,11];case 10:if(s)throw s[0];return[7];case 11:return[7];case 12:return[4,function(e){return e8(this,null,function(){return(0,eb._)(this,function(t){switch(t.label){case 0:return[4,new Blob(e).arrayBuffer()];case 1:return[2,new Uint8Array(t.sent())]}})})}(n)];case 13:return[2,o.sent()]}})})}(c)];case 2:c=d.sent(),d.label=3;case 3:d.label=4;case 4:if(!a.async)return[3,6];return[4,e6(this,h,y).call(this,"".concat(u).concat(e),a.async,{method:t,headers:o,body:c})];case 5:return l=d.sent(),[3,8];case 6:return[4,e6(this,h,v).call(this,"".concat(u).concat(e),a,{method:t,headers:o,body:c})];case 7:l=d.sent(),d.label=8;case 8:return[2,l]}})})};var tN=function(e,t,n,r){return(0,em._)(e,tS)?e:new tw({resource:t,api:String(n),args:r,cause:e})},tj=function(e,t){return new Proxy(t,{get:function(t,n){return function(){for(var r,a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];var u=!0,o=!1,c=void 0;try{for(var l,d,f=e.plugins[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var h=d.value,v=null==(l=h.beforeApi)?void 0:l.call(h,{resource:t.resourceName,api:n,args:i});if(void 0!==v)return v}}catch(e){o=!0,c=e}finally{try{u||null==f.return||f.return()}finally{if(o)throw c}}try{r=t[n].apply(t,(0,e_._)(i))}catch(e){throw tN(e,t.resourceName,n,i)}return(0,em._)(r,Promise)?r.catch(function(e){throw tN(e,t.resourceName,n,i)}):r}}})},tE=function(){function e(t){(0,eh._)(this,e),e3(this,m),this.resourceName="Files",e5(this,m,t)}return(0,ev._)(e,[{key:"get",value:function(e){return e8(this,arguments,function(e){var t,n,r,a;return(0,eb._)(this,function(i){switch(i.label){case 0:return t=e.fileKey,r=new URLSearchParams(e1({plugin_data:"857346721138427857"},void 0===(n=e.params)?{}:n)).toString(),a="v1/files/".concat(t,"?").concat(r),[4,e9(this,m).get(a)];case 1:return[2,i.sent()]}})})}},{key:"getImageFills",value:function(e){return e8(this,arguments,function(e){var t,n,r,a;return(0,eb._)(this,function(i){switch(i.label){case 0:return t=e.fileKey,a="v1/files/".concat(t,"/images"),[4,e9(this,m).get(a)];case 1:return[2,null!=(r=null==(n=i.sent().meta)?void 0:n.images)?r:{}]}})})}}]),e}();m=new WeakMap;var tP=function(e,t,n){var r=t.sort();return"".concat(e,"-").concat(r.join("-"),"-").concat(n)},tZ=function(){function e(t){(0,eh._)(this,e),e3(this,g),e3(this,_),this.resourceName="Images",e5(this,_,t)}return(0,ev._)(e,[{key:"get",value:function(e){return e8(this,arguments,function(e){var t,n,r,a,i,s,u,o,c;return(0,eb._)(this,function(l){switch(l.label){case 0:var d;if(t=e.fileKey,n=e.nodeIds,a=void 0===(r=e.format)?"jpg":r,i=e.scale,s=tP(t,n,a),(d=u=e9(this,_).cache.images.entries.get(s))&&d.ts>Date.now()-3e4)return[2,u.result];if(u&&e9(this,_).cache.images.entries.delete(s),o=e9(this,_).cache.images.pendingRequests.get(s))return[2,o];c=e6(this,g,k).call(this,s,t,n,a,i),e9(this,_).cache.images.pendingRequests.set(s,c),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,c];case 2:return[2,l.sent()];case 3:return e9(this,_).cache.images.pendingRequests.delete(s),[7];case 4:return[2]}})})}}]),e}();_=new WeakMap,g=new WeakSet,k=function(e,t,n,r,a){return e8(this,null,function(){var i;return(0,eb._)(this,function(s){switch(s.label){case 0:return[4,e9(this,_).get("v1/images/".concat(t,"?ids=").concat(n,"&format=").concat(r).concat(a?"&scale=".concat(a):""))];case 1:return i=s.sent(),[2,(e9(this,_).cache.images.entries.set(e,{result:i,ts:Date.now()}),i)]}})})};var tF=function(){function e(t){(0,eh._)(this,e),e3(this,b),this.resourceName="Nodes",e5(this,b,t)}return(0,ev._)(e,[{key:"get",value:function(e){return e8(this,arguments,function(e){var t,n,r,a,i,s;return(0,eb._)(this,function(u){switch(u.label){case 0:return t=e.fileKey,n=e.nodeIds,a=e2(e1({},void 0===(r=e.params)?{}:r),{ids:n.join(",")}),i=new URLSearchParams(e1({plugin_data:"857346721138427857"},a)).toString(),s="v1/files/".concat(t,"/nodes?").concat(i),[4,e9(this,b).get(s)];case 1:return[2,u.sent()]}})})}}]),e}();b=new WeakMap;var tR=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.baseAddress,a=n.fetch,i=void 0===a?globalThis.fetch.bind(globalThis):a;return(0,eh._)(this,t),e3(e=(0,ef._)(this,t,[{fetch:i,baseAddress:void 0===r?"https://api.figma.com/":r}]),w,""),e.cache={images:{entries:new Map,pendingRequests:new Map}},e.files=tj(e,new tE(e)),e.nodes=tj(e,new tF(e)),e.images=tj(e,new tZ(e)),e}return(0,ep._)(t,e),(0,ev._)(t,[{key:"token",get:function(){return e9(this,w)},set:function(e){if(!e.startsWith("figd_")&&!e.startsWith("figu_"))throw Error("Invalid Figma access token");e5(this,w,e)}},{key:"headers",get:function(){var e={"Content-Type":"application/json"};return e9(this,w).startsWith("figd_")?e["X-FIGMA-TOKEN"]=e9(this,w):e9(this,w).startsWith("figu_")&&(e.Authorization="Bearer ".concat(e9(this,w))),e}}]),t}(tI);w=new WeakMap;var tM=function(e,t){if(e.id===t)return e;var n=!0,r=!1,a=void 0;if("children"in e)try{for(var i,s=e.children[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var u=i.value,o=tM(u,t);if(o)return o}}catch(e){r=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}return null};(n=x||(x={})).assertEqual=function(e){},n.assertIs=function(e){},n.assertNever=function(e){throw Error()},n.arrayToEnum=function(e){var t={},n=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var u=i.value;t[u]=u}}catch(e){r=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}return t},n.getValidEnumValues=function(e){var t=n.objectKeys(e).filter(function(t){return"number"!=typeof e[e[t]]}),r={},a=!0,i=!1,s=void 0;try{for(var u,o=t[Symbol.iterator]();!(a=(u=o.next()).done);a=!0){var c=u.value;r[c]=e[c]}}catch(e){i=!0,s=e}finally{try{a||null==o.return||o.return()}finally{if(i)throw s}}return n.objectValues(r)},n.objectValues=function(e){return n.objectKeys(e).map(function(t){return e[t]})},n.objectKeys="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},n.find=function(e,t){var n=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var u=i.value;if(t(u))return u}}catch(e){r=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}},n.isInteger="function"==typeof Number.isInteger?function(e){return Number.isInteger(e)}:function(e){return"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e},n.joinValues=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map(function(e){return"string"==typeof e?"'".concat(e,"'"):e}).join(t)},n.jsonStringifyReplacer=function(e,t){return(void 0===t?"undefined":(0,eg._)(t))=="bigint"?t.toString():t},(S||(S={})).mergeShapes=function(e,t){return ej(ej({},e),t)};var tL=x.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tU=function(e){switch(void 0===e?"undefined":(0,eg._)(e)){case"undefined":return tL.undefined;case"string":return tL.string;case"number":return Number.isNaN(e)?tL.nan:tL.number;case"boolean":return tL.boolean;case"function":return tL.function;case"bigint":return tL.bigint;case"symbol":return tL.symbol;case"object":return Array.isArray(e)?tL.array:null===e?tL.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?tL.promise:"undefined"!=typeof Map&&(0,em._)(e,Map)?tL.map:"undefined"!=typeof Set&&(0,em._)(e,Set)?tL.set:"undefined"!=typeof Date&&(0,em._)(e,Date)?tL.date:tL.object;default:return tL.unknown}},tD=x.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),tV=function(e){function t(e){(0,eh._)(this,t),(n=(0,ef._)(this,t)).issues=[],n.addIssue=function(e){n.issues=(0,e_._)(n.issues).concat([e])},n.addIssues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n.issues=(0,e_._)(n.issues).concat((0,e_._)(e))};var n,r=((0,em._)(this,t)?this.constructor:void 0).prototype;return Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r,n.name="ZodError",n.issues=e,n}return(0,ep._)(t,e),(0,ev._)(t,[{key:"errors",get:function(){return this.issues}},{key:"format",value:function(e){var t=e||function(e){return e.message},n={_errors:[]},r=function(e){var a=!0,i=!1,s=void 0;try{for(var u,o=e.issues[Symbol.iterator]();!(a=(u=o.next()).done);a=!0){var c=u.value;if("invalid_union"===c.code)c.unionErrors.map(r);else if("invalid_return_type"===c.code)r(c.returnTypeError);else if("invalid_arguments"===c.code)r(c.argumentsError);else if(0===c.path.length)n._errors.push(t(c));else for(var l=n,d=0;d<c.path.length;){var f=c.path[d];d===c.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(t(c))):l[f]=l[f]||{_errors:[]},l=l[f],d++}}}catch(e){i=!0,s=e}finally{try{a||null==o.return||o.return()}finally{if(i)throw s}}};return r(this),n}},{key:"toString",value:function(){return this.message}},{key:"message",get:function(){return JSON.stringify(this.issues,x.jsonStringifyReplacer,2)}},{key:"isEmpty",get:function(){return 0===this.issues.length}},{key:"flatten",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.message},t={},n=[],r=!0,a=!1,i=void 0;try{for(var s,u=this.issues[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var o=s.value;o.path.length>0?(t[o.path[0]]=t[o.path[0]]||[],t[o.path[0]].push(e(o))):n.push(e(o))}}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return{formErrors:n,fieldErrors:t}}},{key:"formErrors",get:function(){return this.flatten()}}],[{key:"assert",value:function(e){if(!(0,em._)(e,t))throw Error("Not a ZodError: ".concat(e))}}]),t}((0,ek._)(Error));tV.create=function(e){return new tV(e)};var tK=function(e,t){var n;switch(e.code){case tD.invalid_type:n=e.received===tL.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case tD.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,x.jsonStringifyReplacer));break;case tD.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(x.joinValues(e.keys,", "));break;case tD.invalid_union:n="Invalid input";break;case tD.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(x.joinValues(e.options));break;case tD.invalid_enum_value:n="Invalid enum value. Expected ".concat(x.joinValues(e.options),", received '").concat(e.received,"'");break;case tD.invalid_arguments:n="Invalid function arguments";break;case tD.invalid_return_type:n="Invalid function return type";break;case tD.invalid_date:n="Invalid date";break;case tD.invalid_string:"object"==(0,eg._)(e.validation)?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"==typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):x.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case tD.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case tD.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case tD.custom:n="Invalid input";break;case tD.invalid_intersection_types:n="Intersection results could not be merged";break;case tD.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case tD.not_finite:n="Number must be finite";break;default:n=t.defaultError,x.assertNever(e)}return{message:n}},tW=function(e){var t=e.data,n=e.path,r=e.errorMaps,a=e.issueData,i=(0,e_._)(n).concat((0,e_._)(a.path||[])),s=eE(ej({},a),{path:i});if(void 0!==a.message)return eE(ej({},a),{path:i,message:a.message});var u="",o=r.filter(function(e){return!!e}).slice().reverse(),c=!0,l=!1,d=void 0;try{for(var f,h=o[Symbol.iterator]();!(c=(f=h.next()).done);c=!0)u=(0,f.value)(s,{data:t,defaultError:u}).message}catch(e){l=!0,d=e}finally{try{c||null==h.return||h.return()}finally{if(l)throw d}}return eE(ej({},a),{path:i,message:u})};function tz(e,t){var n=tW({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,tK,tK==tK?void 0:tK].filter(function(e){return!!e})});e.common.issues.push(n)}var tB=function(){function e(){(0,eh._)(this,e),this.value="valid"}return(0,ev._)(e,[{key:"dirty",value:function(){"valid"===this.value&&(this.value="dirty")}},{key:"abort",value:function(){"aborted"!==this.value&&(this.value="aborted")}}],[{key:"mergeArray",value:function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var o=s.value;if("aborted"===o.status)return tq;"dirty"===o.status&&e.dirty(),n.push(o.value)}}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return{status:e.value,value:n}}},{key:"mergeObjectAsync",value:function(t,n){return eL(this,null,function(){var r,a,i,s,u,o,c,l,d,f;return(0,eb._)(this,function(h){switch(h.label){case 0:r=[],a=!0,i=!1,s=void 0,h.label=1;case 1:h.trys.push([1,7,8,9]),u=n[Symbol.iterator](),h.label=2;case 2:if(a=(o=u.next()).done)return[3,6];return[4,(c=o.value).key];case 3:return l=h.sent(),[4,c.value];case 4:d=h.sent(),r.push({key:l,value:d}),h.label=5;case 5:return a=!0,[3,2];case 6:return[3,9];case 7:return f=h.sent(),i=!0,s=f,[3,9];case 8:try{a||null==u.return||u.return()}finally{if(i)throw s}return[7];case 9:return[2,e.mergeObjectSync(t,r)]}})})}},{key:"mergeObjectSync",value:function(e,t){var n={},r=!0,a=!1,i=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var o=s.value,c=o.key,l=o.value;if("aborted"===c.status||"aborted"===l.status)return tq;"dirty"===c.status&&e.dirty(),"dirty"===l.status&&e.dirty(),"__proto__"!==c.value&&(void 0!==l.value||o.alwaysSet)&&(n[c.value]=l.value)}}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return{status:e.value,value:n}}}]),e}(),tq=Object.freeze({status:"aborted"}),tH=function(e){return{status:"dirty",value:e}},t$=function(e){return{status:"valid",value:e}},tJ=function(e){return"aborted"===e.status},tG=function(e){return"dirty"===e.status},tX=function(e){return"valid"===e.status},tQ=function(e){return"undefined"!=typeof Promise&&(0,em._)(e,Promise)};(r=T||(T={})).errToObj=function(e){return"string"==typeof e?{message:e}:e||{}},r.toString=function(e){return"string"==typeof e?e:null==e?void 0:e.message};var tY=function(){function e(t,n,r,a){(0,eh._)(this,e),this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=a}return(0,ev._)(e,[{key:"path",get:function(){var e,t;return this._cachedPath.length||(Array.isArray(this._key)?(e=this._cachedPath).push.apply(e,(0,e_._)(this._path).concat((0,e_._)(this._key))):(t=this._cachedPath).push.apply(t,(0,e_._)(this._path).concat([this._key]))),this._cachedPath}}]),e}(),t0=function(e,t){if(tX(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;var n=new tV(e.common.issues);return this._error=n,this._error}}};function t1(e){if(!e)return{};var t=e.errorMap,n=e.invalid_type_error,r=e.required_error,a=e.description;if(t&&(n||r))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:function(t,a){var i,s,u=e.message;return"invalid_enum_value"===t.code?{message:null!=u?u:a.defaultError}:void 0===a.data?{message:null!=(i=null!=u?u:r)?i:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!=(s=null!=u?u:n)?s:a.defaultError}},description:a}}var t2=function(){function e(t){var n=this;(0,eh._)(this,e),this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:function(e){return n["~validate"](e)}}}return(0,ev._)(e,[{key:"description",get:function(){return this._def.description}},{key:"_getType",value:function(e){return tU(e.data)}},{key:"_getOrReturnCtx",value:function(e,t){return t||{common:e.parent.common,data:e.data,parsedType:tU(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}},{key:"_processInputParams",value:function(e){return{status:new tB,ctx:{common:e.parent.common,data:e.data,parsedType:tU(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}},{key:"_parseSync",value:function(e){var t=this._parse(e);if(tQ(t))throw Error("Synchronous parse encountered promise.");return t}},{key:"_parseAsync",value:function(e){return Promise.resolve(this._parse(e))}},{key:"parse",value:function(e,t){var n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}},{key:"safeParse",value:function(e,t){var n,r={common:{issues:[],async:null!=(n=null==t?void 0:t.async)&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tU(e)},a=this._parseSync({data:e,path:r.path,parent:r});return t0(r,a)}},{key:"~validate",value:function(e){var t,n,r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tU(e)};if(!this["~standard"].async)try{var a=this._parseSync({data:e,path:[],parent:r});return tX(a)?{value:a.value}:{issues:r.common.issues}}catch(e){null!=(n=null==(t=null==e?void 0:e.message)?void 0:t.toLowerCase())&&n.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(function(e){return tX(e)?{value:e.value}:{issues:r.common.issues}})}},{key:"parseAsync",value:function(e,t){return eL(this,null,function(){var n;return(0,eb._)(this,function(r){switch(r.label){case 0:return[4,this.safeParseAsync(e,t)];case 1:if((n=r.sent()).success)return[2,n.data];throw n.error}})})}},{key:"safeParseAsync",value:function(e,t){return eL(this,null,function(){var n,r,a;return(0,eb._)(this,function(i){switch(i.label){case 0:return n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tU(e)},[4,tQ(r=this._parse({data:e,path:n.path,parent:n}))?r:Promise.resolve(r)];case 1:return a=i.sent(),[2,t0(n,a)]}})})}},{key:"refine",value:function(e,t){return this._refinement(function(n,r){var a=e(n),i=function(){return r.addIssue(ej({code:tD.custom},"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(n):t))};return"undefined"!=typeof Promise&&(0,em._)(a,Promise)?a.then(function(e){return!!e||(i(),!1)}):!!a||(i(),!1)})}},{key:"refinement",value:function(e,t){return this._refinement(function(n,r){return!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)})}},{key:"_refinement",value:function(e){return new nR({schema:this,typeName:O.ZodEffects,effect:{type:"refinement",refinement:e}})}},{key:"superRefine",value:function(e){return this._refinement(e)}},{key:"optional",value:function(){return nM.create(this,this._def)}},{key:"nullable",value:function(){return nL.create(this,this._def)}},{key:"nullish",value:function(){return this.nullable().optional()}},{key:"array",value:function(){return nw.create(this)}},{key:"promise",value:function(){return nF.create(this,this._def)}},{key:"or",value:function(e){return nS.create([this,e],this._def)}},{key:"and",value:function(e){return nT.create(this,e,this._def)}},{key:"transform",value:function(e){return new nR(eE(ej({},t1(this._def)),{schema:this,typeName:O.ZodEffects,effect:{type:"transform",transform:e}}))}},{key:"default",value:function(e){return new nU(eE(ej({},t1(this._def)),{innerType:this,defaultValue:"function"==typeof e?e:function(){return e},typeName:O.ZodDefault}))}},{key:"brand",value:function(){return new nK(ej({typeName:O.ZodBranded,type:this},t1(this._def)))}},{key:"catch",value:function(e){return new nD(eE(ej({},t1(this._def)),{innerType:this,catchValue:"function"==typeof e?e:function(){return e},typeName:O.ZodCatch}))}},{key:"describe",value:function(e){return new this.constructor(eE(ej({},this._def),{description:e}))}},{key:"pipe",value:function(e){return nW.create(this,e)}},{key:"readonly",value:function(){return nz.create(this)}},{key:"isOptional",value:function(){return this.safeParse(void 0).success}},{key:"isNullable",value:function(){return this.safeParse(null).success}}]),e}(),t4=/^c[^\s-]{8,}$/i,t9=/^[0-9a-z]+$/,t3=/^[0-9A-HJKMNP-TV-Z]{26}$/i,t5=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,t6=/^[a-z0-9_-]{21}$/i,t8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,t7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ne=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,nn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,nr=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,na=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ni=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ns=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nu="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",no=new RegExp("^".concat(nu,"$"));function nc(e){var t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?"));var n=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(n)}var nl=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==tL.string){var t=this._getOrReturnCtx(e);return tz(t,{code:tD.invalid_type,expected:tL.string,received:t.parsedType}),tq}var n=new tB,r=!0,a=!1,i=void 0;try{for(var s,u,o=this._def.checks[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var c,l,d,f,h=u.value;if("min"===h.kind)e.data.length<h.value&&(s=this._getOrReturnCtx(e,s),tz(s,{code:tD.too_small,minimum:h.value,type:"string",inclusive:!0,exact:!1,message:h.message}),n.dirty());else if("max"===h.kind)e.data.length>h.value&&(s=this._getOrReturnCtx(e,s),tz(s,{code:tD.too_big,maximum:h.value,type:"string",inclusive:!0,exact:!1,message:h.message}),n.dirty());else if("length"===h.kind){var v=e.data.length>h.value,y=e.data.length<h.value;(v||y)&&(s=this._getOrReturnCtx(e,s),v?tz(s,{code:tD.too_big,maximum:h.value,type:"string",inclusive:!0,exact:!0,message:h.message}):y&&tz(s,{code:tD.too_small,minimum:h.value,type:"string",inclusive:!0,exact:!0,message:h.message}),n.dirty())}else if("email"===h.kind)ne.test(e.data)||(s=this._getOrReturnCtx(e,s),tz(s,{validation:"email",code:tD.invalid_string,message:h.message}),n.dirty());else if("emoji"===h.kind)A||(A=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),A.test(e.data)||(s=this._getOrReturnCtx(e,s),tz(s,{validation:"emoji",code:tD.invalid_string,message:h.message}),n.dirty());else if("uuid"===h.kind)t5.test(e.data)||(s=this._getOrReturnCtx(e,s),tz(s,{validation:"uuid",code:tD.invalid_string,message:h.message}),n.dirty());else if("nanoid"===h.kind)t6.test(e.data)||(s=this._getOrReturnCtx(e,s),tz(s,{validation:"nanoid",code:tD.invalid_string,message:h.message}),n.dirty());else if("cuid"===h.kind)t4.test(e.data)||(s=this._getOrReturnCtx(e,s),tz(s,{validation:"cuid",code:tD.invalid_string,message:h.message}),n.dirty());else if("cuid2"===h.kind)t9.test(e.data)||(s=this._getOrReturnCtx(e,s),tz(s,{validation:"cuid2",code:tD.invalid_string,message:h.message}),n.dirty());else if("ulid"===h.kind)t3.test(e.data)||(s=this._getOrReturnCtx(e,s),tz(s,{validation:"ulid",code:tD.invalid_string,message:h.message}),n.dirty());else if("url"===h.kind)try{new URL(e.data)}catch(t){s=this._getOrReturnCtx(e,s),tz(s,{validation:"url",code:tD.invalid_string,message:h.message}),n.dirty()}else"regex"===h.kind?(h.regex.lastIndex=0,h.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),tz(s,{validation:"regex",code:tD.invalid_string,message:h.message}),n.dirty())):"trim"===h.kind?e.data=e.data.trim():"includes"===h.kind?e.data.includes(h.value,h.position)||(s=this._getOrReturnCtx(e,s),tz(s,{code:tD.invalid_string,validation:{includes:h.value,position:h.position},message:h.message}),n.dirty()):"toLowerCase"===h.kind?e.data=e.data.toLowerCase():"toUpperCase"===h.kind?e.data=e.data.toUpperCase():"startsWith"===h.kind?e.data.startsWith(h.value)||(s=this._getOrReturnCtx(e,s),tz(s,{code:tD.invalid_string,validation:{startsWith:h.value},message:h.message}),n.dirty()):"endsWith"===h.kind?e.data.endsWith(h.value)||(s=this._getOrReturnCtx(e,s),tz(s,{code:tD.invalid_string,validation:{endsWith:h.value},message:h.message}),n.dirty()):"datetime"===h.kind?(function(e){var t="".concat(nu,"T").concat(nc(e)),n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))})(h).test(e.data)||(s=this._getOrReturnCtx(e,s),tz(s,{code:tD.invalid_string,validation:"datetime",message:h.message}),n.dirty()):"date"===h.kind?no.test(e.data)||(s=this._getOrReturnCtx(e,s),tz(s,{code:tD.invalid_string,validation:"date",message:h.message}),n.dirty()):"time"===h.kind?new RegExp("^".concat(nc(h),"$")).test(e.data)||(s=this._getOrReturnCtx(e,s),tz(s,{code:tD.invalid_string,validation:"time",message:h.message}),n.dirty()):"duration"===h.kind?t7.test(e.data)||(s=this._getOrReturnCtx(e,s),tz(s,{validation:"duration",code:tD.invalid_string,message:h.message}),n.dirty()):"ip"===h.kind?(c=e.data,l=h.version,("v4"===l||!l)&&nt.test(c)||("v6"===l||!l)&&nr.test(c)||(s=this._getOrReturnCtx(e,s),tz(s,{validation:"ip",code:tD.invalid_string,message:h.message}),n.dirty())):"jwt"===h.kind?function(e,t){if(!t8.test(e))return!1;try{var n=(0,P._)(e.split("."),1)[0],r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!((void 0===a?"undefined":(0,eg._)(a))!="object"||null===a||"typ"in a&&(null==a?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch(e){return!1}}(e.data,h.alg)||(s=this._getOrReturnCtx(e,s),tz(s,{validation:"jwt",code:tD.invalid_string,message:h.message}),n.dirty()):"cidr"===h.kind?(d=e.data,f=h.version,("v4"===f||!f)&&nn.test(d)||("v6"===f||!f)&&na.test(d)||(s=this._getOrReturnCtx(e,s),tz(s,{validation:"cidr",code:tD.invalid_string,message:h.message}),n.dirty())):"base64"===h.kind?ni.test(e.data)||(s=this._getOrReturnCtx(e,s),tz(s,{validation:"base64",code:tD.invalid_string,message:h.message}),n.dirty()):"base64url"===h.kind?ns.test(e.data)||(s=this._getOrReturnCtx(e,s),tz(s,{validation:"base64url",code:tD.invalid_string,message:h.message}),n.dirty()):x.assertNever(h)}}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return{status:n.value,value:e.data}}},{key:"_regex",value:function(e,t,n){return this.refinement(function(t){return e.test(t)},ej({validation:t,code:tD.invalid_string},T.errToObj(n)))}},{key:"_addCheck",value:function(e){return new t(eE(ej({},this._def),{checks:(0,e_._)(this._def.checks).concat([e])}))}},{key:"email",value:function(e){return this._addCheck(ej({kind:"email"},T.errToObj(e)))}},{key:"url",value:function(e){return this._addCheck(ej({kind:"url"},T.errToObj(e)))}},{key:"emoji",value:function(e){return this._addCheck(ej({kind:"emoji"},T.errToObj(e)))}},{key:"uuid",value:function(e){return this._addCheck(ej({kind:"uuid"},T.errToObj(e)))}},{key:"nanoid",value:function(e){return this._addCheck(ej({kind:"nanoid"},T.errToObj(e)))}},{key:"cuid",value:function(e){return this._addCheck(ej({kind:"cuid"},T.errToObj(e)))}},{key:"cuid2",value:function(e){return this._addCheck(ej({kind:"cuid2"},T.errToObj(e)))}},{key:"ulid",value:function(e){return this._addCheck(ej({kind:"ulid"},T.errToObj(e)))}},{key:"base64",value:function(e){return this._addCheck(ej({kind:"base64"},T.errToObj(e)))}},{key:"base64url",value:function(e){return this._addCheck(ej({kind:"base64url"},T.errToObj(e)))}},{key:"jwt",value:function(e){return this._addCheck(ej({kind:"jwt"},T.errToObj(e)))}},{key:"ip",value:function(e){return this._addCheck(ej({kind:"ip"},T.errToObj(e)))}},{key:"cidr",value:function(e){return this._addCheck(ej({kind:"cidr"},T.errToObj(e)))}},{key:"datetime",value:function(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(ej({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!=(t=null==e?void 0:e.offset)&&t,local:null!=(n=null==e?void 0:e.local)&&n},T.errToObj(null==e?void 0:e.message)))}},{key:"date",value:function(e){return this._addCheck({kind:"date",message:e})}},{key:"time",value:function(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(ej({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision},T.errToObj(null==e?void 0:e.message)))}},{key:"duration",value:function(e){return this._addCheck(ej({kind:"duration"},T.errToObj(e)))}},{key:"regex",value:function(e,t){return this._addCheck(ej({kind:"regex",regex:e},T.errToObj(t)))}},{key:"includes",value:function(e,t){return this._addCheck(ej({kind:"includes",value:e,position:null==t?void 0:t.position},T.errToObj(null==t?void 0:t.message)))}},{key:"startsWith",value:function(e,t){return this._addCheck(ej({kind:"startsWith",value:e},T.errToObj(t)))}},{key:"endsWith",value:function(e,t){return this._addCheck(ej({kind:"endsWith",value:e},T.errToObj(t)))}},{key:"min",value:function(e,t){return this._addCheck(ej({kind:"min",value:e},T.errToObj(t)))}},{key:"max",value:function(e,t){return this._addCheck(ej({kind:"max",value:e},T.errToObj(t)))}},{key:"length",value:function(e,t){return this._addCheck(ej({kind:"length",value:e},T.errToObj(t)))}},{key:"nonempty",value:function(e){return this.min(1,T.errToObj(e))}},{key:"trim",value:function(){return new t(eE(ej({},this._def),{checks:(0,e_._)(this._def.checks).concat([{kind:"trim"}])}))}},{key:"toLowerCase",value:function(){return new t(eE(ej({},this._def),{checks:(0,e_._)(this._def.checks).concat([{kind:"toLowerCase"}])}))}},{key:"toUpperCase",value:function(){return new t(eE(ej({},this._def),{checks:(0,e_._)(this._def.checks).concat([{kind:"toUpperCase"}])}))}},{key:"isDatetime",get:function(){return!!this._def.checks.find(function(e){return"datetime"===e.kind})}},{key:"isDate",get:function(){return!!this._def.checks.find(function(e){return"date"===e.kind})}},{key:"isTime",get:function(){return!!this._def.checks.find(function(e){return"time"===e.kind})}},{key:"isDuration",get:function(){return!!this._def.checks.find(function(e){return"duration"===e.kind})}},{key:"isEmail",get:function(){return!!this._def.checks.find(function(e){return"email"===e.kind})}},{key:"isURL",get:function(){return!!this._def.checks.find(function(e){return"url"===e.kind})}},{key:"isEmoji",get:function(){return!!this._def.checks.find(function(e){return"emoji"===e.kind})}},{key:"isUUID",get:function(){return!!this._def.checks.find(function(e){return"uuid"===e.kind})}},{key:"isNANOID",get:function(){return!!this._def.checks.find(function(e){return"nanoid"===e.kind})}},{key:"isCUID",get:function(){return!!this._def.checks.find(function(e){return"cuid"===e.kind})}},{key:"isCUID2",get:function(){return!!this._def.checks.find(function(e){return"cuid2"===e.kind})}},{key:"isULID",get:function(){return!!this._def.checks.find(function(e){return"ulid"===e.kind})}},{key:"isIP",get:function(){return!!this._def.checks.find(function(e){return"ip"===e.kind})}},{key:"isCIDR",get:function(){return!!this._def.checks.find(function(e){return"cidr"===e.kind})}},{key:"isBase64",get:function(){return!!this._def.checks.find(function(e){return"base64"===e.kind})}},{key:"isBase64url",get:function(){return!!this._def.checks.find(function(e){return"base64url"===e.kind})}},{key:"minLength",get:function(){var e=null,t=!0,n=!1,r=void 0;try{for(var a,i=this._def.checks[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;"min"===s.kind&&(null===e||s.value>e)&&(e=s.value)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"maxLength",get:function(){var e=null,t=!0,n=!1,r=void 0;try{for(var a,i=this._def.checks[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;"max"===s.kind&&(null===e||s.value<e)&&(e=s.value)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}}]),t}(t2);nl.create=function(e){var t;return new nl(ej({checks:[],typeName:O.ZodString,coerce:null!=(t=null==e?void 0:e.coerce)&&t},t1(e)))};var nd=function(e){function t(){var e;return(0,eh._)(this,t),e=(0,ef._)(this,t,arguments),e.min=e.gte,e.max=e.lte,e.step=e.multipleOf,e}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==tL.number){var t=this._getOrReturnCtx(e);return tz(t,{code:tD.invalid_type,expected:tL.number,received:t.parsedType}),tq}var n=new tB,r=!0,a=!1,i=void 0;try{for(var s,u,o=this._def.checks[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var c=u.value;"int"===c.kind?x.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),tz(s,{code:tD.invalid_type,expected:"integer",received:"float",message:c.message}),n.dirty()):"min"===c.kind?(c.inclusive?e.data<c.value:e.data<=c.value)&&(s=this._getOrReturnCtx(e,s),tz(s,{code:tD.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),n.dirty()):"max"===c.kind?(c.inclusive?e.data>c.value:e.data>=c.value)&&(s=this._getOrReturnCtx(e,s),tz(s,{code:tD.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),n.dirty()):"multipleOf"===c.kind?0!==function(e,t){var n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/eI(10,a)}(e.data,c.value)&&(s=this._getOrReturnCtx(e,s),tz(s,{code:tD.not_multiple_of,multipleOf:c.value,message:c.message}),n.dirty()):"finite"===c.kind?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),tz(s,{code:tD.not_finite,message:c.message}),n.dirty()):x.assertNever(c)}}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return{status:n.value,value:e.data}}},{key:"gte",value:function(e,t){return this.setLimit("min",e,!0,T.toString(t))}},{key:"gt",value:function(e,t){return this.setLimit("min",e,!1,T.toString(t))}},{key:"lte",value:function(e,t){return this.setLimit("max",e,!0,T.toString(t))}},{key:"lt",value:function(e,t){return this.setLimit("max",e,!1,T.toString(t))}},{key:"setLimit",value:function(e,n,r,a){return new t(eE(ej({},this._def),{checks:(0,e_._)(this._def.checks).concat([{kind:e,value:n,inclusive:r,message:T.toString(a)}])}))}},{key:"_addCheck",value:function(e){return new t(eE(ej({},this._def),{checks:(0,e_._)(this._def.checks).concat([e])}))}},{key:"int",value:function(e){return this._addCheck({kind:"int",message:T.toString(e)})}},{key:"positive",value:function(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:T.toString(e)})}},{key:"negative",value:function(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:T.toString(e)})}},{key:"nonpositive",value:function(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:T.toString(e)})}},{key:"nonnegative",value:function(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:T.toString(e)})}},{key:"multipleOf",value:function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:T.toString(t)})}},{key:"finite",value:function(e){return this._addCheck({kind:"finite",message:T.toString(e)})}},{key:"safe",value:function(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:T.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:T.toString(e)})}},{key:"minValue",get:function(){var e=null,t=!0,n=!1,r=void 0;try{for(var a,i=this._def.checks[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;"min"===s.kind&&(null===e||s.value>e)&&(e=s.value)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"maxValue",get:function(){var e=null,t=!0,n=!1,r=void 0;try{for(var a,i=this._def.checks[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;"max"===s.kind&&(null===e||s.value<e)&&(e=s.value)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"isInt",get:function(){return!!this._def.checks.find(function(e){return"int"===e.kind||"multipleOf"===e.kind&&x.isInteger(e.value)})}},{key:"isFinite",get:function(){var e=null,t=null,n=!0,r=!1,a=void 0;try{for(var i,s=this._def.checks[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var u=i.value;if("finite"===u.kind||"int"===u.kind||"multipleOf"===u.kind)return!0;"min"===u.kind?(null===t||u.value>t)&&(t=u.value):"max"===u.kind&&(null===e||u.value<e)&&(e=u.value)}}catch(e){r=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}return Number.isFinite(t)&&Number.isFinite(e)}}]),t}(t2);nd.create=function(e){return new nd(ej({checks:[],typeName:O.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1},t1(e)))};var nf=function(e){function t(){var e;return(0,eh._)(this,t),e=(0,ef._)(this,t,arguments),e.min=e.gte,e.max=e.lte,e}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==tL.bigint)return this._getInvalidInput(e);var t=new tB,n=!0,r=!1,a=void 0;try{for(var i,s,u=this._def.checks[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var o=s.value;"min"===o.kind?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),tz(i,{code:tD.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),t.dirty()):"max"===o.kind?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),tz(i,{code:tD.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),t.dirty()):"multipleOf"===o.kind?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),tz(i,{code:tD.not_multiple_of,multipleOf:o.value,message:o.message}),t.dirty()):x.assertNever(o)}}catch(e){r=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw a}}return{status:t.value,value:e.data}}},{key:"_getInvalidInput",value:function(e){var t=this._getOrReturnCtx(e);return tz(t,{code:tD.invalid_type,expected:tL.bigint,received:t.parsedType}),tq}},{key:"gte",value:function(e,t){return this.setLimit("min",e,!0,T.toString(t))}},{key:"gt",value:function(e,t){return this.setLimit("min",e,!1,T.toString(t))}},{key:"lte",value:function(e,t){return this.setLimit("max",e,!0,T.toString(t))}},{key:"lt",value:function(e,t){return this.setLimit("max",e,!1,T.toString(t))}},{key:"setLimit",value:function(e,n,r,a){return new t(eE(ej({},this._def),{checks:(0,e_._)(this._def.checks).concat([{kind:e,value:n,inclusive:r,message:T.toString(a)}])}))}},{key:"_addCheck",value:function(e){return new t(eE(ej({},this._def),{checks:(0,e_._)(this._def.checks).concat([e])}))}},{key:"positive",value:function(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:T.toString(e)})}},{key:"negative",value:function(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:T.toString(e)})}},{key:"nonpositive",value:function(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:T.toString(e)})}},{key:"nonnegative",value:function(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:T.toString(e)})}},{key:"multipleOf",value:function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:T.toString(t)})}},{key:"minValue",get:function(){var e=null,t=!0,n=!1,r=void 0;try{for(var a,i=this._def.checks[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;"min"===s.kind&&(null===e||s.value>e)&&(e=s.value)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"maxValue",get:function(){var e=null,t=!0,n=!1,r=void 0;try{for(var a,i=this._def.checks[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;"max"===s.kind&&(null===e||s.value<e)&&(e=s.value)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}}]),t}(t2);nf.create=function(e){var t;return new nf(ej({checks:[],typeName:O.ZodBigInt,coerce:null!=(t=null==e?void 0:e.coerce)&&t},t1(e)))};var nh=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==tL.boolean){var t=this._getOrReturnCtx(e);return tz(t,{code:tD.invalid_type,expected:tL.boolean,received:t.parsedType}),tq}return t$(e.data)}}]),t}(t2);nh.create=function(e){return new nh(ej({typeName:O.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1},t1(e)))};var nv=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==tL.date){var t=this._getOrReturnCtx(e);return tz(t,{code:tD.invalid_type,expected:tL.date,received:t.parsedType}),tq}if(Number.isNaN(e.data.getTime()))return tz(this._getOrReturnCtx(e),{code:tD.invalid_date}),tq;var n=new tB,r=!0,a=!1,i=void 0;try{for(var s,u,o=this._def.checks[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var c=u.value;"min"===c.kind?e.data.getTime()<c.value&&(s=this._getOrReturnCtx(e,s),tz(s,{code:tD.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),n.dirty()):"max"===c.kind?e.data.getTime()>c.value&&(s=this._getOrReturnCtx(e,s),tz(s,{code:tD.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),n.dirty()):x.assertNever(c)}}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return{status:n.value,value:new Date(e.data.getTime())}}},{key:"_addCheck",value:function(e){return new t(eE(ej({},this._def),{checks:(0,e_._)(this._def.checks).concat([e])}))}},{key:"min",value:function(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:T.toString(t)})}},{key:"max",value:function(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:T.toString(t)})}},{key:"minDate",get:function(){var e=null,t=!0,n=!1,r=void 0;try{for(var a,i=this._def.checks[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;"min"===s.kind&&(null===e||s.value>e)&&(e=s.value)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return null!=e?new Date(e):null}},{key:"maxDate",get:function(){var e=null,t=!0,n=!1,r=void 0;try{for(var a,i=this._def.checks[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;"max"===s.kind&&(null===e||s.value<e)&&(e=s.value)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return null!=e?new Date(e):null}}]),t}(t2);nv.create=function(e){return new nv(ej({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:O.ZodDate},t1(e)))};var ny=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){if(this._getType(e)!==tL.symbol){var t=this._getOrReturnCtx(e);return tz(t,{code:tD.invalid_type,expected:tL.symbol,received:t.parsedType}),tq}return t$(e.data)}}]),t}(t2);ny.create=function(e){return new ny(ej({typeName:O.ZodSymbol},t1(e)))};var np=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){if(this._getType(e)!==tL.undefined){var t=this._getOrReturnCtx(e);return tz(t,{code:tD.invalid_type,expected:tL.undefined,received:t.parsedType}),tq}return t$(e.data)}}]),t}(t2);np.create=function(e){return new np(ej({typeName:O.ZodUndefined},t1(e)))};var nm=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){if(this._getType(e)!==tL.null){var t=this._getOrReturnCtx(e);return tz(t,{code:tD.invalid_type,expected:tL.null,received:t.parsedType}),tq}return t$(e.data)}}]),t}(t2);nm.create=function(e){return new nm(ej({typeName:O.ZodNull},t1(e)))};var n_=function(e){function t(){var e;return(0,eh._)(this,t),e=(0,ef._)(this,t,arguments),e._any=!0,e}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){return t$(e.data)}}]),t}(t2);n_.create=function(e){return new n_(ej({typeName:O.ZodAny},t1(e)))};var ng=function(e){function t(){var e;return(0,eh._)(this,t),e=(0,ef._)(this,t,arguments),e._unknown=!0,e}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){return t$(e.data)}}]),t}(t2);ng.create=function(e){return new ng(ej({typeName:O.ZodUnknown},t1(e)))};var nk=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){var t=this._getOrReturnCtx(e);return tz(t,{code:tD.invalid_type,expected:tL.never,received:t.parsedType}),tq}}]),t}(t2);nk.create=function(e){return new nk(ej({typeName:O.ZodNever},t1(e)))};var nb=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){if(this._getType(e)!==tL.undefined){var t=this._getOrReturnCtx(e);return tz(t,{code:tD.invalid_type,expected:tL.void,received:t.parsedType}),tq}return t$(e.data)}}]),t}(t2);nb.create=function(e){return new nb(ej({typeName:O.ZodVoid},t1(e)))};var nw=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.ctx,r=t.status,a=this._def;if(n.parsedType!==tL.array)return tz(n,{code:tD.invalid_type,expected:tL.array,received:n.parsedType}),tq;if(null!==a.exactLength){var i=n.data.length>a.exactLength.value,s=n.data.length<a.exactLength.value;(i||s)&&(tz(n,{code:i?tD.too_big:tD.too_small,minimum:s?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(null!==a.minLength&&n.data.length<a.minLength.value&&(tz(n,{code:tD.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),null!==a.maxLength&&n.data.length>a.maxLength.value&&(tz(n,{code:tD.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all((0,e_._)(n.data).map(function(e,t){return a.type._parseAsync(new tY(n,e,n.path,t))})).then(function(e){return tB.mergeArray(r,e)});var u=(0,e_._)(n.data).map(function(e,t){return a.type._parseSync(new tY(n,e,n.path,t))});return tB.mergeArray(r,u)}},{key:"element",get:function(){return this._def.type}},{key:"min",value:function(e,n){return new t(eE(ej({},this._def),{minLength:{value:e,message:T.toString(n)}}))}},{key:"max",value:function(e,n){return new t(eE(ej({},this._def),{maxLength:{value:e,message:T.toString(n)}}))}},{key:"length",value:function(e,n){return new t(eE(ej({},this._def),{exactLength:{value:e,message:T.toString(n)}}))}},{key:"nonempty",value:function(e){return this.min(1,e)}}]),t}(t2);nw.create=function(e,t){return new nw(ej({type:e,minLength:null,maxLength:null,exactLength:null,typeName:O.ZodArray},t1(t)))};var nx=function(e){function t(){var e;return(0,eh._)(this,t),e=(0,ef._)(this,t,arguments),e._cached=null,e.nonstrict=e.passthrough,e.augment=e.extend,e}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_getCached",value:function(){if(null!==this._cached)return this._cached;var e=this._def.shape(),t=x.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}},{key:"_parse",value:function(e){var t=this;if(this._getType(e)!==tL.object){var n=this._getOrReturnCtx(e);return tz(n,{code:tD.invalid_type,expected:tL.object,received:n.parsedType}),tq}var r=this._processInputParams(e),a=r.status,i=r.ctx,s=this._getCached(),u=s.shape,o=s.keys,c=[];if(!((0,em._)(this._def.catchall,nk)&&"strip"===this._def.unknownKeys))for(var l in i.data)o.includes(l)||c.push(l);var d=[],f=!0,h=!1,v=void 0;try{for(var y,p=o[Symbol.iterator]();!(f=(y=p.next()).done);f=!0){var m=y.value,_=u[m],g=i.data[m];d.push({key:{status:"valid",value:m},value:_._parse(new tY(i,g,i.path,m)),alwaysSet:m in i.data})}}catch(e){h=!0,v=e}finally{try{f||null==p.return||p.return()}finally{if(h)throw v}}if((0,em._)(this._def.catchall,nk)){var k=this._def.unknownKeys,b=!0,w=!1,x=void 0;if("passthrough"===k)try{for(var S,T=c[Symbol.iterator]();!(b=(S=T.next()).done);b=!0){var A=S.value;d.push({key:{status:"valid",value:A},value:{status:"valid",value:i.data[A]}})}}catch(e){w=!0,x=e}finally{try{b||null==T.return||T.return()}finally{if(w)throw x}}else if("strict"===k)c.length>0&&(tz(i,{code:tD.unrecognized_keys,keys:c}),a.dirty());else if("strip"!==k)throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{var O=this._def.catchall,C=!0,I=!1,N=void 0;try{for(var j,E=c[Symbol.iterator]();!(C=(j=E.next()).done);C=!0){var P=j.value,Z=i.data[P];d.push({key:{status:"valid",value:P},value:O._parse(new tY(i,Z,i.path,P)),alwaysSet:P in i.data})}}catch(e){I=!0,N=e}finally{try{C||null==E.return||E.return()}finally{if(I)throw N}}}return i.common.async?Promise.resolve().then(function(){return eL(t,null,function(){var e,t,n,r,a,i,s,u,o,c;return(0,eb._)(this,function(l){switch(l.label){case 0:e=[],t=!0,n=!1,r=void 0,l.label=1;case 1:l.trys.push([1,7,8,9]),a=d[Symbol.iterator](),l.label=2;case 2:if(t=(i=a.next()).done)return[3,6];return[4,(s=i.value).key];case 3:return u=l.sent(),[4,s.value];case 4:o=l.sent(),e.push({key:u,value:o,alwaysSet:s.alwaysSet}),l.label=5;case 5:return t=!0,[3,2];case 6:return[3,9];case 7:return c=l.sent(),n=!0,r=c,[3,9];case 8:try{t||null==a.return||a.return()}finally{if(n)throw r}return[7];case 9:return[2,e]}})})}).then(function(e){return tB.mergeObjectSync(a,e)}):tB.mergeObjectSync(a,d)}},{key:"shape",get:function(){return this._def.shape()}},{key:"strict",value:function(e){var n=this;return T.errToObj,new t(ej(eE(ej({},this._def),{unknownKeys:"strict"}),void 0!==e?{errorMap:function(t,r){var a,i,s,u,o=null!=(s=null==(i=(a=n._def).errorMap)?void 0:i.call(a,t,r).message)?s:r.defaultError;return"unrecognized_keys"===t.code?{message:null!=(u=T.errToObj(e).message)?u:o}:{message:o}}}:{}))}},{key:"strip",value:function(){return new t(eE(ej({},this._def),{unknownKeys:"strip"}))}},{key:"passthrough",value:function(){return new t(eE(ej({},this._def),{unknownKeys:"passthrough"}))}},{key:"extend",value:function(e){var n=this;return new t(eE(ej({},this._def),{shape:function(){return ej(ej({},n._def.shape()),e)}}))}},{key:"merge",value:function(e){var n=this;return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:function(){return ej(ej({},n._def.shape()),e._def.shape())},typeName:O.ZodObject})}},{key:"setKey",value:function(e,t){return this.augment((0,ey._)({},e,t))}},{key:"catchall",value:function(e){return new t(eE(ej({},this._def),{catchall:e}))}},{key:"pick",value:function(e){var n={},r=!0,a=!1,i=void 0;try{for(var s,u=x.objectKeys(e)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var o=s.value;e[o]&&this.shape[o]&&(n[o]=this.shape[o])}}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return new t(eE(ej({},this._def),{shape:function(){return n}}))}},{key:"omit",value:function(e){var n={},r=!0,a=!1,i=void 0;try{for(var s,u=x.objectKeys(this.shape)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var o=s.value;e[o]||(n[o]=this.shape[o])}}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return new t(eE(ej({},this._def),{shape:function(){return n}}))}},{key:"deepPartial",value:function(){return function e(t){if(!(0,em._)(t,nx))return(0,em._)(t,nw)?new nw(eE(ej({},t._def),{type:e(t.element)})):(0,em._)(t,nM)?nM.create(e(t.unwrap())):(0,em._)(t,nL)?nL.create(e(t.unwrap())):(0,em._)(t,nA)?nA.create(t.items.map(function(t){return e(t)})):t;var n={};for(var r in t.shape){var a=t.shape[r];n[r]=nM.create(e(a))}return new nx(eE(ej({},t._def),{shape:function(){return n}}))}(this)}},{key:"partial",value:function(e){var n={},r=!0,a=!1,i=void 0;try{for(var s,u=x.objectKeys(this.shape)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var o=s.value,c=this.shape[o];e&&!e[o]?n[o]=c:n[o]=c.optional()}}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return new t(eE(ej({},this._def),{shape:function(){return n}}))}},{key:"required",value:function(e){var n={},r=!0,a=!1,i=void 0;try{for(var s,u=x.objectKeys(this.shape)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var o=s.value;if(e&&!e[o])n[o]=this.shape[o];else{for(var c=this.shape[o];(0,em._)(c,nM);)c=c._def.innerType;n[o]=c}}}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return new t(eE(ej({},this._def),{shape:function(){return n}}))}},{key:"keyof",value:function(){return nE(x.objectKeys(this.shape))}}]),t}(t2);nx.create=function(e,t){return new nx(ej({shape:function(){return e},unknownKeys:"strip",catchall:nk.create(),typeName:O.ZodObject},t1(t)))},nx.strictCreate=function(e,t){return new nx(ej({shape:function(){return e},unknownKeys:"strict",catchall:nk.create(),typeName:O.ZodObject},t1(t)))},nx.lazycreate=function(e,t){return new nx(ej({shape:e,unknownKeys:"strip",catchall:nk.create(),typeName:O.ZodObject},t1(t)))};var nS=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e).ctx,r=this._def.options;if(n.common.async)return Promise.all(r.map(function(e){return eL(t,null,function(){var t,r;return(0,eb._)(this,function(a){switch(a.label){case 0:return t=eE(ej({},n),{common:eE(ej({},n.common),{issues:[]}),parent:null}),r={},[4,e._parseAsync({data:n.data,path:n.path,parent:t})];case 1:return[2,(r.result=a.sent(),r.ctx=t,r)]}})})})).then(function(e){var t=!0,r=!1,a=void 0;try{for(var i,s,u=e[Symbol.iterator]();!(t=(s=u.next()).done);t=!0){var o=s.value;if("valid"===o.result.status)return o.result}}catch(e){r=!0,a=e}finally{try{t||null==u.return||u.return()}finally{if(r)throw a}}var c=!0,l=!1,d=void 0;try{for(var f,h=e[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var v=f.value;if("dirty"===v.result.status)return(i=n.common.issues).push.apply(i,(0,e_._)(v.ctx.common.issues)),v.result}}catch(e){l=!0,d=e}finally{try{c||null==h.return||h.return()}finally{if(l)throw d}}var y=e.map(function(e){return new tV(e.ctx.common.issues)});return tz(n,{code:tD.invalid_union,unionErrors:y}),tq});var a=[],i=!0,s=!1,u=void 0;try{for(var o,c,l,d=r[Symbol.iterator]();!(i=(l=d.next()).done);i=!0){var f=l.value,h=eE(ej({},n),{common:eE(ej({},n.common),{issues:[]}),parent:null}),v=f._parseSync({data:n.data,path:n.path,parent:h});if("valid"===v.status)return v;"dirty"!==v.status||c||(c={result:v,ctx:h}),h.common.issues.length&&a.push(h.common.issues)}}catch(e){s=!0,u=e}finally{try{i||null==d.return||d.return()}finally{if(s)throw u}}if(c)return(o=n.common.issues).push.apply(o,(0,e_._)(c.ctx.common.issues)),c.result;var y=a.map(function(e){return new tV(e)});return tz(n,{code:tD.invalid_union,unionErrors:y}),tq}},{key:"options",get:function(){return this._def.options}}]),t}(t2);nS.create=function(e,t){return new nS(ej({options:e,typeName:O.ZodUnion},t1(t)))};var nT=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx,a=function(e,t){if(tJ(e)||tJ(t))return tq;var a=function e(t,n){var r=tU(t),a=tU(n);if(t===n)return{valid:!0,data:t};if(r===tL.object&&a===tL.object){var i=x.objectKeys(n),s=x.objectKeys(t).filter(function(e){return -1!==i.indexOf(e)}),u=ej(ej({},t),n),o=!0,c=!1,l=void 0;try{for(var d,f=s[Symbol.iterator]();!(o=(d=f.next()).done);o=!0){var h=d.value,v=e(t[h],n[h]);if(!v.valid)return{valid:!1};u[h]=v.data}}catch(e){c=!0,l=e}finally{try{o||null==f.return||f.return()}finally{if(c)throw l}}return{valid:!0,data:u}}if(r!==tL.array||a!==tL.array)return r===tL.date&&a===tL.date&&+t==+n?{valid:!0,data:t}:{valid:!1};if(t.length!==n.length)return{valid:!1};for(var y=[],p=0;p<t.length;p++){var m=e(t[p],n[p]);if(!m.valid)return{valid:!1};y.push(m.data)}return{valid:!0,data:y}}(e.value,t.value);return a.valid?((tG(e)||tG(t))&&n.dirty(),{status:n.value,value:a.data}):(tz(r,{code:tD.invalid_intersection_types}),tq)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(function(e){var t=(0,P._)(e,2);return a(t[0],t[1])}):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}]),t}(t2);nT.create=function(e,t,n){return new nT(ej({left:e,right:t,typeName:O.ZodIntersection},t1(n)))};var nA=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,a=n.ctx;if(a.parsedType!==tL.array)return tz(a,{code:tD.invalid_type,expected:tL.array,received:a.parsedType}),tq;if(a.data.length<this._def.items.length)return tz(a,{code:tD.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tq;!this._def.rest&&a.data.length>this._def.items.length&&(tz(a,{code:tD.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());var i=(0,e_._)(a.data).map(function(e,n){var r=t._def.items[n]||t._def.rest;return r?r._parse(new tY(a,e,a.path,n)):null}).filter(function(e){return!!e});return a.common.async?Promise.all(i).then(function(e){return tB.mergeArray(r,e)}):tB.mergeArray(r,i)}},{key:"items",get:function(){return this._def.items}},{key:"rest",value:function(e){return new t(eE(ej({},this._def),{rest:e}))}}]),t}(t2);nA.create=function(e,t){if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new nA(ej({items:e,typeName:O.ZodTuple,rest:null},t1(t)))};var nO=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"keySchema",get:function(){return this._def.keyType}},{key:"valueSchema",get:function(){return this._def.valueType}},{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==tL.object)return tz(r,{code:tD.invalid_type,expected:tL.object,received:r.parsedType}),tq;var a=[],i=this._def.keyType,s=this._def.valueType;for(var u in r.data)a.push({key:i._parse(new tY(r,u,r.path,u)),value:s._parse(new tY(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?tB.mergeObjectAsync(n,a):tB.mergeObjectSync(n,a)}},{key:"element",get:function(){return this._def.valueType}}],[{key:"create",value:function(e,n,r){return new t((0,em._)(n,t2)?ej({keyType:e,valueType:n,typeName:O.ZodRecord},t1(r)):ej({keyType:nl.create(),valueType:e,typeName:O.ZodRecord},t1(n)))}}]),t}(t2),nC=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"keySchema",get:function(){return this._def.keyType}},{key:"valueSchema",get:function(){return this._def.valueType}},{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,a=n.ctx;if(a.parsedType!==tL.map)return tz(a,{code:tD.invalid_type,expected:tL.map,received:a.parsedType}),tq;var i=this._def.keyType,s=this._def.valueType,u=(0,e_._)(a.data.entries()).map(function(e,t){var n=(0,P._)(e,2),r=n[0],u=n[1];return{key:i._parse(new tY(a,r,a.path,[t,"key"])),value:s._parse(new tY(a,u,a.path,[t,"value"]))}});if(a.common.async){var o=new Map;return Promise.resolve().then(function(){return eL(t,null,function(){var e,t,n,a,i,s,c,l,d;return(0,eb._)(this,function(f){switch(f.label){case 0:e=!0,t=!1,n=void 0,f.label=1;case 1:f.trys.push([1,7,8,9]),a=u[Symbol.iterator](),f.label=2;case 2:if(e=(i=a.next()).done)return[3,6];return[4,(s=i.value).key];case 3:return c=f.sent(),[4,s.value];case 4:if(l=f.sent(),"aborted"===c.status||"aborted"===l.status)return[2,tq];("dirty"===c.status||"dirty"===l.status)&&r.dirty(),o.set(c.value,l.value),f.label=5;case 5:return e=!0,[3,2];case 6:return[3,9];case 7:return d=f.sent(),t=!0,n=d,[3,9];case 8:try{e||null==a.return||a.return()}finally{if(t)throw n}return[7];case 9:return[2,{status:r.value,value:o}]}})})})}var c=new Map,l=!0,d=!1,f=void 0;try{for(var h,v=u[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){var y=h.value,p=y.key,m=y.value;if("aborted"===p.status||"aborted"===m.status)return tq;("dirty"===p.status||"dirty"===m.status)&&r.dirty(),c.set(p.value,m.value)}}catch(e){d=!0,f=e}finally{try{l||null==v.return||v.return()}finally{if(d)throw f}}return{status:r.value,value:c}}}]),t}(t2);nC.create=function(e,t,n){return new nC(ej({valueType:t,keyType:e,typeName:O.ZodMap},t1(n)))};var nI=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==tL.set)return tz(r,{code:tD.invalid_type,expected:tL.set,received:r.parsedType}),tq;var a=this._def;null!==a.minSize&&r.data.size<a.minSize.value&&(tz(r,{code:tD.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),null!==a.maxSize&&r.data.size>a.maxSize.value&&(tz(r,{code:tD.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());var i=this._def.valueType;function s(e){var t=new Set,r=!0,a=!1,i=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var o=s.value;if("aborted"===o.status)return tq;"dirty"===o.status&&n.dirty(),t.add(o.value)}}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return{status:n.value,value:t}}var u=(0,e_._)(r.data.values()).map(function(e,t){return i._parse(new tY(r,e,r.path,t))});return r.common.async?Promise.all(u).then(function(e){return s(e)}):s(u)}},{key:"min",value:function(e,n){return new t(eE(ej({},this._def),{minSize:{value:e,message:T.toString(n)}}))}},{key:"max",value:function(e,n){return new t(eE(ej({},this._def),{maxSize:{value:e,message:T.toString(n)}}))}},{key:"size",value:function(e,t){return this.min(e,t).max(e,t)}},{key:"nonempty",value:function(e){return this.min(1,e)}}]),t}(t2);nI.create=function(e,t){return new nI(ej({valueType:e,minSize:null,maxSize:null,typeName:O.ZodSet},t1(t)))};var nN=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"schema",get:function(){return this._def.getter()}},{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}]),t}(t2);nN.create=function(e,t){return new nN(ej({getter:e,typeName:O.ZodLazy},t1(t)))};var nj=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){if(e.data!==this._def.value){var t=this._getOrReturnCtx(e);return tz(t,{received:t.data,code:tD.invalid_literal,expected:this._def.value}),tq}return{status:"valid",value:e.data}}},{key:"value",get:function(){return this._def.value}}]),t}(t2);function nE(e,t){return new nP(ej({values:e,typeName:O.ZodEnum},t1(t)))}nj.create=function(e,t){return new nj(ej({value:e,typeName:O.ZodLiteral},t1(t)))};var nP=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){if("string"!=typeof e.data){var t=this._getOrReturnCtx(e),n=this._def.values;return tz(t,{expected:x.joinValues(n),received:t.parsedType,code:tD.invalid_type}),tq}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){var r=this._getOrReturnCtx(e),a=this._def.values;return tz(r,{received:r.data,code:tD.invalid_enum_value,options:a}),tq}return t$(e.data)}},{key:"options",get:function(){return this._def.values}},{key:"enum",get:function(){var e={},t=!0,n=!1,r=void 0;try{for(var a,i=this._def.values[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;e[s]=s}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"Values",get:function(){var e={},t=!0,n=!1,r=void 0;try{for(var a,i=this._def.values[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;e[s]=s}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"Enum",get:function(){var e={},t=!0,n=!1,r=void 0;try{for(var a,i=this._def.values[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;e[s]=s}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"extract",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return t.create(e,ej(ej({},this._def),n))}},{key:"exclude",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return t.create(this.options.filter(function(t){return!e.includes(t)}),ej(ej({},this._def),n))}}]),t}(t2);nP.create=nE;var nZ=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){var t=x.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==tL.string&&n.parsedType!==tL.number){var r=x.objectValues(t);return tz(n,{expected:x.joinValues(r),received:n.parsedType,code:tD.invalid_type}),tq}if(this._cache||(this._cache=new Set(x.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){var a=x.objectValues(t);return tz(n,{received:n.data,code:tD.invalid_enum_value,options:a}),tq}return t$(e.data)}},{key:"enum",get:function(){return this._def.values}}]),t}(t2);nZ.create=function(e,t){return new nZ(ej({values:e,typeName:O.ZodNativeEnum},t1(t)))};var nF=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"unwrap",value:function(){return this._def.type}},{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e).ctx;return n.parsedType!==tL.promise&&!1===n.common.async?(tz(n,{code:tD.invalid_type,expected:tL.promise,received:n.parsedType}),tq):t$((n.parsedType===tL.promise?n.data:Promise.resolve(n.data)).then(function(e){return t._def.type.parseAsync(e,{path:n.path,errorMap:n.common.contextualErrorMap})}))}}]),t}(t2);nF.create=function(e,t){return new nF(ej({type:e,typeName:O.ZodPromise},t1(t)))};var nR=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"innerType",value:function(){return this._def.schema}},{key:"sourceType",value:function(){return this._def.schema._def.typeName===O.ZodEffects?this._def.schema.sourceType():this._def.schema}},{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,a=n.ctx,i=this._def.effect||null,s={addIssue:function(e){tz(a,e),e.fatal?r.abort():r.dirty()},get path(){return a.path}};if(s.addIssue=s.addIssue.bind(s),"preprocess"===i.type){var u=i.transform(a.data,s);if(a.common.async)return Promise.resolve(u).then(function(e){return eL(t,null,function(){var t;return(0,eb._)(this,function(n){switch(n.label){case 0:if("aborted"===r.value)return[2,tq];return[4,this._def.schema._parseAsync({data:e,path:a.path,parent:a})];case 1:return[2,"aborted"===(t=n.sent()).status?tq:"dirty"===t.status||"dirty"===r.value?tH(t.value):t]}})})});if("aborted"===r.value)return tq;var o=this._def.schema._parseSync({data:u,path:a.path,parent:a});return"aborted"===o.status?tq:"dirty"===o.status||"dirty"===r.value?tH(o.value):o}if("refinement"===i.type){var c=function(e){var t=i.refinement(e,s);if(a.common.async)return Promise.resolve(t);if((0,em._)(t,Promise))throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==a.common.async)return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(function(e){return"aborted"===e.status?tq:("dirty"===e.status&&r.dirty(),c(e.value).then(function(){return{status:r.value,value:e.value}}))});var l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===l.status?tq:("dirty"===l.status&&r.dirty(),c(l.value),{status:r.value,value:l.value})}if("transform"===i.type)if(!1!==a.common.async)return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(function(e){return tX(e)?Promise.resolve(i.transform(e.value,s)).then(function(e){return{status:r.value,value:e}}):tq});else{var d=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!tX(d))return tq;var f=i.transform(d.value,s);if((0,em._)(f,Promise))throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:f}}x.assertNever(i)}}]),t}(t2);nR.create=function(e,t,n){return new nR(ej({schema:e,typeName:O.ZodEffects,effect:t},t1(n)))},nR.createWithPreprocess=function(e,t,n){return new nR(ej({schema:t,effect:{type:"preprocess",transform:e},typeName:O.ZodEffects},t1(n)))};var nM=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){return this._getType(e)===tL.undefined?t$(void 0):this._def.innerType._parse(e)}},{key:"unwrap",value:function(){return this._def.innerType}}]),t}(t2);nM.create=function(e,t){return new nM(ej({innerType:e,typeName:O.ZodOptional},t1(t)))};var nL=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){return this._getType(e)===tL.null?t$(null):this._def.innerType._parse(e)}},{key:"unwrap",value:function(){return this._def.innerType}}]),t}(t2);nL.create=function(e,t){return new nL(ej({innerType:e,typeName:O.ZodNullable},t1(t)))};var nU=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=t.data;return t.parsedType===tL.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}},{key:"removeDefault",value:function(){return this._def.innerType}}]),t}(t2);nU.create=function(e,t){return new nU(ej({innerType:e,typeName:O.ZodDefault,defaultValue:"function"==typeof t.default?t.default:function(){return t.default}},t1(t)))};var nD=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e).ctx,r=eE(ej({},n),{common:eE(ej({},n.common),{issues:[]})}),a=this._def.innerType._parse({data:r.data,path:r.path,parent:ej({},r)});return tQ(a)?a.then(function(e){return{status:"valid",value:"valid"===e.status?e.value:t._def.catchValue({get error(){return new tV(r.common.issues)},input:r.data})}}):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new tV(r.common.issues)},input:r.data})}}},{key:"removeCatch",value:function(){return this._def.innerType}}]),t}(t2);nD.create=function(e,t){return new nD(ej({innerType:e,typeName:O.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:function(){return t.catch}},t1(t)))};var nV=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){if(this._getType(e)!==tL.nan){var t=this._getOrReturnCtx(e);return tz(t,{code:tD.invalid_type,expected:tL.nan,received:t.parsedType}),tq}return{status:"valid",value:e.data}}}]),t}(t2);nV.create=function(e){return new nV(ej({typeName:O.ZodNaN},t1(e)))};var nK=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}},{key:"unwrap",value:function(){return this._def.type}}]),t}(t2),nW=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.common.async)return eL(this,null,function(){var e;return(0,eb._)(this,function(t){switch(t.label){case 0:return[4,this._def.in._parseAsync({data:r.data,path:r.path,parent:r})];case 1:return[2,"aborted"===(e=t.sent()).status?tq:"dirty"===e.status?(n.dirty(),tH(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})]}})});var a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===a.status?tq:"dirty"===a.status?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}],[{key:"create",value:function(e,n){return new t({in:e,out:n,typeName:O.ZodPipeline})}}]),t}(t2),nz=function(e){function t(){return(0,eh._)(this,t),(0,ef._)(this,t,arguments)}return(0,ep._)(t,e),(0,ev._)(t,[{key:"_parse",value:function(e){var t=this._def.innerType._parse(e),n=function(e){return tX(e)&&(e.value=Object.freeze(e.value)),e};return tQ(t)?t.then(function(e){return n(e)}):n(t)}},{key:"unwrap",value:function(){return this._def.innerType}}]),t}(t2);nz.create=function(e,t){return new nz(ej({innerType:e,typeName:O.ZodReadonly},t1(t)))},(a=O||(O={})).ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly";var nB=nl.create,nq=nd.create,nH=nh.create,n$=ng.create;nk.create;var nJ=nw.create,nG=nx.create,nX=nS.create;nT.create,nA.create;var nQ=nO.create,nY=nj.create,n0=nP.create;nF.create,nM.create,nL.create;var n1=nG({language:n0(["typescript","javascript"]).optional(),disableMarkedForExport:nH().optional(),allowAutoSelectFirstNode:nH().optional().default(!0)}).and(nX([nG({framework:nY("react"),model:nB().optional(),styling:n0(["plain_css","css_modules","styled_components","tailwind","sass","scss","inline_styles"]),uiLibrary:n0(["mui","antd","radix","shadcn"]).optional(),responsivePages:nJ(nG({name:nB(),framesId:nJ(nB())})).optional(),enableUILibraryTheming:nH().optional(),enableCompactStructure:nH().optional(),enableDisplayScreenModelId:nH().optional(),enableGeneratePackageLock:nH().optional(),enableAutoSplit:nH().optional(),autoSplitThreshold:nq().optional(),codegenSettings:nQ(n$()).optional()}),nG({framework:nY("html"),styling:n0(["plain_css","inline_styles","tailwind"]),enableTranslation:nH().optional()})])),n2=function(e){var t=n1.safeParse(e);if(!1===t.success){var n=Error("Invalid codegen settings");throw n.cause=t.error,n}return t.data},n4=new Set(["FRAME","INSTANCE","COMPONENT","COMPONENT_SET","GROUP"]),n9=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowAutoSelectFirstNode:!0},r=tM(e.document,t);if(!r)return{isValid:!1,reason:"There is no node with the given id"};if("CANVAS"===r.type){var a=r.children.filter(function(e){return n4.has(e.type)});return 0===a.length?{isValid:!1,reason:"Selected node is a page with no valid children"}:1===a.length?{isValid:!0,node:a[0],note:"Selected node is a page with a single valid children - returning it instead"}:n.allowAutoSelectFirstNode?{isValid:!0,node:a[0],note:"Selected node is a page with multiple valid children - returning the first one instead"}:{isValid:!1,reason:"Selected node is a page with multiple children"}}return n4.has(r.type)?{isValid:!0,node:r}:{isValid:!1,reason:"Selected node type is not supported"}};(0,ev._)(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.auth,r=t.apiBaseAddress;(0,eh._)(this,e),eF(this,N),eF(this,C),eF(this,I),eR(this,I,void 0===r?"https://public-api.animaapp.com":r),n&&(this.auth=n)},[{key:"hasAuth",value:function(){return!!eZ(this,C)}},{key:"auth",set:function(e){eR(this,C,e)}},{key:"headers",get:function(){var e={"Content-Type":"application/json"};return eZ(this,C)&&(e.Authorization="Bearer ".concat(eZ(this,C).token),"teamId"in eZ(this,C)&&(e["X-Team-Id"]=eZ(this,C).teamId)),e}},{key:"generateCode",value:function(e){return eL(this,arguments,function(e){var t,n,r,a,i,s,u=arguments;return(0,eb._)(this,function(o){switch(o.label){case 0:if(t=u.length>1&&void 0!==u[1]?u[1]:{},n=u.length>2?u[2]:void 0,a=n2(e.settings),!e.figmaToken)return[3,2];return[4,eM(this,N,j).call(this,e.fileKey,e.figmaToken,e.nodesId,{allowAutoSelectFirstNode:null==(r=a.allowAutoSelectFirstNode)||r},n)];case 1:o.sent(),o.label=2;case 2:return i=e.tracking,eZ(this,C)&&"userId"in eZ(this,C)&&eZ(this,C).userId&&(null!=i&&i.externalId||(i={externalId:eZ(this,C).userId})),s={tracking:i,fileKey:e.fileKey,figmaToken:e.figmaToken,nodesId:e.nodesId,assetsStorage:e.assetsStorage,language:a.language,model:a.model,framework:a.framework,styling:a.styling,uiLibrary:a.uiLibrary,enableTranslation:a.enableTranslation,enableUILibraryTheming:a.enableUILibraryTheming,enableCompactStructure:a.enableCompactStructure,enableAutoSplit:a.enableAutoSplit,autoSplitThreshold:a.autoSplitThreshold,disableMarkedForExport:a.disableMarkedForExport,allowAutoSelectFirstNode:a.allowAutoSelectFirstNode,enableDisplayScreenModelId:a.enableDisplayScreenModelId,enableGeneratePackageLock:a.enableGeneratePackageLock,codegenSettings:a.codegenSettings},[2,eM(this,N,E).call(this,"/v1/codegen",s,t,"codegen",n)]}})})}},{key:"generateLink2Code",value:function(e){return eL(this,arguments,function(e){var t,n,r,a,i=arguments;return(0,eb._)(this,function(s){return t=i.length>1&&void 0!==i[1]?i[1]:{},n=i.length>2?i[2]:void 0,r=e.tracking,eZ(this,C)&&"userId"in eZ(this,C)&&eZ(this,C).userId&&(null!=r&&r.externalId||(r={externalId:eZ(this,C).userId})),a={tracking:r,assetsStorage:e.assetsStorage,params:e.params},[2,eM(this,N,E).call(this,"/v1/l2c",a,t,"l2c",n)]})})}}]),C=new WeakMap,I=new WeakMap,N=new WeakSet,j=function(e,t,n,r,a){return eL(this,null,function(){var i,s,u;return(0,eb._)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,eL(null,[{fileKey:e,authToken:t,params:{geometry:"paths"},signal:a}],function(e){var t,n,r,a,i,s,u,o;return(0,eb._)(this,function(c){switch(c.label){case 0:t=e.fileKey,n=e.authToken,a=void 0===(r=e.figmaRestApi)?new tR:r,s=void 0===(i=e.params)?{}:i,u=e.signal,n&&(a.token=n),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,a.withOptions({abortSignal:u}).files.get({fileKey:t,params:s})];case 2:return[2,c.sent()];case 3:throw o=c.sent(),(0,em._)(o,Error)&&"AbortError"===o.name?o:(console.error(o),eB(o,t));case 4:return[2]}})})];case 1:return i=o.sent(),[3,3];case 2:if(s=o.sent(),(0,em._)(s,Error)&&"AbortError"===s.name)throw s;return[2];case 3:if(u=n.map(function(e){return n9(i,e,r)}).find(function(e){return!e.isValid}))throw new eU({message:"Task Crashed",code:u.reason});return[2]}})})},E=function(e,t,n,r,a){return eL(this,null,function(){var i,s,u,o,c,l,d,f,h,v,y,p,m,_,g,k,b,w,x,S,T,A,O,C,N,j,E;return(0,eb._)(this,function(P){switch(P.label){case 0:if(!1===this.hasAuth())throw Error('It needs to set "auth" before calling this method.');return v={},[4,fetch("".concat(eZ(this,I)).concat(e),{method:"POST",headers:eE(ej({},this.headers),{Accept:"text/event-stream"}),body:JSON.stringify(t),signal:a})];case 1:if((y=P.sent()).ok)return[3,3];return[4,y.text()];case 2:p=P.sent();try{m=JSON.parse(p)}catch(e){}throw new eU((null==(i=null==m?void 0:m.error)?void 0:i.name)==="ZodError"?{message:"HTTP error from Anima API",code:"Invalid body payload",detail:m.error.issues,status:y.status}:(void 0===m?"undefined":(0,eg._)(m))=="object"?{message:"Unknown error",code:"Unknown",status:y.status,detail:m}:{message:"HTTP error from Anima API",code:p,status:y.status});case 3:if(!y.body)throw new eU({message:"Stream Error",code:"Response body is null",status:y.status});_=y.body.getReader(),g=new TextDecoder,k="",P.label=4;case 4:P.trys.push([4,,9,10]),P.label=5;case 5:return[4,_.read()];case 6:if(w=(b=P.sent()).done,x=b.value,w)return[3,8];k+=g.decode(x,{stream:!0}),k=(S=k.split("\n")).pop()||"",T=!0,A=!1,O=void 0;try{for(C=S[Symbol.iterator]();!(T=(N=C.next()).done);T=!0)if(!(!(j=N.value).trim()||j.startsWith(":"))&&j.startsWith("data: ")){E=void 0;try{E=JSON.parse(j.slice(6))}catch(e){continue}switch(E.type){case"queueing":"function"==typeof n?n(E):null==(s=n.onQueueing)||s.call(n);break;case"start":v.sessionId=E.sessionId,"function"==typeof n?n(E):null==(u=n.onStart)||u.call(n,{sessionId:E.sessionId});break;case"pre_codegen":"codegen"===r&&("function"==typeof n?n(E):null==(o=n.onPreCodegen)||o.call(n,{message:E.message}));break;case"assets_uploaded":"function"==typeof n?n(E):null==(c=n.onAssetsUploaded)||c.call(n);break;case"assets_list":v.assets=E.payload.assets,"function"==typeof n?n(E):null==(l=n.onAssetsList)||l.call(n,E.payload);break;case"figma_metadata":"codegen"===r&&(v.figmaFileName=E.figmaFileName,v.figmaSelectedFrameName=E.figmaSelectedFrameName,"function"==typeof n?n(E):null==(d=n.onFigmaMetadata)||d.call(n,{figmaFileName:E.figmaFileName,figmaSelectedFrameName:E.figmaSelectedFrameName}));break;case"generating_code":"success"===E.payload.status&&(v.files=E.payload.files),"function"==typeof n?n(E):null==(f=n.onGeneratingCode)||f.call(n,{status:E.payload.status,progress:E.payload.progress,files:E.payload.files});break;case"codegen_completed":case"generation_completed":"function"==typeof n?n(E):null==(h=n.onCodegenCompleted)||h.call(n);break;case"error":throw new eU({message:E.payload.errorName,code:E.payload.reason});case"done":if(!v.files)throw new eU({message:"Invalid response",code:"No code generated"});return[2,(v.tokenUsage=E.payload.tokenUsage,v)]}}}catch(e){A=!0,O=e}finally{try{T||null==C.return||C.return()}finally{if(A)throw O}}P.label=7;case 7:return[3,5];case 8:return[3,10];case 9:return _.cancel(),[7];case 10:throw new eU({message:"Connection",code:"Connection closed before the 'done' message",status:500})}})})};var n3=function(e){var t;if(!e)return[!1,"",""];try{var n=new URL(e),r=n.pathname;if("https://www.figma.com"!==n.origin)return[!1,"",""];var a=n.toString();if(e!==a)return[!1,"",""];var i=(null!=(t=n.searchParams.get("node-id"))?t:"").replace(/-/g,":"),s=r.split("/")[2];return[(r.startsWith("/file/")&&"whiteboard"!==n.searchParams.get("type")||r.startsWith("/design/"))&&22===s.length,s,i]}catch(e){return[!1,"",""]}};i=(0,ek._)(Error),(0,ep._)(function e(t,n){var r;return(0,eh._)(this,e),(r=(0,ef._)(this,e,[t])).response=n,r},i),e.s(["isValidFigmaUrl",()=>n3],828043);var n5=e.i(98816),n6=e.i(858248),n8=e.i(709485),n7=e.i(297083),re=e.i(64386),rt=e.i(399528),rn=e.i(15053),rr=e.i(951262);function ra(){var e=(0,M._)(["\n  mutation CreateFigmaRepl($input: CreateReplInput!) {\n    createRepl(input: $input, isTitleAutoGenerated: false) {\n      ... on Repl {\n        id\n        url\n        isPrivate\n        nextPagePathname\n        origin {\n          id\n          isOwner\n        }\n        config {\n          figmaUrl\n          figmaImportStatus\n        }\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return ra=function(){return e},e}var ri={},rs=(0,L.gql)(ra()),ru=e.i(377772),ro=e.i(282453),rc=e.i(441329),rl=e.i(1324),rd=e.i(185591),rf=function(e){function t(e){var n;return(0,eh._)(this,t),n=(0,ef._)(this,t,[e]),(0,ey._)(n,"name","CreateFigmaReplError"),n}return(0,ep._)(t,e),t}((0,ek._)(Error));function rh(){var e,t=(0,P._)((0,Z.useState)("idle"),2),n=t[0],r=t[1],a=(0,rc.useIsInBonsaiWebview)(),i=(0,P._)((e=(0,R._)({},ri,void 0),rr.useMutation(rs,e)),1)[0],s=(0,rt.useRouter)(),u=(0,rl.default)();return{createFigmaRepl:function(e){return(0,n7._)(function(e){var t,n,o,c,l,d,f,h,v,y,p;return(0,eb._)(this,function(m){switch(m.label){case 0:return t=e.isPrivate,n=e.orgId,o=e.figmaUrl,c=e.initialPrompt,r("creating_repl"),[4,i({variables:{input:{isPrivate:t,orgId:n,figmaUrl:o,figmaImportStatus:F.FigmaImportStatus.Started}}})];case 1:if((f=m.sent()).errors)throw(0,ru.sendErrorToSentry)(new rf(f.errors.map(function(e){return e.message}).join(", "))),new rf("Something went wrong. Please try again.");if((null==(d=f.data)||null==(l=d.createRepl)?void 0:l.__typename)==="UserError")throw(0,ru.sendErrorToSentry)(new rf(f.data.createRepl.message)),new rf(f.data.createRepl.message);if(!f.data)throw new rf("Something went wrong. Please try again.");if(h=f.data.createRepl,r("opening_repl"),v={enterInAgentMode:!0},c&&(y=(0,rn.v4)(),ro.default.set("initial_queued_prompt_".concat(y),c),v.initialQueuedPromptKey=y),p=(0,rd.replLinkProps)(h,v),!a)return[3,2];return window.location.href=(0,rd.replLinkFullUrl)(h,v),[3,4];case 2:return[4,s.push((0,re._)((0,R._)({},p.href),{pathname:u}),p.as)];case 3:m.sent(),m.label=4;case 4:return[2]}})}).apply(this,arguments)},status:n}}e.s(["CreateFigmaReplError",()=>rf,"useCreateFigmaRepl",()=>rh],864122);var rv=[],ry=(0,Z.createContext)({openIntClientToken:null,isLoadingFigmaAuthentication:!1,isFigmaAuthenticated:!1,isFigmaAuthModalVisible:!1,onFigmaAuthCallback:function(){},showFigmaAuthModal:function(){},hideFigmaAuthModal:function(){},figmaLinks:rv,hasFigmaLinks:!1,createFigmaRepl:function(){return Promise.resolve()},createFigmaReplStatus:"idle",getFigmaTelemetryData:function(){return{hasFigmaLinks:!1,figmaLink:void 0,figmaLinksCount:0,figmaLinksCountUnique:0}}});ry.Provider;var rp=function(e){var t,n,r,a,i=e.detectedLinks,s=e.skipFigmaLinksCheck,u=e.source,o=(0,P._)((0,Z.useState)(!1),2),c=o[0],l=o[1],d=(0,Z.useMemo)(function(){var e=i.filter(function(e){return n3(e)[0]});return e.length>0?e:rv},[i]),f=d.length>0,h=rh(),v=h.createFigmaRepl,y=h.status,p=(t={skip:!s&&!f},n=(0,R._)({},eu,t),U.useQuery(ec,n)),m=p.data,_=p.refetch,g=p.loading,k=(0,n5.default)(_),b=null==m?void 0:m.currentUser,w=(null==b?void 0:b.__typename)==="CurrentUser"&&(null==b||null==(r=b.connectorContext)?void 0:r.__typename)==="CurrentUserConnectorContext"?b.connectorContext.openIntClientToken:null,x=(null==b?void 0:b.__typename)==="CurrentUser"&&(null==b||null==(a=b.figmaAuth)?void 0:a.provider)===F.UserAuthProviders.Figma,S=(0,Z.useCallback)(function(e){k.current()},[k]),T=(0,Z.useCallback)(function(e){e&&(0,n6.track)(n8.events.CONNECTION_SETUP_STARTED,{connectorName:"figma",source:u,surface:e.surface,trigger:e.trigger}),l(!0)},[u]),A=(0,Z.useCallback)(function(){l(!1)},[]),O=(0,n5.default)({figmaLinks:d,hasFigmaLinks:f}),C=(0,Z.useCallback)(function(){var e=O.current,t=(0,P._)(e.figmaLinks,1)[0];return{hasFigmaLinks:e.hasFigmaLinks,figmaLinksCount:e.figmaLinks.length,figmaLinksCountUnique:new Set(e.figmaLinks).size,figmaLink:t}},[O]);return(0,Z.useMemo)(function(){return{openIntClientToken:null!=w?w:null,isLoadingFigmaAuthentication:g,isFigmaAuthenticated:x,isFigmaAuthModalVisible:c,figmaLinks:d,hasFigmaLinks:f,onFigmaAuthCallback:S,showFigmaAuthModal:T,hideFigmaAuthModal:A,createFigmaRepl:v,createFigmaReplStatus:y,getFigmaTelemetryData:C}},[w,x,c,g,d,f,S,T,A,v,y,C])},rm=function(){return(0,Z.useContext)(ry)};e.s(["AgentInputFigmaContext",()=>ry,"useAgentInputFigmaContext",()=>rm,"useAgentInputFigmaContextProviderState",()=>rp],631936);var r_=e.i(276385),rg=e.i(507491),rk=e.i(917063);function rb(e){var t=e.onAuthenticated,n=e.onClose,r=rm(),a=r.openIntClientToken,i=r.isLoadingFigmaAuthentication,s=r.isFigmaAuthModalVisible,u=r.showFigmaAuthModal,o=r.hideFigmaAuthModal,c=r.onFigmaAuthCallback,l=(0,Z.useCallback)(function(e,t){e?u():(o(),null==n||n(t))},[u,o,n]),d=(0,P._)((0,rg.useCreateConnectionMutation)(),1)[0];if(!i&&s&&a)return(0,r_.jsx)(rk.AddIntegrationModal,{isOpen:s,setIsOpen:l,token:a,selectedConnector:"FIGMA",onEvent:function(e){return(0,n7._)(function(){return(0,eb._)(this,function(r){switch(r.label){case 0:if("connect.connection-connected"!==e.name)return[3,2];return[4,d({variables:{input:{connectionId:e.data.connection_id}}})];case 1:r.sent(),c(!0),null==t||t(!0),null==n||n("authenticated"),r.label=2;case 2:return[2]}})})()}})}e.s(["FigmaAuthModal",()=>rb],363605)}]);

//# debugId=53e88327-76b9-96a2-f9f0-b16596833a3c
//# sourceMappingURL=6eb11bb1f4152ec8.js.map