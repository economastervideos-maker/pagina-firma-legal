;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="c192f5c2-cd91-9aff-7af2-1ae6d4eac4a1")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,693482,e=>{"use strict";var t=e.i(701105);function i(e){return new t._(e)}e.s(["_",()=>i])},231693,e=>{"use strict";var t=e.i(40036).ContextAPI.getInstance();e.s(["context",()=>t])},164760,619379,e=>{"use strict";var t,i,n,r;(n=t||(t={}))[n.INTERNAL=0]="INTERNAL",n[n.SERVER=1]="SERVER",n[n.CLIENT=2]="CLIENT",n[n.PRODUCER=3]="PRODUCER",n[n.CONSUMER=4]="CONSUMER",e.s(["SpanKind",()=>t],164760),(r=i||(i={}))[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR",e.s(["SpanStatusCode",()=>i],619379)},364520,472278,944661,259535,483061,726753,770663,e=>{"use strict";var t=e.i(783942),i=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),n={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},r={set:function(e,t,i){null!=e&&(e[t]=i)}},s=e.i(40036),o=(0,e.i(908564).createContextKey)("OpenTelemetry Baggage Key");function a(e){return e.getValue(o)||void 0}function h(){return a(s.ContextAPI.getInstance().active())}function u(e,t){return e.setValue(o,t)}function c(e){return e.deleteValue(o)}var f=e.i(119468),l=e.i(883153),d=function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,s=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o},y=function(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},v=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=d(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,i){var n=new e(this._entries);return n._entries.set(t,i),n},e.prototype.removeEntry=function(t){var i=new e(this._entries);return i._entries.delete(t),i},e.prototype.removeEntries=function(){for(var t,i,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=new e(this._entries);try{for(var o=y(n),a=o.next();!a.done;a=o.next()){var h=a.value;s._entries.delete(h)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return s},e.prototype.clear=function(){return new e},e}(),g=Symbol("BaggageEntryMetadata"),p=l.DiagAPI.instance();function w(e){return void 0===e&&(e={}),new v(new Map(Object.entries(e)))}function U(e){return"string"!=typeof e&&(p.error("Cannot create baggage metadata from unknown type: "+(void 0===e?"undefined":(0,f._)(e))),e=""),{__TYPE__:g,toString:function(){return e}}}e.s(["baggageEntryMetadataFromString",()=>U,"createBaggage",()=>w],472278);var x="propagation",k=new i,b=(function(){function e(){this.createBaggage=w,this.getBaggage=a,this.getActiveBaggage=h,this.setBaggage=u,this.deleteBaggage=c}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,t.registerGlobal)(x,e,l.DiagAPI.instance())},e.prototype.inject=function(e,t,i){return void 0===i&&(i=r),this._getGlobalPropagator().inject(e,t,i)},e.prototype.extract=function(e,t,i){return void 0===i&&(i=n),this._getGlobalPropagator().extract(e,t,i)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,t.unregisterGlobal)(x,l.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return(0,t.getGlobal)(x)||k},e})().getInstance();e.s(["propagation",()=>b],364520);var m=e.i(399119),B=e.i(904851),S=e.i(445789),I=function(e){function t(e){(0,B._)(this,t);var i=(0,m._)(this,t,[e]);return Object.setPrototypeOf(i,Object.create(t.prototype)),Object.defineProperty(i,"name",{configurable:!0,enumerable:!1,value:t.name}),i}return(0,S._)(t,e),t}((0,e.i(463348)._)(Error));e.s(["DecodeError",()=>I],944661);var E=e.i(90659),_=e.i(167626),A=function e(t,i){(0,B._)(this,e),this.type=t,this.data=i};function L(e,t,i){var n=Math.floor(i/0x100000000);e.setUint32(t,n),e.setUint32(t+4,i)}function T(e,t){return 0x100000000*e.getInt32(t)+e.getUint32(t+4)}var z={type:-1,encode:function(e){var t,i,n,r;return(0,_._)(e,Date)?function(e){var t=e.sec,i=e.nsec;if(t>=0&&i>=0&&t<=0x3ffffffff)if(0===i&&t<=0xffffffff){var n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{var r=t/0x100000000,s=new Uint8Array(8),o=new DataView(s.buffer);return o.setUint32(0,i<<2|3&r),o.setUint32(4,0|t),s}var a=new Uint8Array(12),h=new DataView(a.buffer);return h.setUint32(0,i),L(h,4,t),a}((i=Math.floor((t=e.getTime())/1e3),r=Math.floor((n=(t-1e3*i)*1e6)/1e9),{sec:i+r,nsec:n-1e9*r})):null},decode:function(e){var t=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var i=t.getUint32(0);return{sec:(3&i)*0x100000000+t.getUint32(4),nsec:i>>>2};case 12:return{sec:T(t,4),nsec:t.getUint32(0)};default:throw new I("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}},C=function(){function e(){(0,B._)(this,e),this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(z)}return(0,E._)(e,[{key:"register",value:function(e){var t=e.type,i=e.encode,n=e.decode;if(t>=0)this.encoders[t]=i,this.decoders[t]=n;else{var r=-1-t;this.builtInEncoders[r]=i,this.builtInDecoders[r]=n}}},{key:"tryToEncode",value:function(e,t){for(var i=0;i<this.builtInEncoders.length;i++){var n=this.builtInEncoders[i];if(null!=n){var r=n(e,t);if(null!=r)return new A(-1-i,r)}}for(var s=0;s<this.encoders.length;s++){var o=this.encoders[s];if(null!=o){var a=o(e,t);if(null!=a)return new A(s,a)}}return(0,_._)(e,A)?e:null}},{key:"decode",value:function(e,t,i){var n=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return n?n(e,t,i):new A(t,e)}}]),e}();function M(e,t){var i={},n=!1;function r(i,r){return n=!0,{done:!1,value:t(r=new Promise(function(t){t(e[i](r))}))}}return"function"==typeof Symbol&&Symbol.iterator&&(i[Symbol.iterator]=function(){return this}),i.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(i.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(i.return=function(e){return r("return",e)}),i}C.defaultCodec=new C,e.s(["ExtensionCodec",()=>C],259535),e.s(["_",()=>M],483061);var P=e.i(394212),D=e.i(297083),R=e.i(693482),F=e.i(452723),O=e.i(817556),K=e.i(903673);function j(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}var N=e.i(346715),W=new TextEncoder;function V(e,t,i){for(var n,r=t,s=r+i,o=[],a="";r<s;){var h,u=e[r++];if((128&u)==0)o.push(u);else if((224&u)==192){var c=63&e[r++];o.push((31&u)<<6|c)}else if((240&u)==224){var f=63&e[r++],l=63&e[r++];o.push((31&u)<<12|f<<6|l)}else if((248&u)==240){var d=(7&u)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++];d>65535&&(d-=65536,o.push(d>>>10&1023|55296),d=56320|1023&d),o.push(d)}else o.push(u);o.length>=4096&&(a+=(h=String).fromCharCode.apply(h,(0,N._)(o)),o.length=0)}return o.length>0&&(a+=(n=String).fromCharCode.apply(n,(0,N._)(o))),a}var H=new TextDecoder;function G(e){return(0,_._)(e,Uint8Array)?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):(0,_._)(e,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(0,_._)(e,SharedArrayBuffer)?new Uint8Array(e):Uint8Array.from(e)}var J=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;(0,B._)(this,e),this.hit=0,this.miss=0,this.maxKeyLength=t,this.maxLengthPerKey=i,this.caches=[];for(var n=0;n<this.maxKeyLength;n++)this.caches.push([])}return(0,E._)(e,[{key:"canBeCached",value:function(e){return e>0&&e<=this.maxKeyLength}},{key:"find",value:function(e,t,i){var n=this.caches[i-1],r=!0,s=!1,o=void 0;try{e:for(var a,h=n[Symbol.iterator]();!(r=(a=h.next()).done);r=!0){for(var u=a.value,c=u.bytes,f=0;f<i;f++)if(c[f]!==e[t+f])continue e;return u.str}}catch(e){s=!0,o=e}finally{try{r||null==h.return||h.return()}finally{if(s)throw o}}return null}},{key:"store",value:function(e,t){var i=this.caches[e.length-1],n={bytes:e,str:t};i.length>=this.maxLengthPerKey?i[Math.random()*i.length|0]=n:i.push(n)}},{key:"decode",value:function(e,t,i){var n=this.find(e,t,i);if(null!=n)return this.hit++,n;this.miss++;var r=V(e,t,i),s=Uint8Array.prototype.slice.call(e,t,t+i);return this.store(s,r),r}}]),e}(),Y="array",q="map_key",Q="map_value",X=function(e){if("string"==typeof e||"number"==typeof e)return e;throw new I("The type of key must be string or number but "+(void 0===e?"undefined":(0,f._)(e)))},Z=function(){function e(){(0,B._)(this,e),this.stack=[],this.stackHeadPosition=-1}return(0,E._)(e,[{key:"length",get:function(){return this.stackHeadPosition+1}},{key:"top",value:function(){return this.stack[this.stackHeadPosition]}},{key:"pushArrayState",value:function(e){var t=this.getUninitializedStateFromPool();t.type=Y,t.position=0,t.size=e,t.array=Array(e)}},{key:"pushMapState",value:function(e){var t=this.getUninitializedStateFromPool();t.type=q,t.readCount=0,t.size=e,t.map={}}},{key:"getUninitializedStateFromPool",value:function(){return this.stackHeadPosition++,this.stackHeadPosition===this.stack.length&&this.stack.push({type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null}),this.stack[this.stackHeadPosition]}},{key:"release",value:function(e){if(this.stack[this.stackHeadPosition]!==e)throw Error("Invalid stack state. Released state is not on top of the stack.");e.type===Y&&(e.size=0,e.array=void 0,e.position=0,e.type=void 0),(e.type===q||e.type===Q)&&(e.size=0,e.map=void 0,e.readCount=0,e.type=void 0),this.stackHeadPosition--}},{key:"reset",value:function(){this.stack.length=0,this.stackHeadPosition=-1}}]),e}(),$=new DataView(new ArrayBuffer(0)),ee=new Uint8Array($.buffer);try{$.getInt8(0)}catch(e){if(!(0,_._)(e,RangeError))throw Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}var et=RangeError("Insufficient data"),ei=new J,en=function(){function e(t){var i,n,r,s,o,a,h,u,c;(0,B._)(this,e),this.totalPos=0,this.pos=0,this.view=$,this.bytes=ee,this.headByte=-1,this.stack=new Z,this.entered=!1,this.extensionCodec=null!=(i=null==t?void 0:t.extensionCodec)?i:C.defaultCodec,this.context=null==t?void 0:t.context,this.useBigInt64=null!=(n=null==t?void 0:t.useBigInt64)&&n,this.rawStrings=null!=(r=null==t?void 0:t.rawStrings)&&r,this.maxStrLength=null!=(s=null==t?void 0:t.maxStrLength)?s:0xffffffff,this.maxBinLength=null!=(o=null==t?void 0:t.maxBinLength)?o:0xffffffff,this.maxArrayLength=null!=(a=null==t?void 0:t.maxArrayLength)?a:0xffffffff,this.maxMapLength=null!=(h=null==t?void 0:t.maxMapLength)?h:0xffffffff,this.maxExtLength=null!=(u=null==t?void 0:t.maxExtLength)?u:0xffffffff,this.keyDecoder=(null==t?void 0:t.keyDecoder)!==void 0?t.keyDecoder:ei,this.mapKeyConverter=null!=(c=null==t?void 0:t.mapKeyConverter)?c:X}return(0,E._)(e,[{key:"clone",value:function(){return new e({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}},{key:"reinitializeState",value:function(){this.totalPos=0,this.headByte=-1,this.stack.reset()}},{key:"setBuffer",value:function(e){var t=G(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}},{key:"appendBuffer",value:function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),i=G(e),n=new Uint8Array(t.length+i.length);n.set(t),n.set(i,t.length),this.setBuffer(n)}else this.setBuffer(e)}},{key:"hasRemaining",value:function(e){return this.view.byteLength-this.pos>=e}},{key:"createExtraByteError",value:function(e){var t=this.view,i=this.pos;return RangeError("Extra ".concat(t.byteLength-i," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))}},{key:"decode",value:function(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}},{key:"decodeMulti",value:function(e){var t;return(0,O._)(this,function(i){switch(i.label){case 0:if(!this.entered)return[3,2];return t=this.clone(),[5,(0,K._)(t.decodeMulti(e))];case 1:return i.sent(),[2];case 2:i.trys.push([2,,6,7]),this.entered=!0,this.reinitializeState(),this.setBuffer(e),i.label=3;case 3:if(!this.hasRemaining(1))return[3,5];return[4,this.doDecodeSync()];case 4:return i.sent(),[3,3];case 5:return[3,7];case 6:return this.entered=!1,[7];case 7:return[2]}})}},{key:"decodeAsync",value:function(e){return(0,D._)(function(){var t,i,n,r,s,o,a,h,u,c,f,l,d;return(0,O._)(this,function(y){switch(y.label){case 0:if(this.entered)return[2,this.clone().decodeAsync(e)];y.label=1;case 1:y.trys.push([1,,14,15]),this.entered=!0,t=!1,n=!1,r=!1,y.label=2;case 2:y.trys.push([2,7,8,13]),o=(0,P._)(e),y.label=3;case 3:return[4,o.next()];case 4:if(!(n=!(a=y.sent()).done))return[3,6];if(h=a.value,t)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(h);try{i=this.doDecodeSync(),t=!0}catch(e){if(!(0,_._)(e,RangeError))throw e}this.totalPos+=this.pos,y.label=5;case 5:return n=!1,[3,3];case 6:return[3,13];case 7:return u=y.sent(),r=!0,s=u,[3,13];case 8:if(y.trys.push([8,,11,12]),!(n&&null!=o.return))return[3,10];return[4,o.return()];case 9:y.sent(),y.label=10;case 10:return[3,12];case 11:if(r)throw s;return[7];case 12:return[7];case 13:if(t){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,i]}throw c=this,f=c.headByte,l=c.pos,d=c.totalPos,RangeError("Insufficient data in parsing ".concat(j(f)," at ").concat(d," (").concat(l," in the current buffer)"));case 14:return this.entered=!1,[7];case 15:return[2]}})}).call(this)}},{key:"decodeArrayStream",value:function(e){return this.decodeMultiAsync(e,!0)}},{key:"decodeStream",value:function(e){return this.decodeMultiAsync(e,!1)}},{key:"decodeMultiAsync",value:function(e,t){return(0,F._)(function(){var i,n,r,s,o,a,h,u,c,f,l;return(0,O._)(this,function(d){switch(d.label){case 0:if(!this.entered)return[3,2];return i=this.clone(),[5,(0,K._)(M((0,P._)(i.decodeMultiAsync(e,t))))];case 1:return d.sent(),[2];case 2:d.trys.push([2,,21,22]),this.entered=!0,n=t,r=-1,s=!1,o=!1,d.label=3;case 3:d.trys.push([3,14,15,20]),h=(0,P._)(e),d.label=4;case 4:return[4,(0,R._)(h.next())];case 5:if(!(s=!(u=d.sent()).done))return[3,13];if(c=u.value,t&&0===r)throw this.createExtraByteError(this.totalPos);this.appendBuffer(c),n&&(r=this.readArraySize(),n=!1,this.complete()),d.label=6;case 6:d.trys.push([6,10,,11]),d.label=7;case 7:return[4,this.doDecodeSync()];case 8:if(d.sent(),0==--r)return[3,9];return[3,7];case 9:return[3,11];case 10:if(f=d.sent(),!(0,_._)(f,RangeError))throw f;return[3,11];case 11:this.totalPos+=this.pos,d.label=12;case 12:return s=!1,[3,4];case 13:return[3,20];case 14:return l=d.sent(),o=!0,a=l,[3,20];case 15:if(d.trys.push([15,,18,19]),!(s&&null!=h.return))return[3,17];return[4,(0,R._)(h.return())];case 16:d.sent(),d.label=17;case 17:return[3,19];case 18:if(o)throw a;return[7];case 19:return[7];case 20:return[3,22];case 21:return this.entered=!1,[7];case 22:return[2]}})}).call(this)}},{key:"doDecodeSync",value:function(){t:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){var i=e-128;if(0!==i){this.pushMapState(i),this.complete();continue}t={}}else if(e<160){var n=e-144;if(0!==n){this.pushArrayState(n),this.complete();continue}t=[]}else{var r=e-160;t=this.decodeString(r,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===e){var s=this.lookU8();t=this.decodeString(s,1)}else if(218===e){var o=this.lookU16();t=this.decodeString(o,2)}else if(219===e){var a=this.lookU32();t=this.decodeString(a,4)}else if(220===e){var h=this.readU16();if(0!==h){this.pushArrayState(h),this.complete();continue}t=[]}else if(221===e){var u=this.readU32();if(0!==u){this.pushArrayState(u),this.complete();continue}t=[]}else if(222===e){var c=this.readU16();if(0!==c){this.pushMapState(c),this.complete();continue}t={}}else if(223===e){var f=this.readU32();if(0!==f){this.pushMapState(f),this.complete();continue}t={}}else if(196===e){var l=this.lookU8();t=this.decodeBinary(l,1)}else if(197===e){var d=this.lookU16();t=this.decodeBinary(d,2)}else if(198===e){var y=this.lookU32();t=this.decodeBinary(y,4)}else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e){var v=this.lookU8();t=this.decodeExtension(v,1)}else if(200===e){var g=this.lookU16();t=this.decodeExtension(g,2)}else if(201===e){var p=this.lookU32();t=this.decodeExtension(p,4)}else throw new I("Unrecognized type byte: ".concat(j(e)));this.complete();for(var w=this.stack;w.length>0;){var U=w.top();if(U.type===Y)if(U.array[U.position]=t,U.position++,U.position===U.size)t=U.array,w.release(U);else continue t;else if(U.type===q){if("__proto__"===t)throw new I("The key __proto__ is not allowed");U.key=this.mapKeyConverter(t),U.type=Q;continue t}else if(U.map[U.key]=t,U.readCount++,U.readCount===U.size)t=U.map,w.release(U);else{U.key=null,U.type=q;continue t}}return t}}},{key:"readHeadByte",value:function(){return -1===this.headByte&&(this.headByte=this.readU8()),this.headByte}},{key:"complete",value:function(){this.headByte=-1}},{key:"readArraySize",value:function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new I("Unrecognized array type byte: ".concat(j(e)))}}},{key:"pushMapState",value:function(e){if(e>this.maxMapLength)throw new I("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.pushMapState(e)}},{key:"pushArrayState",value:function(e){if(e>this.maxArrayLength)throw new I("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.pushArrayState(e)}},{key:"decodeString",value:function(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}},{key:"decodeUtf8String",value:function(e,t){if(e>this.maxStrLength)throw new I("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw et;var i,n,r=this.pos+t;return n=this.stateIsMapKey()&&(null==(i=this.keyDecoder)?void 0:i.canBeCached(e))?this.keyDecoder.decode(this.bytes,r,e):function(e,t,i){var n;return i>200?(n=e.subarray(t,t+i),H.decode(n)):V(e,t,i)}(this.bytes,r,e),this.pos+=t+e,n}},{key:"stateIsMapKey",value:function(){return this.stack.length>0&&this.stack.top().type===q}},{key:"decodeBinary",value:function(e,t){if(e>this.maxBinLength)throw new I("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw et;var i=this.pos+t,n=this.bytes.subarray(i,i+e);return this.pos+=t+e,n}},{key:"decodeExtension",value:function(e,t){if(e>this.maxExtLength)throw new I("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var i=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,i,this.context)}},{key:"lookU8",value:function(){return this.view.getUint8(this.pos)}},{key:"lookU16",value:function(){return this.view.getUint16(this.pos)}},{key:"lookU32",value:function(){return this.view.getUint32(this.pos)}},{key:"readU8",value:function(){var e=this.view.getUint8(this.pos);return this.pos++,e}},{key:"readI8",value:function(){var e=this.view.getInt8(this.pos);return this.pos++,e}},{key:"readU16",value:function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e}},{key:"readI16",value:function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e}},{key:"readU32",value:function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e}},{key:"readI32",value:function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e}},{key:"readU64",value:function(){var e,t,i=(e=this.view,t=this.pos,0x100000000*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,i}},{key:"readI64",value:function(){var e=T(this.view,this.pos);return this.pos+=8,e}},{key:"readU64AsBigInt",value:function(){var e=this.view.getBigUint64(this.pos);return this.pos+=8,e}},{key:"readI64AsBigInt",value:function(){var e=this.view.getBigInt64(this.pos);return this.pos+=8,e}},{key:"readF32",value:function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e}},{key:"readF64",value:function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e}}]),e}();function er(e,t){return new en(t).decode(e)}e.s(["decode",()=>er],726753);var es=function(){function e(t){var i,n,r,s,o,a,h,u;(0,B._)(this,e),this.entered=!1,this.extensionCodec=null!=(i=null==t?void 0:t.extensionCodec)?i:C.defaultCodec,this.context=null==t?void 0:t.context,this.useBigInt64=null!=(n=null==t?void 0:t.useBigInt64)&&n,this.maxDepth=null!=(r=null==t?void 0:t.maxDepth)?r:100,this.initialBufferSize=null!=(s=null==t?void 0:t.initialBufferSize)?s:2048,this.sortKeys=null!=(o=null==t?void 0:t.sortKeys)&&o,this.forceFloat32=null!=(a=null==t?void 0:t.forceFloat32)&&a,this.ignoreUndefined=null!=(h=null==t?void 0:t.ignoreUndefined)&&h,this.forceIntegerToFloat=null!=(u=null==t?void 0:t.forceIntegerToFloat)&&u,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return(0,E._)(e,[{key:"clone",value:function(){return new e({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}},{key:"reinitializeState",value:function(){this.pos=0}},{key:"encodeSharedRef",value:function(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}},{key:"encode",value:function(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}},{key:"doEncode",value:function(e,t){if(t>this.maxDepth)throw Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.useBigInt64&&(void 0===e?"undefined":(0,f._)(e))==="bigint"?this.encodeBigInt64(e):this.encodeObject(e,t)}},{key:"ensureBufferSizeToWrite",value:function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}},{key:"resizeBuffer",value:function(e){var t=new ArrayBuffer(e),i=new Uint8Array(t),n=new DataView(t);i.set(this.bytes),this.view=n,this.bytes=i}},{key:"encodeNil",value:function(){this.writeU8(192)}},{key:"encodeBoolean",value:function(e){!1===e?this.writeU8(194):this.writeU8(195)}},{key:"encodeNumber",value:function(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<0x100000000?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-0x80000000?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}},{key:"encodeNumberAsFloat",value:function(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}},{key:"encodeBigInt64",value:function(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}},{key:"writeStringHeader",value:function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<0x100000000)this.writeU8(219),this.writeU32(e);else throw Error("Too long string: ".concat(e," bytes in UTF-8"))}},{key:"encodeString",value:function(e){var t=function(e){for(var t=e.length,i=0,n=0;n<t;){var r=e.charCodeAt(n++);if((0xffffff80&r)==0){i++;continue}if((0xfffff800&r)==0)i+=2;else{if(r>=55296&&r<=56319&&n<t){var s=e.charCodeAt(n);(64512&s)==56320&&(++n,r=((1023&r)<<10)+(1023&s)+65536)}(0xffff0000&r)==0?i+=3:i+=4}}return i}(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,i){if(e.length>50)W.encodeInto(e,t.subarray(i));else!function(e,t,i){for(var n=e.length,r=i,s=0;s<n;){var o=e.charCodeAt(s++);if((0xffffff80&o)==0){t[r++]=o;continue}if((0xfffff800&o)==0)t[r++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<n){var a=e.charCodeAt(s);(64512&a)==56320&&(++s,o=((1023&o)<<10)+(1023&a)+65536)}(0xffff0000&o)==0?t[r++]=o>>12&15|224:(t[r++]=o>>18&7|240,t[r++]=o>>12&63|128),t[r++]=o>>6&63|128}t[r++]=63&o|128}}(e,t,i)}(e,this.bytes,this.pos),this.pos+=t}},{key:"encodeObject",value:function(e,t){var i=this.extensionCodec.tryToEncode(e,this.context);if(null!=i)this.encodeExtension(i);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if((void 0===e?"undefined":(0,f._)(e))==="object")this.encodeMap(e,t);else throw Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))}},{key:"encodeBinary",value:function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<0x100000000)this.writeU8(198),this.writeU32(t);else throw Error("Too large binary: ".concat(t));var i=G(e);this.writeU8a(i)}},{key:"encodeArray",value:function(e,t){var i=e.length;if(i<16)this.writeU8(144+i);else if(i<65536)this.writeU8(220),this.writeU16(i);else if(i<0x100000000)this.writeU8(221),this.writeU32(i);else throw Error("Too large array: ".concat(i));var n=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var h=o.value;this.doEncode(h,t+1)}}catch(e){r=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}}},{key:"countWithoutUndefined",value:function(e,t){var i=0,n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var h=o.value;void 0!==e[h]&&i++}}catch(e){r=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return i}},{key:"encodeMap",value:function(e,t){var i=Object.keys(e);this.sortKeys&&i.sort();var n=this.ignoreUndefined?this.countWithoutUndefined(e,i):i.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else if(n<0x100000000)this.writeU8(223),this.writeU32(n);else throw Error("Too large map object: ".concat(n));var r=!0,s=!1,o=void 0;try{for(var a,h=i[Symbol.iterator]();!(r=(a=h.next()).done);r=!0){var u=a.value,c=e[u];this.ignoreUndefined&&void 0===c||(this.encodeString(u),this.doEncode(c,t+1))}}catch(e){s=!0,o=e}finally{try{r||null==h.return||h.return()}finally{if(s)throw o}}}},{key:"encodeExtension",value:function(e){if("function"==typeof e.data){var t=e.data(this.pos+6),i=t.length;if(i>=0x100000000)throw Error("Too large extension object: ".concat(i));this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(t);return}var n=e.data.length;if(1===n)this.writeU8(212);else if(2===n)this.writeU8(213);else if(4===n)this.writeU8(214);else if(8===n)this.writeU8(215);else if(16===n)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<0x100000000)this.writeU8(201),this.writeU32(n);else throw Error("Too large extension object: ".concat(n));this.writeI8(e.type),this.writeU8a(e.data)}},{key:"writeU8",value:function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}},{key:"writeU8a",value:function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}},{key:"writeI8",value:function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}},{key:"writeU16",value:function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}},{key:"writeI16",value:function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}},{key:"writeU32",value:function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}},{key:"writeI32",value:function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}},{key:"writeF32",value:function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}},{key:"writeF64",value:function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}},{key:"writeU64",value:function(e){var t,i;this.ensureBufferSizeToWrite(8),t=this.view,i=this.pos,t.setUint32(i,e/0x100000000),t.setUint32(i+4,e),this.pos+=8}},{key:"writeI64",value:function(e){this.ensureBufferSizeToWrite(8),L(this.view,this.pos,e),this.pos+=8}},{key:"writeBigUint64",value:function(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}},{key:"writeBigInt64",value:function(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}]),e}();function eo(e,t){return new es(t).encodeSharedRef(e)}e.s(["encode",()=>eo],770663)}]);

//# debugId=c192f5c2-cd91-9aff-7af2-1ae6d4eac4a1
//# sourceMappingURL=5cdee88cd70517a8.js.map