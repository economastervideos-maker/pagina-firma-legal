;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="16f01eb9-90cc-e994-8736-2c5dd1a3c484")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,257888,(e,t,n)=>{t.exports=function(e){var t;if("string"!=typeof e||""===e)return!1;for(;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}},884244,(e,t,n)=>{var r=e.r(257888),i={"{":"}","(":")","[":"]"},o=function(e){if("!"===e[0])return!0;for(var t=0,n=-2,r=-2,o=-2,l=-2,a=-2;t<e.length;){if("*"===e[t]||"?"===e[t+1]&&/[\].+)]/.test(e[t])||-1!==r&&"["===e[t]&&"]"!==e[t+1]&&(r<t&&(r=e.indexOf("]",t)),r>t)&&(-1===a||a>r||-1===(a=e.indexOf("\\",t))||a>r)||-1!==o&&"{"===e[t]&&"}"!==e[t+1]&&(o=e.indexOf("}",t))>t&&(-1===(a=e.indexOf("\\",t))||a>o)||-1!==l&&"("===e[t]&&"?"===e[t+1]&&/[:!=]/.test(e[t+2])&&")"!==e[t+3]&&(l=e.indexOf(")",t))>t&&(-1===(a=e.indexOf("\\",t))||a>l)||-1!==n&&"("===e[t]&&"|"!==e[t+1]&&(n<t&&(n=e.indexOf("|",t)),-1!==n&&")"!==e[n+1]&&(l=e.indexOf(")",n))>n)&&(-1===(a=e.indexOf("\\",n))||a>l))return!0;if("\\"===e[t]){var s=e[t+1];t+=2;var u=i[s];if(u){var c=e.indexOf(u,t);-1!==c&&(t=c+1)}if("!"===e[t])return!0}else t++}return!1},l=function(e){if("!"===e[0])return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if("\\"===e[t]){var n=e[t+1];t+=2;var r=i[n];if(r){var o=e.indexOf(r,t);-1!==o&&(t=o+1)}if("!"===e[t])return!0}else t++}return!1};t.exports=function(e,t){if("string"!=typeof e||""===e)return!1;if(r(e))return!0;var n=o;return t&&!1===t.strict&&(n=l),n(e)}},827529,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){(0,i.default)(e),"object"===o(t)?(n=t.min||0,r=t.max):(n=arguments[1],r=arguments[2]);var n,r,l=encodeURI(e).split(/%..|./).length-1;return l>=n&&(void 0===r||l<=r)};var r,i=(r=e.r(797443))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.exports=n.default,t.exports.default=n.default},650489,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},t.exports=n.default,t.exports.default=n.default},371368,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){(0,r.default)(e),(t=(0,i.default)(t,l)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1)),!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var n=e.split("."),o=n[n.length-1];return!(t.require_tld&&(n.length<2||!t.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(o)||/\s/.test(o)))&&!(!t.allow_numeric_tld&&/^\d+$/.test(o))&&n.every(function(e){return!(e.length>63&&!t.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)||/[\uff01-\uff5e]/.test(e)||/^-|-$/.test(e)||!t.allow_underscores&&/_/.test(e))})};var r=o(e.r(797443)),i=o(e.r(650489));function o(e){return e&&e.__esModule?e:{default:e}}var l={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};t.exports=n.default,t.exports.default=n.default},537771,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return((0,i.default)(t),n=String(n))?"4"===n?a.test(t):"6"===n&&u.test(t):e(t,4)||e(t,6)};var r,i=(r=e.r(797443))&&r.__esModule?r:{default:r},o="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",l="(".concat(o,"[.]){3}").concat(o),a=new RegExp("^".concat(l,"$")),s="(?:[0-9a-fA-F]{1,4})",u=RegExp("^("+"(?:".concat(s,":){7}(?:").concat(s,"|:)|")+"(?:".concat(s,":){6}(?:").concat(l,"|:").concat(s,"|:)|")+"(?:".concat(s,":){5}(?::").concat(l,"|(:").concat(s,"){1,2}|:)|")+"(?:".concat(s,":){4}(?:(:").concat(s,"){0,1}:").concat(l,"|(:").concat(s,"){1,3}|:)|")+"(?:".concat(s,":){3}(?:(:").concat(s,"){0,2}:").concat(l,"|(:").concat(s,"){1,4}|:)|")+"(?:".concat(s,":){2}(?:(:").concat(s,"){0,3}:").concat(l,"|(:").concat(s,"){1,5}|:)|")+"(?:".concat(s,":){1}(?:(:").concat(s,"){0,4}:").concat(l,"|(:").concat(s,"){1,6}|:)|")+"(?::((?::".concat(s,"){0,5}:").concat(l,"|(?::").concat(s,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");t.exports=n.default,t.exports.default=n.default},632339,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if((0,r.default)(e),(t=(0,a.default)(t,u)).require_display_name||t.allow_display_name){var n=e.match(c);if(n){var s,m,y=n[1];if(e=e.replace(y,"").replace(/(^<|>$)/g,""),y.endsWith(" ")&&(y=y.slice(0,-1)),!(!(!(m=(s=y).replace(/^"(.+)"$/,"$1")).trim()||/[\.";<>]/.test(m)&&(m===s||m.split('"').length!==m.split('\\"').length))&&1))return!1}else if(t.require_display_name)return!1}if(!t.ignore_max_length&&e.length>254)return!1;var g=e.split("@"),v=g.pop(),_=v.toLowerCase();if(t.host_blacklist.includes(_)||t.host_whitelist.length>0&&!t.host_whitelist.includes(_))return!1;var E=g.join("@");if(t.domain_specific_validation&&("gmail.com"===_||"googlemail.com"===_)){var b=(E=E.toLowerCase()).split("+")[0];if(!(0,i.default)(b.replace(/\./g,""),{min:6,max:30}))return!1;for(var w=b.split("."),I=0;I<w.length;I++)if(!d.test(w[I]))return!1}if(!1===t.ignore_max_length&&(!(0,i.default)(E,{max:64})||!(0,i.default)(v,{max:254})))return!1;if(!(0,o.default)(v,{require_tld:t.require_tld,ignore_max_length:t.ignore_max_length,allow_underscores:t.allow_underscores})){if(!t.allow_ip_domain)return!1;if(!(0,l.default)(v)){if(!v.startsWith("[")||!v.endsWith("]"))return!1;var S=v.slice(1,-1);if(0===S.length||!(0,l.default)(S))return!1}}if('"'===E[0])return E=E.slice(1,E.length-1),t.allow_utf8_local_part?x.test(E):p.test(E);for(var T=t.allow_utf8_local_part?h:f,O=E.split("."),L=0;L<O.length;L++)if(!T.test(O[L]))return!1;return!t.blacklisted_chars||-1===E.search(RegExp("[".concat(t.blacklisted_chars,"]+"),"g"))};var r=s(e.r(797443)),i=s(e.r(827529)),o=s(e.r(371368)),l=s(e.r(537771)),a=s(e.r(650489));function s(e){return e&&e.__esModule?e:{default:e}}var u={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},c=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,f=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,d=/^[a-z\d]+$/,p=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,h=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,x=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;t.exports=n.default,t.exports.default=n.default},724682,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if((0,r.default)(e),!e||/[\s<>]/.test(e)||0===e.indexOf("mailto:")||(t=(0,l.default)(t,u)).validate_length&&e.length>=2083||!t.allow_fragments&&e.includes("#")||!t.allow_query_components&&(e.includes("?")||e.includes("&")))return!1;if((y=(e=(y=(e=(y=e.split("#")).shift()).split("?")).shift()).split("://")).length>1){if(a=y.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(a))return!1}else if(t.require_protocol)return!1;else if("//"===e.slice(0,2)){if(!t.allow_protocol_relative_urls)return!1;y[0]=e.slice(2)}if(""===(e=y.join("://")))return!1;if(""===(e=(y=e.split("/")).shift())&&!t.require_host)return!0;if((y=e.split("@")).length>1){if(t.disallow_auth||""===y[0]||(d=y.shift()).indexOf(":")>=0&&d.split(":").length>2)return!1;var n,a,d,p,h,x,m,y,g,v=function(e){if(Array.isArray(e))return e}(n=d.split(":"))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),2!==n.length);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(n,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,2)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=v[0],E=v[1];if(""===_&&""===E)return!1}h=y.join("@"),m=null,g=null;var b=h.match(c);if(b?(p="",g=b[1],m=b[2]||null):(p=(y=h.split(":")).shift(),y.length&&(m=y.join(":"))),null!==m&&m.length>0){if(x=parseInt(m,10),!/^[0-9]+$/.test(m)||x<=0||x>65535)return!1}else if(t.require_port)return!1;return t.host_whitelist?f(p,t.host_whitelist):""===p&&!t.require_host||(!!(0,o.default)(p)||!!(0,i.default)(p,t)||!!g&&!!(0,o.default)(g,6))&&(p=p||g,!(t.host_blacklist&&f(p,t.host_blacklist)))};var r=a(e.r(797443)),i=a(e.r(371368)),o=a(e.r(537771)),l=a(e.r(650489));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},c=/^\[([^\]]+)\](?::([0-9]+))?$/;function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e===r||"[object RegExp]"===Object.prototype.toString.call(r)&&r.test(e))return!0}return!1}t.exports=n.default,t.exports.default=n.default},9293,198769,316953,e=>{"use strict";var t=e.i(530658),n=e.i(960933),r=e.i(862927),i=e.i(686040),o=e.i(884244),l=e.i(632339),a=e.i(724682),s=[{key:"read",friendlyName:"Read files",description:"Read any file in your App"},{key:"write-exec",friendlyName:"Write & Execute",description:"Write to any file in your App and execute any code"},{key:"repldb:read",friendlyName:"ReplDB Read",description:"Read any key, or list all keys under any prefix in the repldb belonging to your App"},{key:"repldb:write",friendlyName:"ReplDB Write",description:"Write or delete any key in the repldb belonging to your App"},{key:"experimental-api",friendlyName:"Experimental APIs",description:"Use experimental APIs that may be unstable, change in behavior, or be removed entirely"}],u=s.map(function(e){return e.key});e.s(["scopeNames",()=>u,"scopes",()=>s],198769);var c=e.i(837399),f=n.Type.String({minLength:1,maxLength:64}),d=n.Type.Object({path:n.Type.String({minLength:1}),label:n.Type.String({minLength:1})}),p=n.Type.Object({image:(0,c.Nullish)(n.Type.String({minLength:1})),title:n.Type.String({minLength:1,maxLength:60}),body:n.Type.String({minLength:1,maxLength:512})}),h=n.Type.Object({glob:n.Type.String({minLength:1}),handler:n.Type.String({minLength:1}),name:(0,c.Nullish)(n.Type.String({minLength:1})),icon:(0,c.Nullish)(n.Type.String({minLength:1}))}),x=n.Type.Object({handler:n.Type.String({minLength:1}),name:(0,c.Nullish)(n.Type.String({minLength:1})),icon:(0,c.Nullish)(n.Type.String({minLength:1}))}),m=n.Type.Union(u.map(function(e){return n.Type.Literal(e)})),y=n.Type.Object({name:m,reason:n.Type.String()}),g=n.Type.Object({page:n.Type.String()}),v=n.Type.Object({name:n.Type.String({minLength:1,maxLength:60}),description:n.Type.String({minLength:1,maxLength:255}),scopes:(0,c.Nullish)(n.Type.Array(y)),longDescription:(0,c.Nullish)(n.Type.String({minLength:1})),icon:(0,c.Nullish)(n.Type.String({minLength:1})),tags:(0,c.Nullish)(n.Type.Array(f,{maxItems:16})),coverImages:(0,c.Nullish)(n.Type.Array(d,{maxItems:16})),fileHandlers:(0,c.Nullish)(n.Type.Array(h,{maxItems:4})),tools:(0,c.Nullish)(n.Type.Array(x,{maxItems:4})),website:(0,c.Nullish)(n.Type.String()),authorEmail:(0,c.Nullish)(n.Type.String()),background:(0,c.Nullish)(g),features:(0,c.Nullish)(n.Type.Array(p,{minItems:1,maxItems:10}))});function _(e){var n=function(t,n,r){return{manifest:null,error:new c.TypeboxError([{type:n,schema:v,path:t,value:e,message:r,errors:[]}])}};if(r.Value.Check(v,e)){if(e.website&&!(0,a.default)(e.website))return n("website",i.ValueErrorType.StringFormat,"website must be a valid url");if(e.authorEmail&&!(0,l.default)(e.authorEmail))return n("authorEmail",i.ValueErrorType.StringFormat,"authorEmail must be a valid email");var s=null!=(p=e.fileHandlers)?p:[],u=!0,f=!1,d=void 0;try{for(var p,h,x=s.entries()[Symbol.iterator]();!(u=(h=x.next()).done);u=!0){var m=(0,t._)(h.value,2),y=m[0],g=m[1];if(!(0,o.default)(g.glob))return n("fileHandlers[".concat(y,"].glob"),i.ValueErrorType.StringFormat,"glob must be a valid glob pattern")}}catch(e){f=!0,d=e}finally{try{u||null==x.return||x.return()}finally{if(f)throw d}}if(s&&s.length>1){var _=!0,E=!1,b=void 0;try{for(var w,I=s.entries()[Symbol.iterator]();!(_=(w=I.next()).done);_=!0){var S=(0,t._)(w.value,2),T=S[0],O=S[1];if(!(O.icon&&O.name))return n("fileHandlers[".concat(T,"]"),i.ValueErrorType.ObjectRequiredProperty,"When at least two fileHandlers are provided, they must all specify a name and icon")}}catch(e){E=!0,b=e}finally{try{_||null==I.return||I.return()}finally{if(E)throw b}}}var L=null!=(j=e.tools)?j:[];if(L&&L.length>1){var C=!0,F=!1,A=void 0;try{for(var j,U,q=L.entries()[Symbol.iterator]();!(C=(U=q.next()).done);C=!0){var $=(0,t._)(U.value,2),k=$[0],N=$[1];if(!(N.icon&&N.name))return n("tool[".concat(k,"]"),i.ValueErrorType.ObjectRequiredProperty,"When at least two tools are provided, they must all specify a name and icon")}}catch(e){F=!0,A=e}finally{try{C||null==q.return||q.return()}finally{if(F)throw A}}}return{manifest:e,error:null}}return{manifest:null,error:(0,c.validationErrors)(v,e)}}function E(e){var t=_(e);if(t.manifest)return t.manifest;throw t.error}function b(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:null!=(e=n.name)?e:"Unnamed Extension",description:null!=(t=n.description)?t:"(no description)"}}function w(e,t){return!!e.scopes&&void 0!==e.scopes.find(function(e){return e.name===t})}function I(e){var t;if(!e)throw Error("Expected baseUrl");try{t=new URL(e)}catch(e){throw Error("baseUrl failed to parse as URL")}if("https:"!==t.protocol)throw Error("baseUrl must use https");return t.href.replace(/\/$/,"")}function S(e){return T(e,"extension.json")}function T(e,t){return new URL(t,I(e)).href}e.s(["asManifest",()=>E,"createDefaultManifest",()=>b,"hasScope",()=>w,"parseManifestOrError",()=>_],316953),e.s(["getAssetUrl",()=>T,"getManifestUrl",()=>S,"getValidBaseUrlOrThrow",()=>I],9293)},253344,e=>{"use strict";var t=e.i(960933);function n(e){return e}function r(e){return e}function i(e){return e}Symbol("extensionId"),Symbol("installationId"),Symbol("extensionCommandId"),t.Type.Record(t.Type.String(),t.Type.Object({extensionId:t.Type.String(),fileHandlerId:t.Type.String()})),e.s(["asExtensionCommandId",()=>i,"asExtensionId",()=>n,"asInstallationId",()=>r])},692043,e=>{"use strict";e.i(878420);var t=e.i(569384),n=e.i(973245);function r(){var e=(0,t._)(["\n  fragment TopLevelExtensionUser on User {\n    __typename\n    id\n    username\n    displayName\n    image\n    url\n  }\n"]);return r=function(){return e},e}function i(){var e=(0,t._)(["\n  fragment TopLevelExtensionManifest on ExtensionManifest {\n    __typename\n    name\n    description\n    scopes {\n      name\n      reason\n    }\n    icon\n    tags\n    fileHandlers {\n      glob\n      handler\n      name\n      icon\n    }\n    tools {\n      handler\n      name\n      icon\n    }\n    background {\n      page\n    }\n  }\n"]);return i=function(){return e},e}function o(){var e=(0,t._)(["\n  fragment TopLevelExtension on Extension {\n    __typename\n    id\n    url\n    name\n    description\n    user {\n      id\n      ...TopLevelExtensionUser\n    }\n    manifest {\n      ... on ExtensionManifest {\n        ...TopLevelExtensionManifest\n      }\n      ... on ExtensionManifestError {\n        message\n      }\n    }\n    installCount\n    isBlessed\n    isListed\n    isFeatured\n    isDisabled\n    enableInternalApi\n  }\n  ","\n  ","\n"]);return o=function(){return e},e}function l(){var e=(0,t._)(["\n  fragment TopLevelExtensionInstallation on ExtensionInstallation {\n    __typename\n    id\n    repl {\n      id\n    }\n    user {\n      id\n    }\n    extension {\n      id\n      ...TopLevelExtension\n    }\n    installer {\n      id\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function a(){var e=(0,t._)(["\n  query ExtensionSystemUserContext {\n    currentUser {\n      id\n      isAdmin: hasRole(role: ADMIN)\n      isStaff: hasRole(role: REPLIT_STAFF)\n    }\n  }\n"]);return a=function(){return e},e}function s(){var e=(0,t._)(["\n  query ExtensionInstallationById($installationId: String!) {\n    extensionInstallationById(id: $installationId) {\n      __typename\n      ... on ExtensionInstallation {\n        ...TopLevelExtensionInstallation\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return s=function(){return e},e}function u(){var e=(0,t._)(["\n  query ExtensionInstallationsInRepl($replId: String!) {\n    extensionInstallations(replId: $replId) {\n      __typename\n      ... on ExtensionInstallationList {\n        installations {\n          ...TopLevelExtensionInstallation\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return u=function(){return e},e}function c(){var e=(0,t._)(["\n  mutation InstallExtension($extensionId: String!, $replId: String) {\n    installExtension(extensionId: $extensionId, replId: $replId) {\n      __typename\n      ... on ExtensionInstallation {\n        ...TopLevelExtensionInstallation\n        extension {\n          id\n          installation(replId: $replId) {\n            ...TopLevelExtensionInstallation\n          }\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return c=function(){return e},e}function f(){var e=(0,t._)(["\n  mutation UninstallExtension($installationId: String!, $replId: String) {\n    uninstallExtension(installationId: $installationId) {\n      __typename\n      ... on ExtensionInstallation {\n        ...TopLevelExtensionInstallation\n        extension {\n          id\n          installation(replId: $replId) {\n            ...TopLevelExtensionInstallation\n          }\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}e.i(304277),e.i(566901),e.i(951262);var d=(0,n.gql)(r()),p=(0,n.gql)(i()),h=(0,n.gql)(o(),d,p),x=(0,n.gql)(l(),h),m=(0,n.gql)(a()),y=(0,n.gql)(s(),x),g=(0,n.gql)(u(),x),v=(0,n.gql)(c(),x),_=(0,n.gql)(f(),x);e.s(["ExtensionInstallationByIdDocument",()=>y,"ExtensionInstallationsInReplDocument",()=>g,"ExtensionSystemUserContextDocument",()=>m,"InstallExtensionDocument",()=>v,"TopLevelExtensionFragmentDoc",()=>h,"TopLevelExtensionInstallationFragmentDoc",()=>x,"UninstallExtensionDocument",()=>_])},567807,915793,e=>{"use strict";e.i(33699);var t=e.i(297083),n=e.i(817556),r=e.i(119468),i=/\s/,o=/[a-zA-Z_$][a-zA-Z0-9_$]*/,l=RegExp("^"+o.source+"$"),a=/^NaN|(?:[-+]?(?:(?:Infinity)|(?:0[xX][a-fA-F0-9]+)|(?:0[bB][01]+)|(?:0[oO][0-7]+)|(?:(?:(?:[1-9]\d*|0)?\.\d+|(?:[1-9]\d*|0)\.\d*|(?:[1-9]\d*|0))(?:[E|e][+|-]?\d+)?)))/;function s(e,t){return new p(e,t).value}function u(){}var c=function(e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);function n(){this.constructor=r}function r(t,n,r){var i=e.call(this,t)||this;return i.pos=n,i.loc=r,i}return r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n),r}(Error),f={b:"\b",n:"\n",f:"\f",r:"\r",t:"	",v:"\v",0:"\0"},d=/^[a-fA-F0-9]+$/,p=function(){function e(e,t){if(this.str=e,this.index=0,this.onComment=t&&t.onComment||u,this.onValue=t&&t.onValue||u,this.value=this.readValue(),this.allowWhitespaceOrComment(),this.index<this.str.length)throw Error("Unexpected character '"+this.peek()+"'")}return e.prototype.allowWhitespaceOrComment=function(){for(;this.index<this.str.length&&i.test(this.str[this.index]);)this.index++;var e=this.index;if(this.eat("/")){if(this.eat("/")){var t=this.readUntil(/(?:\r\n|\n|\r)/);this.onComment({start:e,end:this.index,type:"Comment",text:t,block:!1}),this.eat("\n")}else if(this.eat("*")){var t=this.readUntil(/\*\//);this.onComment({start:e,end:this.index,type:"Comment",text:t,block:!0}),this.eat("*/",!0)}this.allowWhitespaceOrComment()}},e.prototype.error=function(e,t){void 0===t&&(t=this.index);var n=function(e,t,n){var r,i,o,l,a,s,u;if("number"==typeof n)throw Error("locate takes a { startIndex, offsetLine, offsetColumn } object as the third argument");return(void 0===(r=n)&&(r={}),i=r.offsetLine||0,o=r.offsetColumn||0,l=e.split("\n"),a=0,s=l.map(function(e,t){var n=a+e.length+1,r={start:a,end:n,line:t};return a=n,r}),u=0,function(t,n){"string"==typeof t&&(t=e.indexOf(t,n||0));for(var r,l,a,c,f=s[u],d=t>=f.end?1:-1;f;){if(r=f,l=t,r.start<=l&&l<r.end)return a=f,c=t,{line:i+a.line,column:o+c-a.start,character:c};u+=d,f=s[u]}})(t,n&&n.startIndex)}(this.str,t,{offsetLine:1});throw new c(e,t,n)},e.prototype.eat=function(e,t){return this.str.slice(this.index,this.index+e.length)===e?(this.index+=e.length,e):(t&&this.error("Expected '"+e+"' instead of '"+this.str[this.index]+"'"),null)},e.prototype.peek=function(){return this.str[this.index]},e.prototype.read=function(e){var t=e.exec(this.str.slice(this.index));return t&&0===t.index?(this.index+=t[0].length,t[0]):null},e.prototype.readUntil=function(e){this.index>=this.str.length&&this.error("Unexpected end of input");var t=this.index,n=e.exec(this.str.slice(t));if(n){var r=this.index;return this.index=r+n.index,this.str.slice(r,this.index)}return this.index=this.str.length,this.str.slice(t)},e.prototype.readArray=function(){var e=this.index;if(!this.eat("["))return null;var t={start:e,end:null,type:"ArrayExpression",elements:[]};for(this.allowWhitespaceOrComment();"]"!==this.peek()&&(t.elements.push(this.readValue()),this.allowWhitespaceOrComment(),this.eat(","));)this.allowWhitespaceOrComment();return this.eat("]")||this.error("Expected ']' instead of '"+this.str[this.index]+"'"),t.end=this.index,t},e.prototype.readBoolean=function(){var e=this.index,t=this.read(/^(true|false)/);if(t)return{start:e,end:this.index,type:"Literal",raw:t,value:"true"===t}},e.prototype.readNull=function(){var e=this.index;if(this.eat("null"))return{start:e,end:this.index,type:"Literal",raw:"null",value:null}},e.prototype.readLiteral=function(){return this.readBoolean()||this.readNumber()||this.readString()||this.readNull()},e.prototype.readNumber=function(){var e=this.index,t=this.read(a);if(t){var n=t[0],r=+("-"===n||"+"===n?t.slice(1):t);return"-"===n&&(r=-r),{start:e,end:this.index,type:"Literal",raw:t,value:r}}},e.prototype.readObject=function(){var e=this.index;if(this.eat("{")){var t={start:e,end:null,type:"ObjectExpression",properties:[]};for(this.allowWhitespaceOrComment();"}"!==this.peek()&&(t.properties.push(this.readProperty()),this.allowWhitespaceOrComment(),this.eat(","));)this.allowWhitespaceOrComment();return this.eat("}",!0),t.end=this.index,t}},e.prototype.readProperty=function(){this.allowWhitespaceOrComment();var e={start:this.index,end:null,type:"Property",key:this.readPropertyKey(),value:this.readValue()};return e.end=this.index,e},e.prototype.readIdentifier=function(){var e=this.index,t=this.read(o);if(t)return{start:e,end:this.index,type:"Identifier",name:t}},e.prototype.readPropertyKey=function(){var e=this.readString()||this.readIdentifier();return e||this.error("Bad identifier as unquoted key"),"Literal"===e.type&&(e.name=String(e.value)),this.allowWhitespaceOrComment(),this.eat(":",!0),e},e.prototype.readString=function(){var e=this.index,t=this.eat("'")||this.eat('"');if(t){for(var n=!1,r="";this.index<this.str.length;){var i=this.str[this.index++];if(n){if(n=!1,"\n"===i)continue;if("\r"===i){"\n"===this.str[this.index]&&(this.index+=1);continue}if("x"===i||"u"===i){var o=this.index,l=this.index+="x"===i?2:4,a=this.str.slice(o,l);d.test(a)||this.error("Invalid "+("x"===i?"hexadecimal":"Unicode")+" escape sequence",o),r+=String.fromCharCode(parseInt(a,16))}else r+=f[i]||i}else if("\\"===i)n=!0;else if(i===t){var l=this.index;return{start:e,end:l,type:"Literal",raw:this.str.slice(e,l),value:r}}else"\n"===i&&this.error("Bad string",this.index-1),r+=i}this.error("Unexpected end of input")}},e.prototype.readValue=function(){this.allowWhitespaceOrComment();var e=this.readArray()||this.readObject()||this.readLiteral();if(e)return this.onValue(e),e;this.error("Unexpected EOF")},e}();function h(e){return function e(t){if("Literal"===t.type)return t.value;if("ArrayExpression"===t.type)return t.elements.map(e);if("ObjectExpression"===t.type){var n={};return t.properties.forEach(function(t){n[t.key.name]=e(t.value)}),n}}(s(e))}var x={"'":"'",'"':'"',"\\":"\\","\b":"b","\f":"f","\n":"n","\r":"r","	":"t","\v":"v","\0":"0","\u2028":"u2028","\u2029":"u2029"},m=/['"\\\b\f\n\r\t\v\0\u2028\u2029]/g;function y(e,t){var n='"'===t?"'":'"';return t+e.replace(m,function(e){return e===n?e:"\\"+x[e]})+t}function g(e,t,n,r,i,o){return(l.test(e)?e:y(e,n))+": "+v(t,n,r,i,o)}function v(e,t,n,i,o){var l=void 0===e?"undefined":(0,r._)(e);if("string"===l)return y(e,t);if("number"===l||"boolean"===l||null===e)return String(e);if(Array.isArray(e)){var a=e.map(function(e){return v(e,t,n+i,i,!0)});return o?"[\n"+(n+i)+a.join(",\n"+(n+i))+"\n"+n+"]":"[ "+a.join(", ")+" ]"}if("object"===l){var s=Object.keys(e).map(function(r){return g(r,e[r],t,n+i,i,o)});return o?"{"+(n+i)+s.join(","+(n+i))+n+"}":"{ "+s.join(", ")+" }"}throw Error("Cannot stringify "+l)}function _(e,t){var n={};n["'"]=0,n['"']=0;var o=function(e){var t=e.split("\n"),n=0,r=0,i=8;if(t.forEach(function(e){var t=/^(?: +|\t+)/.exec(e);if(t){var o=t[0];o.length!==e.length&&("	"===o[0]?n+=1:(r+=1,o.length>1&&o.length<i&&(i=o.length)))}}),!(r>n))return"	";for(var o="";i--;)o+=" ";return o}(e),l=s(e,{onValue:function(e){"Literal"===e.type&&"string"==typeof e.value&&(n[e.raw[0]]+=1)}}),a=n["'"]>n['"']?"'":'"',u=/\n/.test(e.slice(l.start,l.end))||"ArrayExpression"===l.type&&0===l.elements.length||"ObjectExpression"===l.type&&0===l.properties.length;return e.slice(0,l.start)+function e(t,n,o,l,a,s,u){var c=void 0===n?"undefined":(0,r._)(n);if("string"===c)return"Literal"===t.type&&"string"==typeof t.value?y(n,t.raw[0]):y(n,s);if("number"===c){var f=t.raw,d=n,p=/^([-+])?0([boxBOX])/.exec(f);if(p&&d%1==0)return("+"===p[1]&&d>=0?"+":d<0?"-":"")+"0"+p[2]+Math.abs(d).toString("b"===p[2]||"B"===p[2]?2:"o"===p[2]||"O"===p[2]?8:"x"===p[2]||"X"===p[2]?16:null);var h=/^([-+])?(\.)?/.exec(f);return h&&h[0].length>0?("+"===h[1]&&d>=0?"+":d<0?"-":"")+(h[2]?String(Math.abs(d)).replace(/^0/,""):String(Math.abs(d))):String(d)}if("boolean"===c||null===n)return String(n);if(Array.isArray(n))return"ArrayExpression"===t.type?function(t,n,r,i,o,l,a){if(0===n.length)return 0===t.elements.length?r.slice(t.start,t.end):"[]";var s=E(r,t.start),u=""===s||/\n/.test(s);if(0===t.elements.length)return v(n,l,i,o,u);for(var c=0,f=t.start,d="",p=r.slice(t.start,t.end).split("\n").length>1;c<n.length;c+=1){var h=t.elements[c];h?(d+=r.slice(f,h.start)+e(h,n[c],r,i,o,l,p),f=h.end):p?d+=",\n"+(i+o)+v(n[c],l,i,o,!0):d+=", "+v(n[c],l,i,o,!1)}return c<t.elements.length&&(f=t.elements[t.elements.length-1].end),d+=r.slice(f,t.end)}(t,n,o,l,a,s,0):v(n,s,l,a,u);if("object"===c)return"ObjectExpression"===t.type?function(t,n,r,o,l,a,s){var u=Object.keys(n);if(0===u.length)return 0===t.properties.length?r.slice(t.start,t.end):"{}";var c={};t.properties.forEach(function(e){c[e.key.name]=e});var f=E(r,t.start),d=""===f||/\n/.test(f);if(0===t.properties.length)return v(n,a,o,l,d);for(var p=0,h=t.start,x="",m=/\n/.test(r.slice(t.start,t.end)),y=!1,_=r.slice(t.start,t.properties[0].start);p<t.properties.length;p+=1){var b=t.properties[p],w=n[b.key.name];o=function(e,t){for(;t>0&&!i.test(e[t-1]);)t-=1;for(var n=t;t>0&&i.test(e[t-1]);)t-=1;return e.slice(t,n)}(r,b.start),void 0!==w&&(x+=y?r.slice(h,b.value.start):_+r.slice(b.key.start,b.value.start),x+=e(b.value,w,r,o,l,a,m),y=!0),h=b.end}return u.forEach(function(e){if(!(e in c)){var t=n[e];x+=(y?","+(m?o:" "):_)+g(e,t,a,o,l,m),y=!0}}),x+=r.slice(h,t.end)}(t,n,o,l,a,s,0):v(n,s,l,a,u);throw Error("Cannot stringify "+c+"s")}(l,t,e,"",o,a,u)+e.slice(l.end)}function E(e,t){for(var n=t;t>0&&i.test(e[t]);)t-=1;return e.slice(t,n)}e.s(["evaluate",()=>h,"patch",()=>_],915793);var b=e.i(692043),w=e.i(9293),I=e.i(316953),S=e.i(173738);function T(e){return(0,t._)(function(e){var t,r,i,o,l;return(0,n._)(this,function(n){switch(n.label){case 0:if(t=e.extensionId,r=e.replId,!S.apolloClient)return[2,{error:Error("expected apolloClient to be initialized"),result:null}];return[4,S.apolloClient.mutate({mutation:b.InstallExtensionDocument,variables:{extensionId:t,replId:r}})];case 1:if((o=n.sent()).errors&&o.errors.length>0)return[2,{error:Error("Error when installing extension: "+o.errors.map(function(e){return e.message}).join(", ")),result:null}];if(!(l=null==(i=o.data)?void 0:i.installExtension))return[2,{error:Error("Error when installing extension: expected result"),result:null}];if((null==l?void 0:l.__typename)==="UnauthorizedError"||(null==l?void 0:l.__typename)==="UserError")return[2,{error:Error("Error when installing extension: "+l.message),result:null}];if(!l.extension)return[2,{error:Error("Error when installing extension: expected extension to be set"),result:null}];if(!l.extension.url)return[2,{error:Error("Error when installing extension: Extension does not have a URL and cannot be installed"),result:null}];return[2,{result:l,error:null}]}})}).apply(this,arguments)}function O(e){return(0,t._)(function(e){var t,r,i,o,l;return(0,n._)(this,function(n){switch(n.label){case 0:if(t=e.installationId,r=e.replId,!S.apolloClient)return[2,{error:Error("expected apolloClient to be initialized"),result:null}];return[4,S.apolloClient.mutate({mutation:b.UninstallExtensionDocument,variables:{installationId:t,replId:r}})];case 1:if((o=n.sent()).errors&&o.errors.length>0)return[2,{error:Error("Error when uninstalling extension: "+o.errors.map(function(e){return e.message}).join(", ")),result:null}];if(!(l=null==(i=o.data)?void 0:i.uninstallExtension))return[2,{error:Error("Error when uninstalling extension: expected result"),result:null}];if((null==l?void 0:l.__typename)==="NotFoundError"||(null==l?void 0:l.__typename)==="UserError")return[2,{error:Error("Error when uninstalling extension: "+l.message),result:null}];return[2,{result:l,error:null}]}})}).apply(this,arguments)}function L(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,t._)(function(){var t;return(0,n._)(this,function(n){switch(n.label){case 0:if(!S.apolloClient)return[2,{error:Error("expected apolloClient to be initialized"),result:null}];return[4,S.apolloClient.query({query:b.ExtensionInstallationByIdDocument,variables:{installationId:e},fetchPolicy:r?"network-only":"cache-first"})];case 1:if("ExtensionInstallation"!==(t=n.sent().data.extensionInstallationById).__typename)return[2,{error:Error("Expected to find extension installation"),result:null}];if(!t.extension)return[2,{error:Error("Expected installation.extension"),result:null}];return[2,{result:t,error:null}]}})})()}function C(e){return(0,t._)(function(){var t;return(0,n._)(this,function(n){switch(n.label){case 0:if(!S.apolloClient)return[2,{error:Error("expected apolloClient to be initialized"),result:null}];return[4,S.apolloClient.query({query:b.ExtensionInstallationsInReplDocument,variables:{replId:e}})];case 1:if("ExtensionInstallationList"!==(t=n.sent().data.extensionInstallations).__typename)return[2,{error:Error("Expected to find ExtensionInstallationList"),result:null}];return[2,{result:t.installations,error:null}]}})})()}function F(e){return(0,t._)(function(){var t,r,i,o;return(0,n._)(this,function(n){switch(n.label){case 0:t=(0,w.getManifestUrl)(e),n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(t)];case 2:return[4,n.sent().text()];case 3:if(r=h(n.sent()),(i=(0,I.parseManifestOrError)(r)).error)return[2,{error:i.error,result:null}];return[2,{result:i.manifest,error:null}];case 4:if("SyntaxError"===(o=n.sent()).name)return[2,{error:Error("Error when fetching manifest: invalid JSON"),result:null}];return[2,{error:Error("Error when fetching manifest: "+o.message),result:null}];case 5:return[2]}})})()}function A(){return(0,t._)(function(){var e;return(0,n._)(this,function(t){switch(t.label){case 0:if(!S.apolloClient)return[2,{error:Error("expected apolloClient to be initialized"),result:null}];return[4,S.apolloClient.query({query:b.ExtensionSystemUserContextDocument,fetchPolicy:"cache-first"})];case 1:if(!(e=t.sent().data.currentUser)||"CurrentUser"!==e.__typename)return[2,{error:Error("Expected to find CurrentUser"),result:null}];return[2,{result:{userHasInternalApiEnabled:e.isAdmin||e.isStaff},error:null}]}})})()}e.s(["getExtensionInstallation",()=>L,"getExtensionInstallationsInRepl",()=>C,"getExtensionManifest",()=>F,"getExtensionUserContext",()=>A,"installExtensionMutation",()=>T,"uninstallExtensionMutation",()=>O],567807)}]);

//# debugId=16f01eb9-90cc-e994-8736-2c5dd1a3c484
//# sourceMappingURL=64147a67ab3c8da4.js.map