;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="5ae6ade0-6077-0ebc-484e-8cd74473ceb5")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,384444,e=>{"use strict";var t="/public/icons/favicon-prompt-",n={prompt:t+"192.png",agentWaiting:t+"agent-waiting-192.png",agentWorking:t+"agent-working-192.png",agentFinished:t+"agent-finished-192.png"};e.s(["favicons",()=>n])},462212,e=>{"use strict";var t=e.i(297083),n=e.i(530658),r=e.i(817556),i=e.i(276385),a=e.i(389959),o=e.i(906368),s=e.i(442121),l=e.i(773948),u=e.i(294426),c=e.i(664152),f=e.i(441329),p=e.i(967629),d=(0,a.createContext)({user:void 0}),m=function(){return(0,a.useContext)(d)};e.s(["default",0,function(e){var m=e.children,h=(0,s.useApolloClient)(),y=(0,n._)((0,a.useState)(),2),g=y[0],x=y[1],b=(0,f.useIsInBonsaiWebview)();return(0,a.useEffect)(function(){var e=function(){},n=null;return(0,u.configureAuth)().then(function(){e=(0,u.onTokenUpdate)(function(e){return(0,t._)(function(){var t;return(0,r._)(this,function(n){switch(n.label){case 0:if(e?x(e):x(void 0),!(t=e))return[3,2];return[4,(0,u.shouldRefreshCookie)(e)];case 1:t=n.sent(),n.label=2;case 2:if(!t)return[3,5];return[4,l.cookieRefreshService.refreshCookie(e)];case 3:if("success"===n.sent().type)return c.logger.info("Cookie refresh succeeded"),[2];return c.logger.warn("Cookie refresh failed after all retries, signing out user"),[4,(0,u.signOut)(h)];case 4:n.sent(),n.label=5;case 5:return[2]}})})()}),b||(n=setInterval(function(){return(0,t._)(function(){var e,t;return(0,r._)(this,function(n){switch(n.label){case 0:if(n.trys.push([0,3,,4]),!((e=(0,u.getAuthInstance)().currentUser)&&!e.isAnonymous))return[3,2];return[4,e.getIdToken(!0)];case 1:n.sent(),n.label=2;case 2:return[3,4];case 3:return t=n.sent(),o.withScope(function(e){e.setExtra("proactiveTokenRefresh",!0),e.setExtra("isInBonsaiWebview",b),o.captureException(t)}),[3,4];case 4:return[2]}})})()},15e5))}).catch(function(e){o.withScope(function(t){t.setExtra("configureAuth",!0),o.captureException(e)})}),function(){return n&&clearInterval(n),e()}},[h,b]),(0,i.jsxs)(d.Provider,{value:{user:g},children:[m,(0,i.jsx)(p.Global,{styles:["\n        .grecaptcha-badge {\n          visibility: hidden;\n        }\n      "]})]})},"useTokenContext",()=>m])},705095,924735,e=>{"use strict";var t=e.i(530658),n=e.i(276385),r=e.i(943618),i=e.i(389959),a=e.i(384444);let o=function(){return(0,n.jsx)(r.default,{children:(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n        @font-face {\n          font-family: 'ReplitHack';\n          src: url('/public/fonts/hack-regular.woff2?sha=3114f1256') format('woff2'), url('/public/fonts/hack-regular.woff?sha=3114f1256') format('woff');\n          font-weight: 400;\n          font-style: normal;\n        }\n        \n        @font-face {\n          font-family: 'ReplitHack';\n          src: url('/public/fonts/hack-bold.woff2?sha=3114f1256') format('woff2'), url('/public/fonts/hack-bold.woff?sha=3114f1256') format('woff');\n          font-weight: 700;\n          font-style: normal;\n        }\n        \n        @font-face {\n          font-family: 'ReplitHack';\n          src: url('/public/fonts/hack-italic.woff2?sha=3114f1256') format('woff2'), url('/public/fonts/hack-italic.woff?sha=3114f1256') format('woff');\n          font-weight: 400;\n          font-style: italic;\n        }\n        \n        @font-face {\n          font-family: 'ReplitHack';\n          src: url('/public/fonts/hack-bolditalic.woff2?sha=3114f1256') format('woff2'), url('/public/fonts/hack-bolditalic.woff?sha=3114f1256') format('woff');\n          font-weight: 700;\n          font-style: italic;\n        }\n        "}})})};var s=e.i(441329),l=e.i(332441),u=e.i(628745);function c(){return(0,u.default)(function(){var e=function(e){e.preventDefault()};return window.addEventListener("beforeinstallprompt",e),function(){window.removeEventListener("beforeinstallprompt",e)}},[]),null}var f=a.favicons.prompt;e.s(["default",0,function(e){var a,u,p,d,m,h,y=e.title,g=e.description,x=void 0===g?"Build and deploy software collaboratively with the power of AI without spending a second on setup.":g,b=e.image,v=void 0===b?"https://replit.com/public/images/opengraph.png":b,w=e.keywords,C=e.canonicalUrl,S=e.largeCard,T=(0,t._)((0,i.useState)(!1),2),_=T[0],I=T[1],j=(u=(a=(0,t._)((0,i.useState)(!1),2))[0],p=a[1],d=(0,s.useIsInMobileWorkspace)(),m=(0,l.useIsIOS)(),h=(0,l.useIsAndroid)(),(0,i.useEffect)(function(){p(m||d&&!h)},[d,h,m]),u),k="".concat(y," - Replit");return(0,i.useEffect)(function(){window.location.host.startsWith("staging")&&I(!0)},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.default,{children:[(0,n.jsx)("title",{children:k},"title"),(0,n.jsx)("link",{rel:"shortcut icon",href:f,sizes:"192x192",type:"image/png"}),_?(0,n.jsx)("meta",{name:"robots",content:"noindex"}):null,(0,n.jsx)("meta",{property:"og:title",content:y},"meta:og:title"),(0,n.jsx)("meta",{property:"og:description",content:x},"meta:og:description"),(0,n.jsx)("meta",{property:"og:type",content:"article"},"meta:og:type"),(0,n.jsx)("meta",{property:"og:image",content:v},"meta:og:image"),(0,n.jsx)("meta",{property:"og:site_name",content:"replit"}),(0,n.jsx)("meta",{property:"fb:app_id",content:"1775481339348651"}),(0,n.jsx)("meta",{itemProp:"name",content:"replit"}),(0,n.jsx)("meta",{itemProp:"description",content:x},"meta:itemProp:description"),(0,n.jsx)("meta",{itemProp:"image",content:v},"meta:image"),(0,n.jsx)("meta",{name:"description",content:x},"meta:description"),(0,n.jsx)("meta",{name:"keywords",content:void 0===w?"replit,ai,software,build,collaborate,IDE,platform,code,deploy,prototype,online,agent":w},"meta:keywords"),(0,n.jsx)("meta",{name:"author",property:"og:author",content:"replit"},"meta:og:author"),(0,n.jsx)("meta",{charSet:"UTF-8"}),(0,n.jsx)("meta",{name:"twitter:card",content:S?"summary_large_image":"summary"},"meta:twitter:card"),(0,n.jsx)("meta",{name:"twitter:site",content:"@replit"}),(0,n.jsx)("meta",{name:"twitter:title",content:y},"meta:twitter:title"),(0,n.jsx)("meta",{name:"twitter:description",content:x},"meta:twitter:description"),(0,n.jsx)("meta",{name:"twitter:image",content:v},"meta:twitter:image"),(0,n.jsx)("meta",{name:"twitter:domain",content:"replit.com"}),(0,n.jsx)("meta",{name:"google",content:"notranslate"}),j?(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"},"viewport"):(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"},"viewport"),(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n\n    /* PLEX SANS */\n\n    /* ibm-plex-sans-regular - latin */\n    @font-face {\n      font-family: 'IBM Plex Sans';\n      font-style: normal;\n      font-weight: 400;\n      src: local('IBM Plex Sans Regular'), local('IBMPlexSans-Regular'),\n          url('/public/fonts/ibm-plex-sans-v8-latin-regular.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */\n          url('/public/fonts/ibm-plex-sans-v8-latin-regular.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */\n    }\n    /* ibm-plex-sans-italic - latin */\n    @font-face {\n      font-family: 'IBM Plex Sans';\n      font-style: italic;\n      font-weight: 400;\n      src: local('IBM Plex Sans Italic'), local('IBMPlexSans-Italic'),\n          url('/public/fonts/ibm-plex-sans-v8-latin-italic.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */\n          url('/public/fonts/ibm-plex-sans-v8-latin-italic.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */\n    }\n    /* ibm-plex-sans-500 - latin */\n    @font-face {\n      font-family: 'IBM Plex Sans';\n      font-style: normal;\n      font-weight: 500;\n      src: local('IBM Plex Sans Medium'), local('IBMPlexSans-Medium'),\n          url('/public/fonts/ibm-plex-sans-v8-latin-500.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */\n          url('/public/fonts/ibm-plex-sans-v8-latin-500.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */\n    }\n    /* ibm-plex-sans-500italic - latin */\n    @font-face {\n      font-family: 'IBM Plex Sans';\n      font-style: italic;\n      font-weight: 500;\n      src: local('IBM Plex Sans Medium Italic'), local('IBMPlexSans-Medium-Italic'),\n          url('/public/fonts/ibm-plex-sans-v8-latin-500italic.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */\n          url('/public/fonts/ibm-plex-sans-v8-latin-500italic.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */\n    }\n    /* ibm-plex-sans-600 - latin */\n    @font-face {\n      font-family: 'IBM Plex Sans';\n      font-style: normal;\n      font-weight: 600;\n      src: local('IBM Plex Sans Semibold'), local('IBMPlexSans-Semibold'),\n          url('/public/fonts/ibm-plex-sans-v8-latin-600.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */\n          url('/public/fonts/ibm-plex-sans-v8-latin-600.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */\n    }\n    /* ibm-plex-sans-600italic - latin */\n    @font-face {\n      font-family: 'IBM Plex Sans';\n      font-style: italic;\n      font-weight: 600;\n      src: local('IBM Plex Sans Semibold Italic'), local('IBMPlexSans-Semibold-Italic'),\n          url('/public/fonts/ibm-plex-sans-v8-latin-600italic.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */\n          url('/public/fonts/ibm-plex-sans-v8-latin-600italic.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */\n    }\n\n    /* ABC Diatype */\n    @font-face {\n      font-family: 'ABC Diatype';\n      font-weight: 100 1000;\n      src: local('ABC Diatype'), local('ABCDiatype'),\n          url('/public/fonts/ABCDiatypePlusVariable-Regular.woff2') format('woff2')\n    }\n\n    /* ABC Diatype Variable */\n    @font-face {\n      font-family: 'ABC Diatype Variable';\n      font-weight: 100 1000;\n      src: local('ABC Diatype Variable'), local('ABCDiatypeVariable'),\n          url('/public/fonts/ABCDiatype-RegularPixelBeta.woff2') format('woff2')\n    }\n\n    /* ABC Diatype Pixel */\n    @font-face {\n      font-family: 'ABC Diatype Pixel';\n      font-style: normal;\n      font-weight: 400;\n      font-feature-settings: '\"ss15\"';\n      src: local('ABC Diatype Pixel'), local('ABCDiatypePixel'),\n        url('/public/fonts/ABCDiatype-RegularPixelBeta.woff') format('woff'),\n        url('/public/fonts/ABCDiatype-RegularPixelBeta.woff2') format('woff2')\n    }\n  "}}),(0,n.jsx)("meta",{charSet:"utf-8"}),(0,n.jsx)("link",{rel:"manifest",href:"/public/manifest.json"}),(0,n.jsx)("meta",{name:"theme-color",content:"#12141A"}),(0,n.jsx)("meta",{httpEquiv:"origin-trial",content:"AsKJNnBESA8LBSWSiA1TeHAuM7wj/zSm2MVlsxnG6yMeAuorNg9zyAEC3w+lp88yOz+9zkJmIQ++T1Cl4asHoAUAAABQeyJvcmlnaW4iOiJodHRwczovL3JlcGxpdC5jb206NDQzIiwiZmVhdHVyZSI6IkRpZ2l0YWxHb29kcyIsImV4cGlyeSI6MTYzMTY2Mzk5OX0="}),(0,n.jsx)("link",{rel:"apple-touch-icon",href:f}),(0,n.jsx)("meta",{name:"mobile-web-app-capable",content:"yes"}),(0,n.jsx)("meta",{name:"apple-mobile-web-app-title",content:"Replit"}),(0,n.jsx)("link",{rel:"search",type:"application/opensearchdescription+xml",href:"/public/opensearch.xml",title:"Replit"}),C?(0,n.jsx)("link",{rel:"canonical",href:C},"rel:canonical"):null]}),(0,n.jsx)(o,{}),(0,n.jsx)(c,{})]})}],705095);var p=e.i(33699),d=e.i(541793),m=e.i(161322),h=(0,d.atom)(!1);function y(e){var r=e.children,a=(0,t._)((0,m.useAtom)(h),2),o=a[0],s=a[1],l="1"!==p.default.env.DISABLE_STRICT_MODE;return((0,i.useEffect)(function(){},[l,o,s]),l)?(0,n.jsx)(i.StrictMode,{children:r}):r}e.s(["StrictModeWrapper",()=>y],924735)},656388,e=>{"use strict";var t=e.i(276385),n=e.i(177037),r=e.i(480028),i=function(e){var r=e.height,i=void 0===r?24:r,a=e.color,o=void 0===a?n.brandOrange:a;return(0,t.jsxs)("svg",{width:20*i/24,height:i,viewBox:"0 0 20 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M0 1.5C0 0.671573 0.671573 0 1.5 0H8.5C9.32843 0 10 0.671573 10 1.5V8H1.5C0.671573 8 0 7.32843 0 6.5V1.5Z",fill:o}),(0,t.jsx)("path",{d:"M10 8H18.5C19.3284 8 20 8.67157 20 9.5V14.5C20 15.3284 19.3284 16 18.5 16H10V8Z",fill:o}),(0,t.jsx)("path",{d:"M0 17.5C0 16.6716 0.671573 16 1.5 16H10V22.5C10 23.3284 9.32843 24 8.5 24H1.5C0.671573 24 0 23.3284 0 22.5V17.5Z",fill:o})]})},a=function(e){var r=e.size,i=void 0===r?32:r,a=e.color,o=void 0===a?n.brandOrange:a;return(0,t.jsxs)("svg",{width:i,height:i,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M7 5.5C7 4.67157 7.67157 4 8.5 4H15.5C16.3284 4 17 4.67157 17 5.5V12H8.5C7.67157 12 7 11.3284 7 10.5V5.5Z",fill:o}),(0,t.jsx)("path",{d:"M17 12H25.5C26.3284 12 27 12.6716 27 13.5V18.5C27 19.3284 26.3284 20 25.5 20H17V12Z",fill:o}),(0,t.jsx)("path",{d:"M7 21.5C7 20.6716 7.67157 20 8.5 20H17V26.5C17 27.3284 16.3284 28 15.5 28H8.5C7.67157 28 7 27.3284 7 26.5V21.5Z",fill:o})]})},o=function(e){var i=e.height,a=void 0===i?40:i,o=e.textColor,s=void 0===o?r.tokens.foregroundDefault:o,l=e.logoColor,u=void 0===l?n.brandOrange:l;return(0,t.jsxs)("svg",{width:122*a/44,height:a,viewBox:"0 0 122 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M111.515 18.2193V16.7908C111.515 16.5455 111.313 16.3579 111.053 16.3579H106.046V13.5873C106.046 13.342 105.844 13.1544 105.584 13.1544H103.68C103.42 13.1544 103.218 13.3564 103.218 13.5873V16.3579H100.26C100 16.3579 99.798 16.5599 99.798 16.7908V18.2193C99.798 18.4646 100 18.6522 100.26 18.6522H103.218V22.8947C103.218 26.1414 104.747 27.6421 108.038 27.6421H110.721C110.981 27.6421 111.183 27.4401 111.183 27.2092V25.7807C111.183 25.5354 110.981 25.3478 110.721 25.3478H108.47C106.681 25.3478 106.046 24.6407 106.046 22.8802V18.6667H111.053C111.313 18.6522 111.515 18.4502 111.515 18.2193Z",fill:s}),(0,t.jsx)("path",{d:"M96.4647 12H93.8672C93.6075 12 93.4055 12.202 93.4055 12.4329V14.2655C93.4055 14.5108 93.6075 14.6984 93.8672 14.6984H96.4647C96.7244 14.6984 96.9264 14.4964 96.9264 14.2655V12.4329C96.912 12.1876 96.71 12 96.4647 12Z",fill:s}),(0,t.jsx)("path",{d:"M96.811 25.3478V16.7908C96.811 16.5455 96.6089 16.3579 96.3492 16.3579H90.5339C90.2742 16.3579 90.0721 16.5599 90.0721 16.7908V18.2193C90.0721 18.4646 90.2742 18.6522 90.5339 18.6522H93.9827V25.3478H90.5339C90.2742 25.3478 90.0721 25.5498 90.0721 25.7807V27.2092C90.0721 27.4545 90.2742 27.6421 90.5339 27.6421H100.346C100.606 27.6421 100.808 27.4401 100.808 27.2092V25.7807C100.808 25.5354 100.606 25.3478 100.346 25.3478H96.811Z",fill:s}),(0,t.jsx)("path",{d:"M87.8932 25.3478H84.9495V12.4329C84.9495 12.1876 84.7475 12 84.4877 12H78.7157C78.456 12 78.254 12.202 78.254 12.4329V13.8615C78.254 14.1068 78.456 14.2944 78.7157 14.2944H82.1212V25.3478H78.2973C78.0375 25.3478 77.8355 25.5498 77.8355 25.7807V27.2092C77.8355 27.4545 78.0375 27.6421 78.2973 27.6421H87.8932C88.153 27.6421 88.355 27.4401 88.355 27.2092V25.7807C88.355 25.5354 88.153 25.3478 87.8932 25.3478Z",fill:s}),(0,t.jsx)("path",{d:"M72.2222 16.1414C71.241 16.1414 70.5339 16.3579 69.9856 16.8773L69.3074 17.5267H68.6869L68.456 16.6898C68.3983 16.5022 68.2251 16.3579 68.0087 16.3579H66.71C66.4502 16.3579 66.2482 16.5599 66.2482 16.7908V31.5671C66.2482 31.8124 66.4502 32 66.71 32H68.6147C68.8745 32 69.0765 31.798 69.0765 31.5671V28.3636L68.8312 26.6465L69.4661 26.5022L70.1443 27.1515C70.6782 27.6421 71.3276 27.8874 72.2944 27.8874C75.0938 27.8874 76.7821 25.9538 76.7821 22.0144C76.7677 18.075 75.0938 16.1414 72.2222 16.1414ZM71.2843 25.5209C69.8557 25.5209 69.0621 24.785 69.0621 23.3853V20.6147C69.0621 19.215 69.8413 18.4791 71.2843 18.4791C73.0303 18.4791 73.824 19.5758 73.824 21.9856C73.8095 24.4242 73.0303 25.5209 71.2843 25.5209Z",fill:s}),(0,t.jsx)("path",{d:"M58.1818 16.1414C54.5455 16.1414 52.5974 18.075 52.5974 22C52.5974 25.9394 54.531 27.873 58.1097 27.873C60.8802 27.873 62.6696 26.7186 63.1458 24.7417C63.2179 24.4675 62.987 24.2078 62.6984 24.2078H60.9668C60.7792 24.2078 60.6061 24.3232 60.5339 24.4964C60.2309 25.3478 59.3651 25.7518 58.1963 25.7518C56.3781 25.7518 55.5123 24.7561 55.3968 22.4329H63.2901C63.723 18.0895 61.9192 16.1414 58.1818 16.1414ZM55.4834 20.6724C55.7576 18.9697 56.609 18.176 58.1674 18.176C59.8269 18.176 60.6061 19.0563 60.6494 20.6724H55.4834Z",fill:s}),(0,t.jsx)("path",{d:"M46.9697 16.8629L46.3203 17.5123H45.671L45.469 16.6898C45.4257 16.4877 45.2381 16.3579 45.0216 16.3579H40.8658C40.6061 16.3579 40.404 16.5599 40.404 16.7908V18.2193C40.404 18.4646 40.6061 18.6522 40.8658 18.6522H43.3189V25.3478H40.4618C40.202 25.3478 40 25.5498 40 25.7807V27.2092C40 27.4545 40.202 27.6421 40.4618 27.6421H49.4517C49.7114 27.6421 49.9134 27.4401 49.9134 27.2092V25.7807C49.9134 25.5354 49.7114 25.3478 49.4517 25.3478H46.1472V20.6147C46.1472 19.2872 46.9264 18.5945 48.456 18.5945H50.938C51.1977 18.5945 51.3997 18.3925 51.3997 18.1616V16.5887C51.3997 16.3434 51.1977 16.1558 50.938 16.1558H49.4661C48.3838 16.1414 47.5325 16.3434 46.9697 16.8629Z",fill:s}),(0,t.jsx)("path",{d:"M10 11.5C10 10.6716 10.6716 10 11.5 10H18.5C19.3284 10 20 10.6716 20 11.5V18H11.5C10.6716 18 10 17.3284 10 16.5V11.5Z",fill:u}),(0,t.jsx)("path",{d:"M20 18H28.5C29.3284 18 30 18.6716 30 19.5V24.5C30 25.3284 29.3284 26 28.5 26H20V18Z",fill:u}),(0,t.jsx)("path",{d:"M10 27.5C10 26.6716 10.6716 26 11.5 26H20V32.5C20 33.3284 19.3284 34 18.5 34H11.5C10.6716 34 10 33.3284 10 32.5V27.5Z",fill:u})]})};e.s(["LogoHorizontal",()=>o,"LogoSymbol",()=>a,"LogoSymbolRaw",()=>i])},943618,(e,t,n)=>{t.exports=e.r(872686)},738623,953891,e=>{"use strict";var t=e.i(297083),n=e.i(878420),r=e.i(817556),i=e.i(906368),a=e.i(862927),o=e.i(960933);o.Type.Object({privacyInviteCode:o.Type.Optional(o.Type.String()),rawPassword:o.Type.Optional(o.Type.String()),source:o.Type.Optional(o.Type.String()),referrerId:o.Type.Optional(o.Type.Number()),tenantId:o.Type.Optional(o.Type.String())});var s=o.Type.Object({isNewUser:o.Type.Boolean(),userId:o.Type.Number(),redirectUrl:o.Type.Optional(o.Type.String()),cookieExpiresAt:o.Type.Optional(o.Type.Number())}),l=o.Type.Union([s,o.Type.Object({message:o.Type.String(),reauth:o.Type.Optional(o.Type.Object({tenantId:o.Type.String(),samlProviderId:o.Type.String()}))})]);o.Type.Union([o.Type.Object({type:o.Type.Literal("tenantId"),tenantId:o.Type.String()}),o.Type.Object({type:o.Type.Literal("email"),email:o.Type.String()})]);var u=o.Type.Object({tenantId:o.Type.String(),samlProviderId:o.Type.String()}),c=o.Type.Union([u,o.Type.Object({message:o.Type.String()})]),f=o.Type.Union([o.Type.Literal("CLIENT_TYPE_ANDROID"),o.Type.Literal("CLIENT_TYPE_IOS"),o.Type.Literal("CLIENT_TYPE_WEB")]);o.Type.Object({email:o.Type.String(),privacyInviteCode:o.Type.Optional(o.Type.String()),rawPassword:o.Type.String(),clientType:f,recaptchaToken:o.Type.String(),source:o.Type.String(),referrerId:o.Type.Optional(o.Type.Number()),aiPrompt:o.Type.Optional(o.Type.String())}),o.Type.Object({emailOrUsername:o.Type.String(),rawPassword:o.Type.String(),clientType:f,recaptchaToken:o.Type.String()});var p=o.Type.Object({kind:o.Type.String(),idToken:o.Type.String(),displayName:o.Type.Optional(o.Type.String()),email:o.Type.String(),refreshToken:o.Type.String(),expiresIn:o.Type.String(),localId:o.Type.String()});o.Type.Object({error:o.Type.Object({code:o.Type.Number(),message:o.Type.String(),errors:o.Type.Array(o.Type.Object({message:o.Type.String(),domain:o.Type.String(),reason:o.Type.String()}))})});var d=o.Type.Union([o.Type.Object({userId:o.Type.Number(),session:p}),o.Type.Object({message:o.Type.String()})]),m=e.i(904851),h=e.i(90659),y=e.i(721281),g=e.i(282453),x=function(){function e(){(0,m._)(this,e)}return(0,h._)(e,null,[{key:"shouldRefreshSessionCookie",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e5,t=this.getSessionInfo();return!!t&&Date.now()>=t.cookieExpiresAt-e}},{key:"setSessionInfo",value:function(e){var t=(0,n._)({},e);g.default.set(this.SESSION_INFO_KEY,t)}},{key:"getSessionInfo",value:function(){return g.default.get(this.SESSION_INFO_KEY,"object")}},{key:"clearSessionInfo",value:function(){g.default.remove(this.SESSION_INFO_KEY)}}]),e}();(0,y._)(x,"SESSION_INFO_KEY","replit_session_info"),e.s(["SessionInfoManager",()=>x],953891);var b="/api/v1/auth",v=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,t._)(function(){var t,s,u,c,f;return(0,r._)(this,function(r){switch(r.label){case 0:return[4,e.getIdToken()];case 1:return t=r.sent(),s=null!==e.tenantId?{tenantId:e.tenantId}:{},u=(0,n._)({},o,s),[4,fetch(b,{method:"POST",headers:{Authorization:"Bearer ".concat(t),"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(u)})];case 2:return[4,(c=r.sent()).json()];case 3:if(f=r.sent(),!a.Value.Check(l,f))return i.withScope(function(t){t.setExtras({fuid:e.uid,status:c.status,body:f}),i.captureException(Error("Unexpected POST ".concat(b," response format")))}),[2,{type:"error",message:"Something unexpected happened, please try again."}];if(c.ok||428===c.status||i.withScope(function(t){t.setExtras({fuid:e.uid,status:c.status,body:f}),i.captureException(Error("Unexpected POST ".concat(b," response")))}),"message"in f)return[2,{type:428===c.status?"needs_email_verification":"error",message:f.message,reauth:f.reauth}];return f.cookieExpiresAt&&x.setSessionInfo({cookieExpiresAt:f.cookieExpiresAt,userId:f.userId}),[2,{type:"success",userId:f.userId,isNewUser:f.isNewUser,redirectUrl:f.redirectUrl}]}})})()},w=function(e){return(0,t._)(function(){var t,n,a,o;return(0,r._)(this,function(r){switch(r.label){case 0:return[4,e.getIdToken()];case 1:return t=r.sent(),[4,fetch("".concat(b,"-anon"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},credentials:"same-origin"})];case 2:switch((n=r.sent()).status){case 204:case 304:return[3,3]}return[3,4];case 3:return[2,{type:"success"}];case 4:return[4,n.json()];case 5:return a=r.sent(),i.withScope(function(t){t.setExtras({anonUser:e}),i.captureException(Error("Unexpected POST ".concat(b,"-anon response")))}),[2,{type:"error",message:null!=(o=a.message)?o:"Something unexpected happened, please try again."}];case 6:return[2]}})})()},C=function(e){return(0,t._)(function(){var t,n,o;return(0,r._)(this,function(r){switch(r.label){case 0:return[4,fetch(t="/api/v1/auth/sign-up",{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(e)})];case 1:n=r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,n.json()];case 3:return o=r.sent(),[3,5];case 4:return r.sent(),[3,5];case 5:if(!n.ok&&400!==n.status){if(i.withScope(function(r){r.setExtras({email:e.email,status:n.status,body:o}),i.captureException(Error("Unexpected POST ".concat(t," response status")))}),429===n.status)return[2,{type:"error",message:"You are doing that too many times, please try again later. If you believe this is an error, please reach out to support@replit.com"}];return[2,{type:"error",message:"Something unexpected happened, please try again."}]}if(!a.Value.Check(d,o))return i.withScope(function(r){r.setExtras({email:e.email,status:n.status,body:o}),i.captureException(Error("Unexpected POST ".concat(t," response format")))}),[2,{type:"error",message:"Something unexpected happened, please try again."}];if("message"in o)return[2,{type:"error",message:o.message}];return[2,{type:"success",userId:o.userId,session:o.session}]}})})()},S=function(e){return(0,t._)(function(){var t,n,o;return(0,r._)(this,function(r){switch(r.label){case 0:return[4,fetch(t="/api/v1/auth/sign-in",{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(e)})];case 1:return[4,(n=r.sent()).json()];case 2:if(o=r.sent(),!a.Value.Check(d,o))return i.withScope(function(r){r.setExtras({emailOrUsername:e.emailOrUsername,status:n.status,body:o}),i.captureException(Error("Unexpected POST ".concat(t," response format")))}),[2,{type:"error",message:"Something unexpected happened, please try again."}];if(n.ok||400===n.status||i.withScope(function(r){r.setExtras({emailOrUsername:e.emailOrUsername,status:n.status,body:o}),i.captureException(Error("Unexpected POST ".concat(t," response status")))}),"message"in o)return[2,{type:"error",message:o.message}];return[2,{type:"success",userId:o.userId,session:o.session}]}})})()},T=function(e){return(0,t._)(function(){var t,n,o;return(0,r._)(this,function(r){switch(r.label){case 0:return[4,fetch(t="/api/v1/auth/tenants",{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(e)})];case 1:return[4,(n=r.sent()).json()];case 2:if(o=r.sent(),!a.Value.Check(c,o))return i.withScope(function(r){r.setExtras({request:e,status:n.status,body:o}),i.captureException(Error("Unexpected POST ".concat(t," response format")))}),[2,{type:"error",message:"Something unexpected happened, please try again."}];if(!n.ok&&404!==n.status&&422!==n.status)return i.withScope(function(t){t.setExtras({request:e,status:n.status}),i.captureException(Error("Unexpected GET /api/v1/auth/tenants response"))}),[2,{type:"error",message:"Something unexpected happened, please try again."}];if("message"in o)return[2,{type:"error",message:o.message}];return[2,{type:"success",tenantId:o.tenantId,samlProviderId:o.samlProviderId}]}})})()};e.s(["getAuthTenant",()=>T,"setAnonCookie",()=>w,"setCookie",()=>v,"signInWithPassword",()=>S,"signUpWithPassword",()=>C],738623)},248202,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"LoadableContext",{enumerable:!0,get:function(){return r}});var r=e.r(2879)._(e.r(389959)).default.createContext(null)},26721,(e,t,n)=>{"use strict";var r=e.r(883735),i=e.r(619314),a=e.r(5044),o=e.r(23256);Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return y}});var s=e.r(2879)._(e.r(389959)),l=e.r(248202),u=[],c=[],f=!1;function p(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(function(e){return n.loading=!1,n.loaded=e,e}).catch(function(e){throw n.loading=!1,n.error=e,e}),n}var d=function(){function e(t,n){r._(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return i._(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;t.loading&&("number"==typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout(function(){e._update({pastDelay:!0})},n.delay)),"number"==typeof n.timeout&&(this._timeout=setTimeout(function(){e._update({timedOut:!0})},n.timeout))),this._res.promise.then(function(){e._update({}),e._clearTimeouts()}).catch(function(t){e._update({}),e._clearTimeouts()}),this._update({})}},{key:"_update",value:function(e){this._state=a._(o._(a._({},this._state),{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading}),e),this._callbacks.forEach(function(e){return e()})}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}]),e}();function m(t){return function(t,n){var r=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},n),i=null;function a(){if(!i){var e=new d(t,r);i={getCurrentValue:e.getCurrentValue.bind(e),subscribe:e.subscribe.bind(e),retry:e.retry.bind(e),promise:e.promise.bind(e)}}return i.promise()}if("undefined"==typeof window&&u.push(a),!f&&"undefined"!=typeof window){var o=r.webpack&&"function"==typeof e.t.resolveWeak?r.webpack():r.modules;o&&c.push(function(e){var t=!0,n=!1,r=void 0;try{for(var i,s=o[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var l=i.value;if(e.includes(l))return a()}}catch(e){n=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}})}function p(e,t){a(),(n=s.default.useContext(l.LoadableContext))&&Array.isArray(r.modules)&&r.modules.forEach(function(e){n(e)});var n,o=s.default.useSyncExternalStore(i.subscribe,i.getCurrentValue,i.getCurrentValue);return s.default.useImperativeHandle(t,function(){return{retry:i.retry}},[]),s.default.useMemo(function(){var t;return o.loading||o.error?s.default.createElement(r.loading,{isLoading:o.loading,pastDelay:o.pastDelay,timedOut:o.timedOut,error:o.error,retry:i.retry}):o.loaded?s.default.createElement((t=o.loaded)&&t.default?t.default:t,e):null},[e,o])}return p.preload=function(){return a()},p.displayName="LoadableComponent",s.default.forwardRef(p)}(p,t)}function h(e,t){for(var n=[];e.length;){var r=e.pop();n.push(r(t))}return Promise.all(n).then(function(){if(e.length)return h(e,t)})}m.preloadAll=function(){return new Promise(function(e,t){h(u).then(e,t)})},m.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(function(t){var n=function(){return f=!0,t()};h(c,e).then(n,n)})},"undefined"!=typeof window&&(window.__NEXT_PRELOADREADY=m.preloadReady);var y=m},607836,(e,t,n)=>{"use strict";var r=e.r(954546),i=e.r(5044),a=e.r(23256),o=e.r(365738);Object.defineProperty(n,"__esModule",{value:!0});var s={default:function(){return h},noSSR:function(){return m}};for(var l in s)Object.defineProperty(n,l,{enumerable:!0,get:s[l]});var u=e.r(2879),c=e.r(478902);e.r(389959);var f=u._(e.r(26721)),p="undefined"==typeof window;function d(e){return{default:(null==e?void 0:e.default)||e}}function m(e,t){if(delete t.webpack,delete t.modules,!p)return e(t);var n=t.loading;return function(){return(0,c.jsx)(n,{error:null,isLoading:!0,pastDelay:!1,timedOut:!1})}}function h(e,t){var n=f.default,s={loading:function(e){return e.error,e.isLoading,e.pastDelay,null}};r._(e,Promise)?s.loader=function(){return e}:"function"==typeof e?s.loader=e:(void 0===e?"undefined":o._(e))==="object"&&(s=i._({},s,e));var l=(s=i._({},s,t)).loader;return(s.loadableGenerated&&(s=i._({},s,s.loadableGenerated),delete s.loadableGenerated),"boolean"!=typeof s.ssr||s.ssr)?n(a._(i._({},s),{loader:function(){return null!=l?l().then(d):Promise.resolve(d(function(){return null}))}})):(delete s.webpack,delete s.modules,m(n,s))}("function"==typeof n.default||"object"===o._(n.default)&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},864558,(e,t,n)=>{t.exports=e.r(607836)},773948,e=>{"use strict";var t=e.i(297083),n=e.i(904851),r=e.i(90659),i=e.i(721281),a=e.i(167626),o=e.i(878420),s=e.i(119468),l=e.i(817556),u=e.i(903673),c=e.i(738623),f=e.i(664152),p=new(function(){function e(t){(0,n._)(this,e),(0,i._)(this,"config",void 0),(0,i._)(this,"activeRefreshPromise",null),this.config=(0,o._)({maxRetries:3,baseDelayMs:1e3,maxDelayMs:5e3},t)}return(0,r._)(e,[{key:"refreshCookie",value:function(e){return(0,t._)(function(){return(0,l._)(this,function(t){return this.activeRefreshPromise?f.logger.info("Cookie refresh already in progress, waiting for existing operation to complete"):this.activeRefreshPromise=this.executeRefreshOperation(e),[2,this.activeRefreshPromise]})}).call(this)}},{key:"executeRefreshOperation",value:function(e){return(0,t._)(function(){var t,n,r,i,a;return(0,l._)(this,function(o){switch(o.label){case 0:t=null,o.label=1;case 1:o.trys.push([1,,6,7]),r=function(r){var i;return(0,l._)(this,function(a){switch(a.label){case 0:return[4,n.attemptCookieRefresh(e,r)];case 1:if("success"===(t=a.sent()).type)return r>1&&f.logger.info("Cookie refresh succeeded after retries",{attempt:r,totalAttempts:r}),[2,{v:t}];if(!n.isRetryableError(t))return f.logger.warn("Cookie refresh failed with non-retryable error",{attempt:r,resultType:t.type,errorMessage:t.message}),[2,{v:t}];if(f.logger.warn("Cookie refresh attempt failed, will retry",{attempt:r,resultType:t.type,errorMessage:t.message,remainingAttempts:n.config.maxRetries-r}),!(r<n.config.maxRetries))return[3,3];return i=n.calculateBackoffDelay(r),[4,new Promise(function(e){return setTimeout(e,i)})];case 2:a.sent(),a.label=3;case 3:return[2]}})},i=1,o.label=2;case 2:if(!(i<=this.config.maxRetries))return[3,5];return n=this,[5,(0,u._)(r(i))];case 3:if(a=o.sent(),"object"===(0,s._)(a))return[2,a.v];o.label=4;case 4:return i++,[3,2];case 5:return f.logger.error("Cookie refresh failed after all retry attempts",{finalAttempt:this.config.maxRetries,lastError:null==t?void 0:t.type,lastMessage:null==t?void 0:t.message}),[2,t||{type:"error",message:"Cookie refresh failed after all retry attempts"}];case 6:return this.activeRefreshPromise=null,[7];case 7:return[2]}})}).call(this)}},{key:"attemptCookieRefresh",value:function(e,n){return(0,t._)(function(){var t;return(0,l._)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),f.logger.info("Cookie refresh attempt",{attempt:n,maxRetries:this.config.maxRetries}),[4,(0,c.setCookie)(e)];case 1:return[2,r.sent()];case 2:return t=r.sent(),f.logger.warn("Cookie refresh attempt failed with exception",{attempt:n,errorDetails:(0,a._)(t,Error)?t.message:String(t)}),[2,{type:"error",message:(0,a._)(t,Error)?t.message:"Unknown error during cookie refresh"}];case 3:return[2]}})}).call(this)}},{key:"isRetryableError",value:function(e){return"needs_email_verification"!==e.type&&"error"===e.type}},{key:"calculateBackoffDelay",value:function(e){var t=Math.min(this.config.baseDelayMs*Math.pow(2,e-1),this.config.maxDelayMs),n=.25*t*(Math.random()-.5);return Math.round(t+n)}},{key:"getState",value:function(){return{hasActivePromise:null!==this.activeRefreshPromise}}},{key:"reset",value:function(){this.activeRefreshPromise=null}}]),e}());e.s(["cookieRefreshService",()=>p])}]);

//# debugId=5ae6ade0-6077-0ebc-484e-8cd74473ceb5
//# sourceMappingURL=c4c658546517fd05.js.map