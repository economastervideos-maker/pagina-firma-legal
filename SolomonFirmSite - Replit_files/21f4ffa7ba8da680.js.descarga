;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="efeba1e0-2e01-fd32-ce2d-ee4a4ff7f4f9")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,276273,e=>{"use strict";var t=e.i(700005),n=e.i(775973),r=e.i(15053),o=e.i(365669),i=e.i(427802),a=e.i(858248),s="gating_id",u="ld_uid",c=function(){i.default.remove(u)},l=function(e){i.default.set(u,e)},d=function(){return i.default.get(u)},p=function(){var e,n;return(null==(e=window)?void 0:e.ldAnonId)?n=window.ldAnonId:((n=(0,a.getAnonymousId)()||t.default.get(s))||(n=(0,r.v4)()),(0,a.getAnonymousId)()!==n&&(0,a.setAnonymousId)(n),window.ldAnonId=n),t.default.get(s)||t.default.set(s,n,{path:"/"}),n},f={clientSideID:o.publicEnv.NEXT_PUBLIC_LAUNCH_DARKLY_CLIENT_ID||"",context:{key:d()||p(),kind:"user",anonymous:!d()},options:{bootstrap:"localStorage",sendEvents:!0,streaming:!1,fetchGoals:!1},reactOptions:{useCamelCaseFlagKeys:!1}};e.s(["default",0,function(){return(0,n.withLDProvider)(f)},"getAnonId",()=>p,"getLdUserId",()=>d,"removeLdUserId",()=>c,"setLdUserId",()=>l])},719335,(e,t,n)=>{let r;var o,i,a=e.r(365738);o=e.e,i=function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=o){var i=[],a=!0,s=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c,l,d,p,f,m={exports:{}};m.exports=(function(){if(f)return p;f=1;var e=d?l:(d=1,l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function t(){}function n(){}return n.resetWarningCache=t,p=function(){function r(t,n,r,o,i,a){if(a!==e){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function o(){return r}r.isRequired=r;var i={array:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i}})()();var h=(c=m.exports)&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c,g=function(e,n,r){var o=!!r,i=t.useRef(r);t.useEffect(function(){i.current=r},[r]),t.useEffect(function(){if(!o||!e)return function(){};var t=function(){i.current&&i.current.apply(i,arguments)};return e.on(n,t),function(){e.off(n,t)}},[o,n,e,i])},y=function(e){var n=t.useRef(e);return t.useEffect(function(){n.current=e},[e]),n.current},v=function(e){return null!==e&&"object"===o(e)},b="[object Object]",x=function e(t,n){if(!v(t)||!v(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var o=Object.prototype.toString.call(t)===b;if(o!==(Object.prototype.toString.call(n)===b))return!1;if(!o&&!r)return t===n;var i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(var s={},u=0;u<i.length;u+=1)s[i[u]]=!0;for(var c=0;c<a.length;c+=1)s[a[c]]=!0;var l=Object.keys(s);return l.length===i.length&&l.every(function(r){return e(t[r],n[r])})},S=function(e,t,n){return v(e)?Object.keys(e).reduce(function(o,a){var s=!v(t)||!x(e[a],t[a]);return n.includes(a)?(s&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),o):s?r(r({},o||{}),{},i({},a,e[a])):o},null):null},w="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;if(null===e||v(e)&&"function"==typeof e.elements&&"function"==typeof e.createToken&&"function"==typeof e.createPaymentMethod&&"function"==typeof e.confirmCardPayment)return e;throw Error(t)},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;if(v(e)&&"function"==typeof e.then)return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return E(e,t)})};var n=E(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},j=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"3.5.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.5.0",url:"https://stripe.com/docs/stripe-js/react"}))},_=t.createContext(null);_.displayName="ElementsContext";var k=function(e,t){if(!e)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},P=function(e){var n=e.stripe,r=e.options,o=e.children,i=t.useMemo(function(){return C(n)},[n]),a=s(t.useState(function(){return{stripe:"sync"===i.tag?i.stripe:null,elements:"sync"===i.tag?i.stripe.elements(r):null}}),2),u=a[0],c=a[1];t.useEffect(function(){var e=!0,t=function(e){c(function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}})};return"async"!==i.tag||u.stripe?"sync"!==i.tag||u.stripe||t(i.stripe):i.stripePromise.then(function(n){n&&e&&t(n)}),function(){e=!1}},[i,u,r]);var l=y(n);t.useEffect(function(){null!==l&&l!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[l,n]);var d=y(r);return t.useEffect(function(){if(u.elements){var e=S(r,d,["clientSecret","fonts"]);e&&u.elements.update(e)}},[r,d,u.elements]),t.useEffect(function(){j(u.stripe)},[u.stripe]),t.createElement(_.Provider,{value:u},o)};P.propTypes={stripe:h.any,options:h.object};var T=function(e){return k(t.useContext(_),e)},I=function(e){return(0,e.children)(T("mounts <ElementsConsumer>"))};I.propTypes={children:h.func.isRequired};var A=["on","session"],O=t.createContext(null);O.displayName="CheckoutSdkContext";var B=function(e,t){if(!e)throw Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},U=t.createContext(null);U.displayName="CheckoutContext";var N=function(e,t){if(!e)return null;e.on,e.session;var n=a(e,A);return t?r(r({},n),t):r(r({},n),e.session())},L=function(e){var n=e.stripe,r=e.options,o=e.children,i=t.useMemo(function(){return C(n,"Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},[n]),a=s(t.useState(null),2),u=a[0],c=a[1],l=s(t.useState(function(){return{stripe:"sync"===i.tag?i.stripe:null,checkoutSdk:null}}),2),d=l[0],p=l[1],f=function(e,t){p(function(n){return n.stripe&&n.checkoutSdk?n:{stripe:e,checkoutSdk:t}})},m=t.useRef(!1);t.useEffect(function(){var e=!0;return"async"!==i.tag||d.stripe?"sync"===i.tag&&i.stripe&&!m.current&&(m.current=!0,i.stripe.initCheckout(r).then(function(e){e&&(f(i.stripe,e),e.on("change",c))})):i.stripePromise.then(function(t){t&&e&&!m.current&&(m.current=!0,t.initCheckout(r).then(function(e){e&&(f(t,e),e.on("change",c))}))}),function(){e=!1}},[i,d,r,c]);var h=y(n);t.useEffect(function(){null!==h&&h!==n&&console.warn("Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.")},[h,n]);var g=y(r);t.useEffect(function(){if(d.checkoutSdk){var e,t,n=null==g||null==(e=g.elementsOptions)?void 0:e.appearance,o=null==r||null==(t=r.elementsOptions)?void 0:t.appearance;o&&!x(o,n)&&d.checkoutSdk.changeAppearance(o)}},[r,g,d.checkoutSdk]),t.useEffect(function(){j(d.stripe)},[d.stripe]);var v=t.useMemo(function(){return N(d.checkoutSdk,u)},[d.checkoutSdk,u]);return d.checkoutSdk?t.createElement(O.Provider,{value:d},t.createElement(U.Provider,{value:v},o)):null};L.propTypes={stripe:h.any,options:h.shape({fetchClientSecret:h.func.isRequired,elementsOptions:h.object}).isRequired};var M=function(e){var n=t.useContext(O),r=t.useContext(_);if(n&&r)throw Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?B(n,e):k(r,e)},D=["mode"],R=function(e,n){var r="".concat(e.charAt(0).toUpperCase()+e.slice(1),"Element"),o=n?function(e){M("mounts <".concat(r,">"));var n=e.id,o=e.className;return t.createElement("div",{id:n,className:o})}:function(n){var o,i=n.id,u=n.className,c=n.options,l=void 0===c?{}:c,d=n.onBlur,p=n.onFocus,f=n.onReady,m=n.onChange,h=n.onEscape,v=n.onClick,b=n.onLoadError,x=n.onLoaderStart,w=n.onNetworksChange,E=n.onConfirm,C=n.onCancel,j=n.onShippingAddressChange,_=n.onShippingRateChange,k=M("mounts <".concat(r,">")),P="elements"in k?k.elements:null,T="checkoutSdk"in k?k.checkoutSdk:null,I=s(t.useState(null),2),A=I[0],O=I[1],B=t.useRef(null),U=t.useRef(null);g(A,"blur",d),g(A,"focus",p),g(A,"escape",h),g(A,"click",v),g(A,"loaderror",b),g(A,"loaderstart",x),g(A,"networkschange",w),g(A,"confirm",E),g(A,"cancel",C),g(A,"shippingaddresschange",j),g(A,"shippingratechange",_),g(A,"change",m),f&&(o="expressCheckout"===e?f:function(){f(A)}),g(A,"ready",o),t.useLayoutEffect(function(){if(null===B.current&&null!==U.current&&(P||T)){var t=null;if(T)switch(e){case"payment":t=T.createPaymentElement(l);break;case"address":if("mode"in l){var n=l.mode,o=a(l,D);if("shipping"===n)t=T.createShippingAddressElement(o);else if("billing"===n)t=T.createBillingAddressElement(o);else throw Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":t=T.createExpressCheckoutElement(l);break;case"currencySelector":t=T.createCurrencySelectorElement();break;default:throw Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else P&&(t=P.create(e,l));B.current=t,O(t),t&&t.mount(U.current)}},[P,T,l]);var N=y(l);return t.useEffect(function(){if(B.current){var e=S(l,N,["paymentRequest"]);e&&"update"in B.current&&B.current.update(e)}},[l,N]),t.useLayoutEffect(function(){return function(){if(B.current&&"function"==typeof B.current.destroy)try{B.current.destroy(),B.current=null}catch(e){}}},[]),t.createElement("div",{id:i,className:u,ref:U})};return o.propTypes={id:h.string,className:h.string,onChange:h.func,onBlur:h.func,onFocus:h.func,onReady:h.func,onEscape:h.func,onClick:h.func,onLoadError:h.func,onLoaderStart:h.func,onNetworksChange:h.func,onConfirm:h.func,onCancel:h.func,onShippingAddressChange:h.func,onShippingRateChange:h.func,options:h.object},o.displayName=r,o.__elementType=e,o},F="undefined"==typeof window,V=t.createContext(null);V.displayName="EmbeddedCheckoutProviderContext";var Y=function(){var e=t.useContext(V);if(!e)throw Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},q=F?function(e){var n=e.id,r=e.className;return Y(),t.createElement("div",{id:n,className:r})}:function(e){var n=e.id,r=e.className,o=Y().embeddedCheckout,i=t.useRef(!1),a=t.useRef(null);return t.useLayoutEffect(function(){return!i.current&&o&&null!==a.current&&(o.mount(a.current),i.current=!0),function(){if(i.current&&o)try{o.unmount(),i.current=!1}catch(e){}}},[o]),t.createElement("div",{ref:a,id:n,className:r})},W=R("auBankAccount",F),z=R("card",F),H=R("cardNumber",F),G=R("cardExpiry",F),K=R("cardCvc",F),$=R("fpxBank",F),Q=R("iban",F),X=R("idealBank",F),J=R("p24Bank",F),Z=R("epsBank",F),ee=R("payment",F),et=R("expressCheckout",F),en=R("currencySelector",F),er=R("paymentRequestButton",F),eo=R("linkAuthentication",F),ei=R("address",F),ea=R("shippingAddress",F),es=R("paymentMethodMessaging",F),eu=R("affirmMessage",F),ec=R("afterpayClearpayMessage",F);e.AddressElement=ei,e.AffirmMessageElement=eu,e.AfterpayClearpayMessageElement=ec,e.AuBankAccountElement=W,e.CardCvcElement=K,e.CardElement=z,e.CardExpiryElement=G,e.CardNumberElement=H,e.CheckoutProvider=L,e.CurrencySelectorElement=en,e.Elements=P,e.ElementsConsumer=I,e.EmbeddedCheckout=q,e.EmbeddedCheckoutProvider=function(e){var n=e.stripe,r=e.options,o=e.children,i=t.useMemo(function(){return C(n,"Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},[n]),a=t.useRef(null),u=t.useRef(null),c=s(t.useState({embeddedCheckout:null}),2),l=c[0],d=c[1];t.useEffect(function(){if(!u.current&&!a.current){var e=function(e){u.current||a.current||(u.current=e,a.current=u.current.initEmbeddedCheckout(r).then(function(e){d({embeddedCheckout:e})}))};"async"===i.tag&&!u.current&&(r.clientSecret||r.fetchClientSecret)?i.stripePromise.then(function(t){t&&e(t)}):"sync"===i.tag&&!u.current&&(r.clientSecret||r.fetchClientSecret)&&e(i.stripe)}},[i,r,l,u]),t.useEffect(function(){return function(){l.embeddedCheckout?(a.current=null,l.embeddedCheckout.destroy()):a.current&&a.current.then(function(){a.current=null,l.embeddedCheckout&&l.embeddedCheckout.destroy()})}},[l.embeddedCheckout]),t.useEffect(function(){j(u)},[u]);var p=y(n);t.useEffect(function(){null!==p&&p!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[p,n]);var f=y(r);return t.useEffect(function(){if(null!=f){if(null==r)return void console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them.");void 0===r.clientSecret&&void 0===r.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=f.clientSecret&&r.clientSecret!==f.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=f.fetchClientSecret&&r.fetchClientSecret!==f.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=f.onComplete&&r.onComplete!==f.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),null!=f.onShippingDetailsChange&&r.onShippingDetailsChange!==f.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),null!=f.onLineItemsChange&&r.onLineItemsChange!==f.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")}},[f,r]),t.createElement(V.Provider,{value:l},o)},e.EpsBankElement=Z,e.ExpressCheckoutElement=et,e.FpxBankElement=$,e.IbanElement=Q,e.IdealBankElement=X,e.LinkAuthenticationElement=eo,e.P24BankElement=J,e.PaymentElement=ee,e.PaymentMethodMessagingElement=es,e.PaymentRequestButtonElement=er,e.ShippingAddressElement=ea,e.useCheckout=function(){B(t.useContext(O),"calls useCheckout()");var e=t.useContext(U);if(!e)throw Error("Could not find Checkout Context; You need to wrap the part of your app that calls useCheckout() in an <CheckoutProvider> provider.");return e},e.useElements=function(){return T("calls useElements()").elements},e.useStripe=function(){return M("calls useStripe()").stripe}},"object"===a._(n)?i(n,e.r(389959)):"function"==typeof define&&define.amd?void 0!==(r=i(n,e.r(389959)))&&e.v(r):i((o="undefined"!=typeof globalThis?globalThis:o||self).ReactStripe={},o.React)},688485,(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0});var o,i="acacia",a="https://js.stripe.com",s="".concat(a,"/").concat(i,"/stripe.js"),u=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,c=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,l="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",d=function(){for(var e=document.querySelectorAll('script[src^="'.concat(a,'"]')),t=0;t<e.length;t++){var n,r=e[t];if(n=r.src,u.test(n)||c.test(n))return r}return null},p=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(s).concat(t);var r=document.head||document.body;if(!r)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},f=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"6.1.0",startTime:t})},m=null,h=null,g=null,y=function(e,t,n){if(null===e)return null;var r,o=t[0].match(/^pk_test/),a=3===(r=e.version)?"v3":r;o&&a!==i&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("6.1.0"," expected Stripe.js@").concat(i,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var s=e.apply(void 0,t);return f(s,n),s},v=function(e){var t="invalid load parameters; expected object of shape\n\n    {advancedFraudSignals: boolean}\n\nbut received\n\n    ".concat(JSON.stringify(e),"\n");if(null===e||"object"!==r(e))throw Error(t);if(1===Object.keys(e).length&&"boolean"==typeof e.advancedFraudSignals)return e;throw Error(t)},b=!1,x=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];b=!0;var i=Date.now();return(e=o,null!==m?m:(m=new Promise(function(t,n){if("undefined"==typeof window||"undefined"==typeof document)return void t(null);if(window.Stripe&&e&&console.warn(l),window.Stripe)return void t(window.Stripe);try{var r,o=d();o&&e?console.warn(l):o?o&&null!==g&&null!==h&&(o.removeEventListener("load",g),o.removeEventListener("error",h),null==(r=o.parentNode)||r.removeChild(o),o=p(e)):o=p(e),g=function(){window.Stripe?t(window.Stripe):n(Error("Stripe.js not available"))},h=function(e){n(Error("Failed to load Stripe.js",{cause:e}))},o.addEventListener("load",g),o.addEventListener("error",h)}catch(e){n(e);return}})).catch(function(e){return m=null,Promise.reject(e)})).then(function(e){return y(e,n,i)})};x.setLoadParameters=function(e){if(!(b&&o&&Object.keys(v(e)).reduce(function(t,n){var r;return t&&e[n]===(null==(r=o)?void 0:r[n])},!0))){if(b)throw Error("You cannot change load parameters after calling loadStripe");o=v(e)}},n.loadStripe=x},978508,(e,t,n)=>{t.exports=e.r(688485)},447587,e=>{"use strict";var t=e.i(297083),n=e.i(399119),r=e.i(904851),o=e.i(445789),i=e.i(167626),a=e.i(878420),s=e.i(463348),u=e.i(817556),c=Object.prototype.toString,l=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.min,o=void 0===r?0:r,i=n.allowInfinity,a=void 0!==i&&i;if(void 0!==t){if("number"!=typeof t||Number.isNaN(t))throw TypeError("Expected `".concat(e,"` to be a number").concat(a?" or Infinity":"","."));if(!a&&!Number.isFinite(t))throw TypeError("Expected `".concat(e,"` to be a finite number."));if(t<o)throw TypeError("Expected `".concat(e,"` to be ≥ ").concat(o,"."))}}var p=function(e){function t(e){var o;return(0,r._)(this,t),o=(0,n._)(this,t),(0,i._)(e,Error)?(o.originalError=e,e=e.message):(o.originalError=Error(e),o.originalError.stack=o.stack),o.name="AbortError",o.message=e,o}return(0,o._)(t,e),t}((0,s._)(Error)),f=function(e,t,n){var r=n.retries-(t-1);return Object.freeze({error:e,attemptNumber:t,retriesLeft:r})};function m(e){return(0,t._)(function(e){var n,r,o,s,m,h,g,y,v,b,x,S,w,E,C,j,_,k=arguments;return(0,u._)(this,function(P){switch(P.label){case 0:n=k.length>1&&void 0!==k[1]?k[1]:{};var T,I,A,O,B,U=(n=(0,a._)({},n)).retries;if("number"==typeof U){if(U<0)throw TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(U))throw TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(void 0!==U)throw TypeError("Expected `retries` to be a number or Infinity.");if(Object.hasOwn(n,"forever"))throw Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");null!=(o=n).retries||(o.retries=10),null!=(s=n).factor||(s.factor=2),null!=(m=n).minTimeout||(m.minTimeout=1e3),null!=(h=n).maxTimeout||(h.maxTimeout=1/0),null!=(g=n).randomize||(g.randomize=!1),null!=(y=n).onFailedAttempt||(y.onFailedAttempt=function(){}),null!=(v=n).shouldRetry||(v.shouldRetry=function(){return!0}),d("factor",n.factor,{min:0,allowInfinity:!1}),d("minTimeout",n.minTimeout,{min:0,allowInfinity:!1}),d("maxTimeout",n.maxTimeout,{min:0,allowInfinity:!0}),d("maxRetryTime",x=null!=(b=n.maxRetryTime)?b:1/0,{min:0,allowInfinity:!0}),n.factor>0||(n.factor=1),null==(r=n.signal)||r.throwIfAborted(),S=0,w=Date.now(),E=x,P.label=1;case 1:if(!(S<n.retries+1))return[3,7];S++,P.label=2;case 2:return P.trys.push([2,4,,6]),null==(C=n.signal)||C.throwIfAborted(),[4,e(S)];case 3:return _=P.sent(),null==(j=n.signal)||j.throwIfAborted(),[2,_];case 4:return[4,(T=P.sent(),I=S,A=n,O=w,B=E,(0,t._)(function(){var e,t,n,r,o,a,s,d;return(0,u._)(this,function(u){switch(u.label){case 0:if(t=T,(0,i._)(t,Error)||(t=TypeError('Non-error was thrown: "'.concat(t,'". You should only throw errors.'))),(0,i._)(t,p))throw t.originalError;if((0,i._)(t,TypeError)&&!function(e){if(!(e&&"[object Error]"===c.call(e)&&"TypeError"===e.name&&"string"==typeof e.message))return!1;var t=e.message,n=e.stack;return"Load failed"===t?void 0===n||"__sentry_captured__"in e:!!t.startsWith("error sending request for url")||l.has(t)}(t))throw t;return n=f(t,I,A),[4,A.onFailedAttempt(n)];case 1:if(u.sent(),o=(r=Date.now())-O>=B||I>=A.retries+1)return[3,3];return[4,A.shouldRetry(n)];case 2:o=!u.sent(),u.label=3;case 3:if(o||(a=Math.min(Math.round((A.randomize?Math.random()+1:1)*Math.max(A.minTimeout,1)*Math.pow(A.factor,I-1)),A.maxTimeout),(s=B-(r-O))<=0))throw t;if(!((d=Math.min(a,s))>0))return[3,5];return[4,new Promise(function(e,t){var n,r,o=function(){var e;clearTimeout(i),null==(e=A.signal)||e.removeEventListener("abort",o),t(A.signal.reason)},i=setTimeout(function(){var t;null==(t=A.signal)||t.removeEventListener("abort",o),e()},d);A.unref&&(null==(r=i.unref)||r.call(i)),null==(n=A.signal)||n.addEventListener("abort",o,{once:!0})})];case 4:u.sent(),u.label=5;case 5:return null==(e=A.signal)||e.throwIfAborted(),[2]}})})())];case 5:return P.sent(),[3,6];case 6:return[3,1];case 7:throw Error("Retry attempts exhausted without throwing an error.")}})}).apply(this,arguments)}e.s(["AbortError",()=>p,"default",()=>m],447587)},913243,e=>{"use strict";var t=e.i(878420),n=e.i(64386),r=e.i(906368);function o(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(0,n._)((0,t._)({},o.tags),{stripe:!0});r.captureException(e,(0,n._)((0,t._)({},o),{tags:i}))}e.s(["captureSentryException",()=>o])},604999,959910,e=>{"use strict";var t=e.i(33699),n=e.i(297083),r=e.i(530658),o=e.i(817556),i=e.i(276385),a=e.i(389959),s=e.i(719335),u=e.i(978508),c=e.i(447587),l=e.i(365669),d=e.i(913243),p=e.i(399528);e.i(537010);var f=e.i(82048),m=e.i(441329);function h(){var e=(0,p.useRouter)(),t=(0,m.isInBonsaiWebview)(e),n=(0,m.doesBonsaiWebviewSupportFeature)(e,"supportsUpsellBridge"),r=(0,a.useContext)(f.GooglePlayContext).isGooglePlayStoreTWA;return t&&!n?{isPurchaseAllowed:!1,reasonPurchaseNotAllowed:"mobile_webview"}:t&&n?{isPurchaseAllowed:!1,reasonPurchaseNotAllowed:"via_upsell_bridge"}:r?{isPurchaseAllowed:!1,reasonPurchaseNotAllowed:"google_play_pwa"}:{isPurchaseAllowed:!0,reasonPurchaseNotAllowed:void 0}}e.s(["useIsPurchaseAllowed",()=>h],959910);var g=l.publicEnv.NEXT_PUBLIC_STRIPE_PUBLIC_KEY;g||(0,d.captureSentryException)(Error("Missing Stripe public key! People may not be able to pay!"),{level:"fatal"});var y=!1;function v(e){var l=e.children,p=e.options,f=(0,r._)((0,a.useState)(null),2),m=f[0],v=f[1],b=h().isPurchaseAllowed;return(0,a.useEffect)(function(){var e=!1;return(0,n._)(function(){var n;return(0,o._)(this,function(r){return n=b&&"true"!==t.default.env.IS_CYPRESS_AUTOMATED_TEST,y||(u.loadStripe.setLoadParameters({advancedFraudSignals:n}),y=!0),v((0,c.default)(function(){try{if(!g)throw Error("NEXT_PUBLIC_STRIPE_PUBLIC_KEY is required");return(0,u.loadStripe)(g)}catch(e){throw(0,d.captureSentryException)(Error("Missing Stripe public key! People may not be able to pay!"),{level:"fatal"}),e}},{retries:10,onFailedAttempt:function(){if(e)throw new c.AbortError("Effect was cancelled")}}).catch(function(t){return e?null:Promise.reject(t)})),[2]})})(),function(){e=!0}},[b]),(0,i.jsx)(s.Elements,{stripe:m,options:p,children:l})}e.s(["default",()=>v],604999)},851583,e=>{"use strict";var t=e.i(276385),n=e.i(480028),r=e.i(960178),o=e.i(625484),i=e.i(616278);function a(){return(0,t.jsxs)(o.View,{p:16,gap:16,children:[(0,t.jsxs)(o.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(i.default,{size:20,color:n.tokens.accentPositiveDefault}),(0,t.jsx)(r.Text,{variant:"subheadDefault",children:"Payment successful"})]}),(0,t.jsx)(o.View,{gap:16,children:(0,t.jsx)(r.Text,{children:"Your payment has been successfully processed and your account is now active again."})})]})}e.s(["PaymentSuccessNotification",()=>a])},900130,e=>{"use strict";var t=e.i(878420),n=e.i(569384),r=e.i(973245),o=e.i(951262),i=e.i(304277),a=e.i(566901);function s(){var e=(0,n._)(["\n  fragment CurrentUserPaymentMethod on CurrentUser {\n    paymentMethod {\n      ... on PaymentMethod {\n        id\n        externalId\n        last4\n        expirationMonth\n        expirationYear\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return s=function(){return e},e}function u(){var e=(0,n._)(["\n  mutation CreateStripeSetupIntent($input: CreateSetupIntentInput!) {\n    createSetupIntent(input: $input) {\n      ... on CreateSetupIntentResult {\n        clientSecret\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n    }\n  }\n"]);return u=function(){return e},e}function c(){var e=(0,n._)(["\n  query SetupIntentFormCurrentUserEmailVerification {\n    currentUser {\n      id\n      isVerified\n    }\n  }\n"]);return c=function(){return e},e}function l(){var e=(0,n._)(["\n  query PollPaymentMethod {\n    currentUser {\n      id\n      ...CurrentUserPaymentMethod\n    }\n  }\n  ","\n"]);return l=function(){return e},e}var d={},p=(0,r.gql)(s()),f=(0,r.gql)(u());function m(e){var n=(0,t._)({},d,e);return o.useMutation(f,n)}var h=(0,r.gql)(c());function g(e){var n=(0,t._)({},d,e);return i.useQuery(h,n)}var y=(0,r.gql)(l(),p);function v(e){var n=(0,t._)({},d,e);return a.useLazyQuery(y,n)}e.s(["useCreateStripeSetupIntentMutation",()=>m,"usePollPaymentMethodLazyQuery",()=>v,"useSetupIntentFormCurrentUserEmailVerificationQuery",()=>g])},447362,e=>{"use strict";var t=e.i(878420),n=e.i(886513),r=e.i(276385),o=e.i(480028),i=e.i(6338),a=e.i(140487),s=e.i(616278),u=e.i(774792),c=e.i(940745);function l(e){var l=e.isMakingPayment,d=e.showProcessingState,p=e.showSuccessState,f=e.initialStateTextOverride,m=e.processingStateTextOverride,h=e.initialIconOverride,g=(0,n._)(e,["isMakingPayment","showProcessingState","showSuccessState","initialStateTextOverride","processingStateTextOverride","initialIconOverride"]),y=null!=f?f:"Submit";p?y="Success":d&&(y=null!=m?m:"Processing...");var v=null!=h?h:(0,r.jsx)(u.default,{});p?v=(0,r.jsx)(s.default,{}):d&&(v=(0,r.jsx)(c.default,{}));var b=l||p?o.tokens.accentPositiveDimmest:o.tokens.accentPrimaryDimmest,x=l||p?o.tokens.accentPositiveDimmer:o.tokens.accentPrimaryDimmer;return(0,r.jsx)(a.Button,(0,t._)({text:y,iconRight:v,colorway:l||p?"positive":"primary",css:[d&&i.loadingStyle.backgroundPulse(b,x)]},g))}e.s(["PaymentFlowButton",()=>l])},333342,89382,e=>{"use strict";var t=e.i(878420),n=e.i(530658),r=e.i(276385),o=e.i(389959),i=e.i(719335),a=e.i(761201),s=e.i(858248),u=e.i(709485),c=e.i(447362),l=e.i(604999),d=e.i(664961),p=e.i(960178),f=e.i(625484),m=e.i(33914),h={google_play_pwa:(0,r.jsx)(g,{disallowedLocation:"the Google Play Store"}),mobile_webview:(0,r.jsx)(g,{disallowedLocation:"mobile devices"}),privacy_user:"Unfortunately, making purchases is not currently available for education accounts.",via_upsell_bridge:"Continuing to mobile checkout…"};function g(e){var t=e.disallowedLocation;return(0,r.jsxs)(p.Text,{children:["Unfortunately, this is not currently available for purchase through"," ",t,". Manage on"," ",(0,r.jsx)("a",{href:"https://replit.com",children:"replit.com"}),"."]})}function y(e){var t=e.reason,n=(0,d.default)();return(0,o.useEffect)(function(){"via_upsell_bridge"===t&&n&&n.showUpsell()},[t,n]),(0,r.jsxs)(f.View,{css:[{minWidth:256}],p:16,children:["via_upsell_bridge"!==t?(0,r.jsxs)(f.View,{row:!0,gap:8,pb:16,align:"center",children:[(0,r.jsx)(m.default,{size:20}),(0,r.jsx)(p.Text,{variant:"subheadBig",multiline:!1,children:"Oops!"})]}):null,(0,r.jsx)(f.View,{children:h[t]})]})}e.s(["default",()=>y],89382);var v=e.i(959910),b=e.i(480028),x=e.i(703774);e.i(375581);var S=e.i(169099),w=e.i(584426),E=e.i(446530),C=e.i(613355),j=e.i(988676),_=(0,E.cssRecord)({form:[{height:"100%",flex:1,display:"flex",flexDirection:"column"}],termsLink:[C.rcss.color.foregroundDimmest,{textDecoration:"underline"}],errorText:[C.rcss.color.accentNegativeDefault]});function k(e){var n=(0,x.useTheme)().isDarkColorScheme,o=n?S.replitDark:w.replitLight,i={theme:n?"night":"stripe",variables:{colorPrimary:o.values.global.foregroundDefault,colorBackground:o.values.global.backgroundHigher,colorText:o.values.global.foregroundDefault,colorTextPlaceholder:o.values.global.foregroundDimmest,focusOutline:"2px solid ".concat(o.values.global.accentPrimaryDefault),colorDanger:o.values.global.accentNegativeDefault,colorDangerText:o.values.global.accentNegativeDefault,fontFamily:"'IBM Plex Sans', sans-serif",spacingUnit:"0px",fontSizeBase:b.values.fontSizeDefault,focusBoxShadow:"0",borderRadius:b.values.space4,gridRowSpacing:b.values.space8},rules:{".AccordionItem":{boxShadow:"0px"},".Action":{boxShadow:"0px"},".Block":{boxShadow:"0px"},".BlockAction":{boxShadow:"0px"},".Button":{boxShadow:"0px"},".CheckboxInput":{boxShadow:"0px"},".CodeInput":{boxShadow:"0px"},".CodeInputField":{boxShadow:"0px"},".Dropdown":{boxShadow:"0px"},".DropdownItem":{boxShadow:"0px"},".Error":{boxShadow:"0px"},".InputCloseIcon":{boxShadow:"0px"},".Link":{boxShadow:"0px"},".MenuAction":{boxShadow:"0px"},".MenuIcon":{boxShadow:"0px"},".PasscodeCloseIcon":{boxShadow:"0px"},".PasscodeShowIcon":{boxShadow:"0px"},".PickerAction":{boxShadow:"0px"},".PickerItem":{boxShadow:"0px"},".SecondaryLink":{boxShadow:"0px"},".Switch":{boxShadow:"0px"},".SwitchControl":{boxShadow:"0px"},".Tab":{boxShadow:"0px"},".TermsLink":{boxShadow:"0px"},".Toggle":{boxShadow:"0px"},".ToggleItem":{boxShadow:"0px"},".Menu":{boxShadow:"0px"},".Input":{boxShadow:"0px",fontSize:b.values.fontSizeDefault,lineHeight:b.values.lineHeightDefault,padding:"".concat(b.values.space4," ").concat(b.values.space8),outlineOffset:C.sharedFocusStyles.outlineOffset},".Label":{paddingBottom:b.values.space4,marginBottom:"0px",fontSize:b.values.fontSizeSmall,lineHeight:b.values.lineHeightSmall},".FieldLabel":{fontSize:b.values.fontSizeSmall,lineHeight:b.values.lineHeightSmall}}};return(0,r.jsx)(f.View,{grow:!0,children:(0,r.jsx)(l.default,{options:(0,t._)({appearance:i},e.elementsOptions),children:(0,r.jsx)(T,(0,t._)({},e))})})}var P=function(e){var t=e.disclaimerTextAction,n=e.teamsTerms,o=void 0!==n&&n?(0,r.jsxs)(r.Fragment,{children:["By ",t,", you agree to the"," ",(0,r.jsx)("a",{href:a.LINKS_LEGAL.REPLIT_TEAMS_TERMS,target:"_blank",css:_.termsLink,children:"Teams Agreement"}),","]}):(0,r.jsxs)(r.Fragment,{children:["By ",t,", you agree to our"," ",(0,r.jsx)("a",{href:a.LINKS_LEGAL.REPLIT_TERMS,target:"_blank",css:_.termsLink,children:"Terms"})," ","and"," ",(0,r.jsx)("a",{href:a.LINKS_LEGAL.PRIVACY_POLICY,target:"_blank",css:_.termsLink,children:"Privacy Policy"}),","]});return(0,r.jsxs)(p.Text,{variant:"small",children:[o," as well as our payment provider's"," ",(0,r.jsx)("a",{href:"https://stripe.com/legal/end-users",target:"_blank",css:_.termsLink,children:"Terms"})," ","and"," ",(0,r.jsx)("a",{href:"https://stripe.com/privacy",target:"_blank",css:_.termsLink,children:"Privacy Policy"}),"."]})};function T(e){var t=e.submitButtonText,a=e.submitButtonIcon,l=e.isPayment,d=e.onSubmit,m=e.disclaimerTextAction,h=e.purchaseItemDetails,g=e.context,b=e.powerUpCategory,x=e.children,S=e.teamsTerms,w=e.onAddressChange,E=e.submitDisabled,C=(0,i.useStripe)(),k=(0,i.useElements)(),T=(0,n._)((0,o.useState)(!1),2),I=T[0],A=T[1],O=(0,n._)((0,o.useState)(!1),2),B=O[0],U=O[1],N=(0,n._)((0,o.useState)(!1),2),L=N[0],M=N[1],D=(0,n._)((0,o.useState)(),2),R=D[0],F=D[1],V=(0,n._)((0,o.useState)(null),2),Y=V[0],q=V[1],W=h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.DividerH,{}),h]}):null,z=(0,v.useIsPurchaseAllowed)(),H=z.isPurchaseAllowed,G=z.reasonPurchaseNotAllowed;return!H&&G?(0,r.jsx)(y,{reason:G}):(0,r.jsx)("form",{name:"credit-card-form",autoComplete:"on",onSubmit:function(e){e.preventDefault(),C&&k&&((0,s.track)(u.events.PAYMENT_METHOD_FORM_USED,{action:"submit_clicked",context:g,powerUpCategory:b}),U(!0),F(""),d({stripe:C,elements:k,onError:function(e){U(!1),setTimeout(function(){F(e)},500)},onSubmitComplete:function(){U(!1),M(!0)}}))},css:_.form,children:(0,r.jsxs)(f.View,{grow:!0,justify:"end",gap:16,children:[(0,r.jsx)(f.View,{gap:8,grow:!0,children:!1!==Y?(0,r.jsxs)(f.View,{gap:8,children:[(0,r.jsx)(i.PaymentElement,{onLoadError:function(){return q(!0)},onReady:function(){A(!0),(0,s.track)(u.events.PAYMENT_METHOD_FORM_USED,{action:"viewed",context:g,powerUpCategory:b})},options:{terms:{card:"never"},paymentMethodOrder:["google_pay","apple_pay","card"]}}),(0,r.jsx)(i.AddressElement,{onLoadError:function(){return q(!0)},options:{mode:"billing",fields:{phone:"never"}},onChange:function(e){e.complete&&(null==w||w(e.value.address))}})]}):(0,r.jsxs)(p.Text,{children:["Something went wrong. Please contact us at"," ",(0,r.jsx)("a",{href:"mailto:support@replit.com",children:"support@replit.com"}),"."]})}),I?(0,r.jsxs)(r.Fragment,{children:[W,(0,r.jsxs)(f.View,{gap:8,children:[(0,r.jsx)(c.PaymentFlowButton,{initialStateTextOverride:t,isMakingPayment:l,type:"submit",disabled:B||!C||!k||L||E,showProcessingState:B,showSuccessState:L,initialIconOverride:a}),x]})]}):null,R?(0,r.jsx)(p.Text,{css:_.errorText,children:R}):null,I?(0,r.jsx)(P,{teamsTerms:S,disclaimerTextAction:m}):null]})})}e.s(["StripePaymentTerms",()=>P,"default",()=>k],333342)},911928,e=>{"use strict";var t=e.i(878420),n=e.i(64386),r=e.i(886513),o=e.i(368964),i=e.i(569384),a=e.i(973245),s=e.i(304277);function u(){var e=(0,i._)(["\n  query IsOnTrialPlan {\n    currentUser {\n      id\n      userSubscriptionType\n      userSubscription {\n        isTrial\n      }\n      billingInfo {\n        planInfo {\n          cancelAt\n        }\n      }\n    }\n  }\n"]);return u=function(){return e},e}e.i(566901);var c={},l=(0,a.gql)(u()),d=function(e){var i,a,u,d,p,f,m,h,g=(i=(0,t._)({},c,e),s.useQuery(l,i)),y=g.data,v=(0,r._)(g,["data"]),b=(null==y||null==(a=y.currentUser)?void 0:a.userSubscriptionType)===o.UserSubscriptionTypeEnum.HackerPro,x=null!=(h=null==y||null==(d=y.currentUser)||null==(u=d.userSubscription)?void 0:u.isTrial)&&h,S=x&&!!(null==y||null==(m=y.currentUser)||null==(f=m.billingInfo)||null==(p=f.planInfo)?void 0:p.cancelAt);return(0,n._)((0,t._)({},v),{isOnTrialPlan:x,trialWillCancel:S,isPro:b})};e.s(["useIsOnTrialPlan",()=>d],911928)},417939,e=>{"use strict";var t=e.i(913243);function n(e){var n;return("card_error"===e.type||"validation_error"===e.type||"invalid_request_error"===e.type)&&e.message?e.message:((0,t.captureSentryException)("Stripe Elements error: ".concat(null!=(n=e.message)?n:"unknown"),{extra:{message:e.message,type:e.type,code:e.code,declineCode:e.decline_code,docUrl:e.doc_url,paymentIntent:e.payment_intent,paymentMethod:e.payment_method,setupIntent:e.setup_intent,source:e.source}}),"Something went wrong. Please contact support.")}var r={return_url:window.location.href},o={currency:"usd",payment_method_types:["card"]};e.s(["basicStripeElementsOptions",()=>o,"generateStripeErrorMessage",()=>n,"stripeElementsConfirmParams",()=>r])},845228,284325,e=>{"use strict";var t=e.i(297083),n=e.i(878420),r=e.i(64386),o=e.i(530658),i=e.i(817556),a=e.i(276385),s=e.i(900130),u=e.i(596139),c=e.i(82464),l=e.i(441329),d=e.i(858248),p=e.i(709485),f=e.i(913243),m=e.i(333342),h=e.i(911928),g=e.i(417939),y=e.i(884151),v=e.i(399528),b=e.i(389959),x=e.i(908410),S=e.i(134628),w=e.i(479407);function E(){var e=(0,v.useRouter)(),t=(0,l.doesBonsaiWebviewSupportFeature)(e,"stripePayment")&&(0,l.isInBonsaiWebview)(e);return{showPaymentFlow:(0,b.useCallback)(function(e){var n={messageType:S.BridgeMessageType.SHOW_PAYMENT_FLOW,flow:e};switch(e.type){case"setup":if(!t)break;(0,w.sendMessage)(n,(0,x.nanoid)());break;case"setUsageLimits":(0,w.sendMessage)(n,(0,x.nanoid)())}},[t])}}e.s(["default",()=>E],284325);var C=e.i(613355),j=e.i(396776),_=e.i(625484),k=e.i(363201);function P(e){var v,b=e.onClose,x=e.context,S=e.powerUpCategory,w=e.children,P=e.buttonText,T=e.buttonIcon,I=(0,l.useDoesBonsaiWebviewSupportFeature)("stripePayment"),A=(0,s.useSetupIntentFormCurrentUserEmailVerificationQuery)({skip:I}).data,O=E().showPaymentFlow,B=(0,h.useIsOnTrialPlan)(),U=B.isOnTrialPlan,N=B.isPro,L=B.trialWillCancel,M=(0,o._)((0,s.useCreateStripeSetupIntentMutation)(),1)[0],D=(0,o._)((0,s.usePollPaymentMethodLazyQuery)(),2),R=D[0],F=D[1].stopPolling;return((0,y.default)({onChange:R}),I)?(O({type:"setup",source:null!=x?x:"new_payment_method_form"}),b(),null):(null==A||null==(v=A.currentUser)?void 0:v.isVerified)===!1?(0,a.jsx)(_.View,{css:[C.rcss.height("100%"),C.rcss.center],children:(0,a.jsx)(c.default,{})}):(0,a.jsxs)(_.View,{gap:8,children:[U&&!L?(0,a.jsx)(j.StatusBanner,{colorway:"primary",icon:(0,a.jsx)(k.default,{}),text:(0,a.jsxs)(a.Fragment,{children:["Adding a payment method will set your Replit"," ",N?u.corePlanName:u.hackerPlanName," membership to auto-renew at the end of the trial. Cancel anytime from your"," ",(0,a.jsx)("a",{css:C.rcss.color.foregroundDefault,href:"/account#billing",target:"_blank",children:"account settings"}),"."]})}):null,(0,a.jsx)(m.default,{elementsOptions:(0,r._)((0,n._)({},g.basicStripeElementsOptions),{mode:"setup"}),isPayment:!1,onSubmit:function(e){return(0,t._)(function(e){var n,r,o,a,s,u;return(0,i._)(this,function(c){switch(c.label){case 0:return n=e.stripe,r=e.elements,o=e.onError,a=e.onSubmitComplete,[4,r.submit()];case 1:if(s=c.sent().error)return u=(0,g.generateStripeErrorMessage)(s),o(u),[2];return M({variables:{input:{}},onError:function(e){o(e.message),(0,f.captureSentryException)("Error in NewPaymentMethodForm when creating Setup Intent: "+e.message)},onCompleted:function(e){var s=e.createSetupIntent;return(0,t._)(function(){var e,t,u,c;return(0,i._)(this,function(i){switch(i.label){case 0:if("CreateSetupIntentResult"!==s.__typename)return o(s.message),[2];return[4,n.confirmSetup({elements:r,clientSecret:s.clientSecret,confirmParams:g.stripeElementsConfirmParams,redirect:"if_required"})];case 1:var l,f,m,h;return t=(e=i.sent()).error,u=e.setupIntent,t?(c=(0,g.generateStripeErrorMessage)(t),o(c)):null===u.payment_method||"string"!=typeof u.payment_method?o("Something went wrong. Please try again."):(f=(l={onSubmitComplete:a,onError:o,newPaymentMethod:u.payment_method}).onError,m=l.onSubmitComplete,h=l.newPaymentMethod,F(),R({fetchPolicy:"cache-and-network",ssr:!1,pollInterval:1500,onCompleted:function(e){var t,n,r,o,i,a;(null==e||null==(n=e.currentUser)||null==(t=n.paymentMethod)?void 0:t.__typename)==="UnauthorizedError"&&(F(),f(e.currentUser.paymentMethod.message)),(null==e||null==(o=e.currentUser)||null==(r=o.paymentMethod)?void 0:r.__typename)==="PaymentMethod"&&(null==e||null==(a=e.currentUser)||null==(i=a.paymentMethod)?void 0:i.externalId)===h&&(F(),(0,d.track)(p.events.PAYMENT_METHOD_FORM_USED,{action:"payment_method_saved",context:x,powerUpCategory:S}),m(),setTimeout(function(){b()},1e3))},onError:function(e){F(),f(e.message)}})),[2]}})})()}}),[2]}})}).apply(this,arguments)},submitButtonText:null!=P?P:"Save payment method",submitButtonIcon:T,disclaimerTextAction:"adding this payment method",context:x,powerUpCategory:S,children:w})]})}e.s(["NewPaymentMethodForm",()=>P],845228)},765219,e=>{"use strict";var t=e.i(530658),n=e.i(276385),r=e.i(389959),o=e.i(596139),i=e.i(845228),a=e.i(480028),s=e.i(446530),u=e.i(613355),c=e.i(140487),l=e.i(91720),d=e.i(136540),p=e.i(11235),f=e.i(960178),m=e.i(625484),h=e.i(352767),g=e.i(774792),y=e.i(821488),v=e.i(42458);function b(e){var i=e.suspensionScheduledTime,s=e.onDone,u=e.context,d=(0,t._)((0,r.useState)(!1),2),h=d[0],b=d[1];if(h)return(0,n.jsx)(x,{onDone:s,onBack:function(){return b(!1)}});var w=i?new Date(i).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):null;return"org"===u.type?(0,n.jsxs)(m.View,{p:16,gap:16,children:[(0,n.jsxs)(m.View,{row:!0,gap:8,align:"center",children:[(0,n.jsx)(v.default,{size:20,color:a.tokens.orangeStronger}),(0,n.jsx)(f.Text,{variant:"subheadDefault",children:"Payment required to avoid suspension"})]}),(0,n.jsxs)(m.View,{gap:16,children:[(0,n.jsxs)(f.Text,{children:["Your recent payment for your team ",u.orgName,"'s plan didn’t go through. To prevent an interruption in your team's services, please update your team's payment method or pay the outstanding balance directly."]}),(0,n.jsxs)(p.Prose,{children:[(0,n.jsx)(f.Text,{children:"What this means:"}),(0,n.jsxs)("ul",{css:S.usageList,children:[(0,n.jsx)("li",{children:"Members of your team cannot create new deployments or access AI services until payment is cleared."}),(0,n.jsxs)("li",{children:["If payment is not made",w?" by ".concat(w):"",", active deployments of your team will be suspended and taken offline."]})]})]}),(0,n.jsxs)(m.View,{css:S.buttonContainer,row:!0,children:[(0,n.jsx)(m.View,{gap:8,children:(0,n.jsx)(l.ButtonLink,{iconLeft:(0,n.jsx)(y.default,{}),text:"View and pay invoices",href:"/orb-customer-portal/org/".concat(u.orgId),target:"_blank"})}),(0,n.jsx)(m.View,{gap:8,children:(0,n.jsx)(c.Button,{iconLeft:(0,n.jsx)(g.default,{}),text:"Update payment method",colorway:"primary",onClick:function(){return b(!0)}})})]})]})]}):(0,n.jsxs)(m.View,{p:16,gap:16,children:[(0,n.jsxs)(m.View,{row:!0,gap:8,align:"center",children:[(0,n.jsx)(v.default,{size:20,color:a.tokens.orangeStronger}),(0,n.jsx)(f.Text,{variant:"subheadDefault",children:"Payment required to avoid suspension"})]}),(0,n.jsxs)(m.View,{gap:16,children:[(0,n.jsxs)(f.Text,{children:["Your recent payment for your Replit ",o.corePlanName," plan didn’t go through. To prevent an interruption in your services, please update your payment method or pay the outstanding balance directly."]}),(0,n.jsxs)(p.Prose,{children:[(0,n.jsx)(f.Text,{children:"What this means:"}),(0,n.jsxs)("ul",{css:S.usageList,children:[(0,n.jsx)("li",{children:"You cannot create new deployments or access AI services until payment is cleared."}),(0,n.jsxs)("li",{children:["If payment is not made",w?" by ".concat(w):"",", your active deployments will be suspended and taken offline."]})]})]}),(0,n.jsxs)(m.View,{css:S.buttonContainer,row:!0,children:[(0,n.jsx)(m.View,{gap:8,children:(0,n.jsx)(l.ButtonLink,{iconLeft:(0,n.jsx)(y.default,{}),text:"View and pay invoices",href:"/orb-customer-portal",target:"_blank"})}),(0,n.jsx)(m.View,{gap:8,children:(0,n.jsx)(c.Button,{iconLeft:(0,n.jsx)(g.default,{}),text:"Update payment method",colorway:"primary",onClick:function(){return b(!0)}})})]})]})]})}function x(e){var t=e.onDone,r=e.onBack;return(0,n.jsxs)(m.View,{gap:16,children:[(0,n.jsxs)(m.View,{row:!0,gap:8,align:"center",children:[(0,n.jsx)(d.IconButton,{alt:"Back",onClick:r,children:(0,n.jsx)(h.default,{})}),(0,n.jsx)(f.Text,{variant:"subheadDefault",multiline:!1,children:"Update Payment Method"})]}),(0,n.jsx)(i.NewPaymentMethodForm,{onClose:t,context:"suspension_grace_period"})]})}var S=(0,s.cssRecord)({usageList:[{paddingLeft:a.tokens.space12,li:[{listStyleType:"disc"}]}],buttonContainer:[u.rcss.gap(16),u.rcss.justify.spaceBetween,{"@media (max-width: 600px)":{flexDirection:"column"}}]});e.s(["PaymentMethodForm",()=>x,"UBBSuspensionGracePeriod",()=>b])},872122,e=>{"use strict";var t=e.i(530658),n=e.i(276385),r=e.i(389959),o=e.i(765219),i=e.i(480028),a=e.i(446530),s=e.i(613355),u=e.i(140487),c=e.i(91720),l=e.i(11235),d=e.i(960178),p=e.i(625484),f=e.i(71754),m=e.i(774792),h=e.i(821488),g=(0,a.cssRecord)({usageList:[{paddingLeft:i.tokens.space12,li:[{listStyleType:"disc"}]}],buttonContainer:[s.rcss.gap(16),s.rcss.justify.spaceBetween,{"@media (max-width: 600px)":{flexDirection:"column"}}]});function y(e){var a=e.onDone,s=(0,t._)((0,r.useState)(!1),2),y=s[0],v=s[1];return y?(0,n.jsx)(o.PaymentMethodForm,{onDone:a,onBack:function(){return v(!1)}}):(0,n.jsxs)(p.View,{p:16,gap:16,children:[(0,n.jsxs)(p.View,{row:!0,gap:8,align:"center",children:[(0,n.jsx)(f.default,{size:20,color:i.tokens.accentNegativeDefault}),(0,n.jsx)(d.Text,{variant:"subheadDefault",children:"Services suspended"})]}),(0,n.jsxs)(p.View,{gap:16,children:[(0,n.jsx)(d.Text,{children:"Your account has been suspended due to a failed payment. To restore your services, please update your payment method or pay the outstanding balance directly."}),(0,n.jsxs)(l.Prose,{children:[(0,n.jsx)(d.Text,{children:"What this means:"}),(0,n.jsxs)("ul",{css:g.usageList,children:[(0,n.jsx)("li",{children:"Agent access, cloud services and deployments are halted."}),(0,n.jsx)("li",{children:"Active deployments are offline and inaccessible."})]})]}),(0,n.jsxs)(p.View,{row:!0,css:g.buttonContainer,children:[(0,n.jsx)(p.View,{gap:8,children:(0,n.jsx)(c.ButtonLink,{iconLeft:(0,n.jsx)(h.default,{}),text:"View and pay invoices",href:"/orb-customer-portal",target:"_blank"})}),(0,n.jsx)(p.View,{gap:8,children:(0,n.jsx)(u.Button,{iconLeft:(0,n.jsx)(m.default,{}),text:"Update payment method",colorway:"primary",onClick:function(){return v(!0)}})})]})]})]})}e.s(["UBBSuspension",()=>y])},780026,e=>{"use strict";var t=e.i(530658),n=e.i(389959),r=e.i(878420),o=e.i(569384),i=e.i(973245),a=e.i(613141),s=e.i(304277);e.i(566901);var u=e.i(951262);function c(){var e=(0,o._)(["\n  fragment UsageBasedBillingSuspensionNotification on UsageBasedBillingSuspensionStatusNotification {\n    id\n    isDismissed\n    user {\n      id\n    }\n    org {\n      id\n      name\n    }\n    type\n    suspensionScheduledTime\n  }\n"]);return c=function(){return e},e}function l(){var e=(0,o._)(["\n  subscription UsageBasedBillingSuspensionNotifications($orgId: String) {\n    usageBasedBillingSuspensionStatusNotifications(orgId: $orgId) {\n      id\n      ...UsageBasedBillingSuspensionNotification\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function d(){var e=(0,o._)(["\n  query UsageBasedBillingSuspensionNotificationsCurrentUser {\n    currentUser {\n      id\n    }\n  }\n"]);return d=function(){return e},e}function p(){var e=(0,o._)(["\n  mutation DismissUbbSuspensionNotification(\n    $input: DismissUbbSuspensionNotificationInput!\n  ) {\n    dismissUbbSuspensionNotification(input: $input) {\n      ... on UsageBasedBillingSuspensionStatusNotification {\n        ...UsageBasedBillingSuspensionNotification\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}var f={},m=(0,i.gql)(c()),h=(0,i.gql)(l(),m),g=(0,i.gql)(d()),y=(0,i.gql)(p(),m),v=e.i(968783);function b(){var e,o,i,c,l,d,p=(0,v.useCurrentUserStoredOrgContext)().orgId,m=(e=(0,r._)({},f,void 0),s.useQuery(g,e)),b=m.data,x=m.loading,S=(o={variables:{orgId:null!=p?p:void 0},skip:(null==b||null==(l=b.currentUser)?void 0:l.__typename)!=="CurrentUser"||x},i=(0,r._)({},f,o),a.useSubscription(h,i)),w=S.data,E=S.loading,C=S.error,j=(0,t._)((c=(0,r._)({},f,void 0),u.useMutation(y,c)),1)[0],_=(0,t._)((0,n.useState)(null),2),k=_[0],P=_[1];return{suspensionNotification:(null==w||null==(d=w.usageBasedBillingSuspensionStatusNotifications)?void 0:d.__typename)==="UsageBasedBillingSuspensionStatusNotification"&&k!==w.usageBasedBillingSuspensionStatusNotifications.id?w.usageBasedBillingSuspensionStatusNotifications:null,suspensionNotificationsLoading:E,suspensionNotificationsError:C,handleDissmissNotification:function(e){P(e),j({variables:{input:{notificationId:e}}})}}}e.s(["useUBBSuspensionNotifications",()=>b],780026)},78433,e=>{"use strict";var t=e.i(368964),n=e.i(761201);function r(e){if(e>1)return"100%+";var t=(100*e).toLocaleString(void 0,{maximumFractionDigits:0});return"".concat(t,"%")}var o=["/home","/cycles","/usage","/account","/bounties","/templates","/extensions","/learn","/repls","/replEnvironmentDesktop","/replEnvironmentMobile","/new","/profile","/templates/templates","/my-teams"],i=function(e){return o.includes(e)||e.startsWith("/t/[orgSlug]")},a=function(e){var r,o,i,a,s,u="";switch(e.type){case"org":if((null==(o=e.orgDealContext)?void 0:o.dealType)===t.OrgDealType.Trial||(null==(i=e.orgDealContext)?void 0:i.dealType)===t.OrgDealType.EnterpriseTrial){r=e.isAdmin?"Your Replit Teams trial has ended. Contact ".concat(null!=(s=null==(a=e.orgDealContext)?void 0:a.salesContactEmail)?s:n.SALES_TEAM_CONTACT_EMAIL," to resume services."):"Your Replit Teams trial has ended. Contact your team admin to resume services.";break}r=e.isSuspended?e.isAdmin?"Your team has been temporarily suspended due to a failed payment. Please update your team's payment method and address unpaid invoices to continue using Agent.":"Your team has been temporarily suspended due to a failed payment. Contact your team admin to continue using Agent.":e.isAdmin?"Your team has a failed payment. Please update your team's payment method to continue using Agent.":"Your team has a failed payment. Contact your team admin to continue using Agent.",u=e.isAdmin?"If you have already updated your team's payment method, please wait a few minutes and refresh the page.":"If your team admin has already updated your team's payment method, please wait a few minutes and refresh the page.";break;case"user":r=e.isSuspended?"Your account has been temporarily suspended due to a failed payment":"You have a failed payment. Please update your payment method to continue using Agent.",u="If you have already updated your payment method, please wait a few minutes and refresh the page."}return{headingText:r,subheadingText:u}};e.s(["convertDecimalToDisplayPercent",()=>r,"getUbbSuspensionDescription",()=>a,"shouldShowUsageAlert",()=>i])},879226,e=>{"use strict";var t=e.i(530658),n=e.i(276385),r=e.i(399528),o=e.i(389959),i=e.i(368964),a=e.i(851583),s=e.i(872122),u=e.i(765219),c=e.i(780026),l=e.i(78433),d=e.i(739521);function p(){var e,p=(0,r.useRouter)(),f=(0,l.shouldShowUsageAlert)(p.pathname),m=(0,o.useRef)(null),h=(0,t._)((0,o.useState)(!1),2),g=h[0],y=h[1],v=(0,c.useUBBSuspensionNotifications)(),b=v.suspensionNotification,x=v.suspensionNotificationsLoading,S=v.suspensionNotificationsError,w=v.handleDissmissNotification;return((0,o.useEffect)(function(){return m.current&&(clearTimeout(m.current),m.current=null),b?m.current=setTimeout(function(){y(!0)},300):y(!1),function(){m.current&&clearTimeout(m.current)}},[b]),!f||!b||x||S)?null:b.type===i.Ubb_Suspension_Status_NotificationstypeEnumType.InGracePeriod?(0,n.jsx)(d.Modal,{isOpen:g,onRequestClose:function(){y(!1)},preventOutsideModalClickClose:!0,children:(0,n.jsx)(u.UBBSuspensionGracePeriod,{context:b.org?{type:"org",orgId:b.org.id,orgName:b.org.name}:{type:"user"},suspensionScheduledTime:null!=(e=b.suspensionScheduledTime)?e:null,onDone:function(){y(!1),w(b.id)}})}):b.type===i.Ubb_Suspension_Status_NotificationstypeEnumType.Suspended?(0,n.jsx)(d.Modal,{isOpen:!0,onRequestClose:function(){w(b.id)},preventOutsideModalClickClose:!0,children:(0,n.jsx)(s.UBBSuspension,{onDone:function(){w(b.id)}})}):b.type===i.Ubb_Suspension_Status_NotificationstypeEnumType.Resolved?(0,n.jsx)(d.Modal,{isOpen:!0,onRequestClose:function(){w(b.id)},preventOutsideModalClickClose:!0,children:(0,n.jsx)(a.PaymentSuccessNotification,{})}):null}e.s(["UBBSuspensionNotificationModals",()=>p])}]);

//# debugId=efeba1e0-2e01-fd32-ce2d-ee4a4ff7f4f9
//# sourceMappingURL=447cc30c3b075c0b.js.map